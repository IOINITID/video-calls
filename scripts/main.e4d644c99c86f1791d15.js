(()=>{"use strict";var e,t={606:(e,t,r)=>{var a=r(3935),n=r(9704),l=r(9711),o=r(5974),i=r(2287),s=r(6403),c=r(9084),d=r(9669),p=r.n(d);const m="https://ioinitid-video-calls-server.herokuapp.com",u={Authorization:"user/authorization",Refresh:`${m}/api/user/refresh`,Registration:"user/registration",Logout:"user/logout",User:"user/user"},g=e=>y.request({method:"POST",url:u.Authorization,data:e}),x=()=>p().request({method:"GET",url:u.Refresh,withCredentials:!0}),h=e=>y.request({method:"POST",url:u.Registration,data:e}),f=()=>y.request({method:"GET",url:u.Logout}),v=()=>y.request({method:"GET",url:u.User}),E=e=>y.request({method:"PATCH",url:u.User,data:e}),b=e=>y.request({method:"POST",url:"/user/users",data:e}),y=p().create({withCredentials:!0,baseURL:`${m}/api`});y.interceptors.request.use((e=>(e.headers&&(e.headers.Authorization=`Bearer ${localStorage.getItem("token")}`),e))),y.interceptors.response.use((e=>e),(e=>{return void 0,null,t=function*(){const t=e.config;if(401===e.response.status)try{const e=yield x();return localStorage.setItem("token",e.data.accessToken),y.request(t)}catch(e){console.log(e),yield f(),localStorage.removeItem("token")}throw e},new Promise(((e,r)=>{var a=e=>{try{l(t.next(e))}catch(e){r(e)}},n=e=>{try{l(t.throw(e))}catch(e){r(e)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,n);l((t=t.apply(undefined,null)).next())}));var t}));const Z=(0,s.hg)("user/addMessageToChannel",(e=>{return void 0,t=[e],r=function*({channel:e,message:t}){return(yield y.post("/add-message-to-channel",{channel:e,message:t})).data},new Promise(((e,a)=>{var n=e=>{try{o(r.next(e))}catch(e){a(e)}},l=e=>{try{o(r.throw(e))}catch(e){a(e)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,l);o((r=r.apply(undefined,t)).next())}));var t,r})),C=(0,s.hg)("user/getApprovals",(()=>{return void 0,null,e=function*(){return(yield y.get("/approvals")).data},new Promise(((t,r)=>{var a=t=>{try{l(e.next(t))}catch(e){r(e)}},n=t=>{try{l(e.throw(t))}catch(e){r(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,n);l((e=e.apply(undefined,null)).next())}));var e})),w=(0,s.hg)("user/getChannelMessages",(e=>{return void 0,t=[e],r=function*({channel:e}){return(yield y.post("/get-channel-messages",{channel:e})).data},new Promise(((e,a)=>{var n=e=>{try{o(r.next(e))}catch(e){a(e)}},l=e=>{try{o(r.throw(e))}catch(e){a(e)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,l);o((r=r.apply(undefined,t)).next())}));var t,r})),k=(0,s.hg)("user/getChannels",(()=>{return void 0,null,e=function*(){return(yield y.get("/get-channels")).data},new Promise(((t,r)=>{var a=t=>{try{l(e.next(t))}catch(e){r(e)}},n=t=>{try{l(e.throw(t))}catch(e){r(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,n);l((e=e.apply(undefined,null)).next())}));var e})),S=(0,s.hg)("user/getInvites",(()=>{return void 0,null,e=function*(){return(yield y.get("/invites")).data},new Promise(((t,r)=>{var a=t=>{try{l(e.next(t))}catch(e){r(e)}},n=t=>{try{l(e.throw(t))}catch(e){r(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,n);l((e=e.apply(undefined,null)).next())}));var e})),I=(0,s.hg)("user/getFriendsAction",(()=>{return void 0,null,e=function*(){return(yield y.get("/friends")).data},new Promise(((t,r)=>{var a=t=>{try{l(e.next(t))}catch(e){r(e)}},n=t=>{try{l(e.throw(t))}catch(e){r(e)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,n);l((e=e.apply(undefined,null)).next())}));var e})),T=(0,s.oM)({name:"user",initialState:{isAuthorizated:!1,isLoading:!1,user:void 0,users:void 0,friends:[],invites:[],approvals:[],isCall:!1,isIncomingCall:!1,isCallAccepted:!1,isCallCanceled:!1,channels:[],channelMessages:[]},reducers:{setAuthorization:(e,{payload:t})=>{e.isAuthorizated=t},setIsLoading:(e,{payload:t})=>{e.isLoading=t},setUser:(e,{payload:t})=>{e.user=t},setUsers:(e,{payload:t})=>{e.users=t},setIsCall:(e,{payload:t})=>{e.isCall=t},setIsIncomingCall:(e,{payload:t})=>{e.isIncomingCall=t},setIsCallAccepted:(e,{payload:t})=>{e.isCallAccepted=t},setIsCallCanceled:(e,{payload:t})=>{e.isCallCanceled=t}},extraReducers:e=>{e.addCase(I.fulfilled,((e,{payload:t})=>{e.friends=t})),e.addCase(S.fulfilled,((e,{payload:t})=>{e.invites=t})),e.addCase(C.fulfilled,((e,{payload:t})=>{e.approvals=t})),e.addCase(k.fulfilled,((e,{payload:t})=>{e.channels=t})),e.addCase(w.fulfilled,((e,{payload:t})=>{e.channelMessages=t})),e.addCase(Z.fulfilled,((e,{payload:t})=>{e.channelMessages=[...e.channelMessages,t]}))}}),{setAuthorization:z,setIsLoading:R,setUser:A,setUsers:G,setIsCall:P,setIsIncomingCall:$,setIsCallAccepted:j,setIsCallCanceled:O}=T.actions,M=T.reducer;var B=r(4857);const W=(0,s.PH)("user/postAuthorizationAction"),N=(0,s.PH)("user/getRefreshAction"),_=(0,s.PH)("user/postRegistrationAction"),D=(0,s.PH)("user/postLogoutAction"),L=(0,s.PH)("user/getUserAction"),U=(0,s.PH)("user/patchUserAction"),H=(0,s.PH)("user/getUsersAction");var q=r(2132);const F=function*({payload:e}){var t;try{yield(0,B.gz)(R(!0));const t=yield(0,B.RE)(g,e);yield(0,B.gz)(R(!1)),yield(0,B.gz)(z(!0)),localStorage.setItem("token",t.data.accessToken)}catch(e){if(console.error(e),yield(0,B.gz)(R(!1)),p().isAxiosError(e))return q.Am.error(null==(t=e.response)?void 0:t.data.message);q.Am.error("Ошибка авторизации. Проверьте логин и пароль.")}},Y=function*(){try{const e=yield(0,B.RE)(x);yield(0,B.gz)(z(!0)),localStorage.setItem("token",e.data.accessToken)}catch(e){console.error(e)}},V=function*({payload:e}){try{const t=yield(0,B.RE)(h,e);yield(0,B.gz)(z(!0)),localStorage.setItem("token",t.data.accessToken)}catch(e){console.error(e)}},J=function*(){try{yield(0,B.RE)(f),yield(0,B.gz)(z(!1)),localStorage.removeItem("token")}catch(e){console.error(e)}},K=function*(){try{const e=yield(0,B.RE)(v);yield(0,B.gz)(A(e.data))}catch(e){console.error(e)}},Q=function*({payload:e}){try{const t=yield(0,B.RE)(E,e);yield(0,B.gz)(A(t.data))}catch(e){console.error(e)}},X=function*({payload:e}){try{const t=yield(0,B.RE)(b,e);yield(0,B.gz)(G(t.data))}catch(e){console.error(e)}},ee=[function*(){yield(0,B.$6)([(0,B.ib)(W.type,F),(0,B.ib)(N.type,Y),(0,B.ib)(_.type,V),(0,B.ib)(D.type,J),(0,B.ib)(L.type,K),(0,B.ib)(U.type,Q),(0,B.ib)(H.type,X)])}],te=(0,c.ZP)(),re=(0,s.xC)({reducer:{user:M},middleware:[te]});te.run((function*(){yield(0,B.$6)(ee.map((e=>(0,B.rM)(e))))}));var ae=r(7294);const ne=e=>e.user.isAuthorizated,le=e=>e.user.isLoading,oe=e=>e.user.user,ie=e=>e.user.users,se=e=>e.user.friends,ce=e=>e.user.invites,de=e=>e.user.approvals,pe=e=>e.user.channelMessages;var me=r(6974),ue=r(5251),ge=r(7294),xe=Object.defineProperty,he=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,Ee=(e,t,r)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const be=(0,ae.memo)((e=>{var t=((e,t)=>{var r={};for(var a in e)fe.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&he)for(var a of he(e))t.indexOf(a)<0&&ve.call(e,a)&&(r[a]=e[a]);return r})(e,[]);return ge.createElement(ue.Z,((e,t)=>{for(var r in t||(t={}))fe.call(t,r)&&Ee(e,r,t[r]);if(he)for(var r of he(t))ve.call(t,r)&&Ee(e,r,t[r]);return e})({},t))}));var ye=r(1508),Ze=r(2658),Ce=r(270),we=r(6867),ke=r(6634),Se=r(5697),Ie=r(2186),Te=r(4345),ze=r(4128);const Re=(0,Te.Z)({palette:{primary:{light:ze.Z.A400,main:ze.Z[500],dark:ze.Z[800]}}}),Ae=r.p+"assets/images/authorization-image.6642b50856b9fc50fde3936da1774bf9.jpg";var Ge=r(7294);const Pe=(0,ae.memo)((({children:e})=>Ge.createElement(ye.Z,{sx:{display:"grid",alignItems:"center",justifyContent:"center",height:"100%"}},e)));var $e=r(6236),je=r(7294);const Oe=(0,ae.memo)((()=>{const e=(0,n.I0)(),t=(0,me.s0)(),r=(0,n.v9)(le),[a,l]=(0,ae.useState)(""),[o,s]=(0,ae.useState)(""),[c,d]=(0,ae.useState)(!1);return je.createElement(Pe,null,je.createElement(ye.Z,{sx:{display:"grid",width:"920px",gridTemplateColumns:"448px 472px",borderRadius:"20px",border:`1px solid ${Re.palette.grey[300]}`,overflow:"hidden"}},je.createElement(ye.Z,null,je.createElement("img",{className:i.iv`
              width: 100%;
              height: 100%;
              object-fit: cover;
            `,src:Ae,alt:"Илюстрация."})),je.createElement(ye.Z,{sx:{padding:"48px 56px",backgroundColor:`${Re.palette.common.white}`}},je.createElement(ye.Z,{sx:{display:"grid",rowGap:"16px"}},je.createElement(ye.Z,{sx:{display:"grid",rowGap:"32px"}},je.createElement(ye.Z,{sx:{display:"grid",rowGap:"32px"}},je.createElement(Ze.Z,{variant:"h5"},"Войти в свой профиль"),je.createElement(ye.Z,{sx:{display:"grid",rowGap:"24px"}},je.createElement(be,{type:"email",id:"email",name:"email",label:"Адрес электронной почты",value:a,onChange:e=>l(e.target.value),placeholder:"Введите ваш email",autoComplete:"off",fullWidth:!0}),je.createElement(be,{type:c?"text":"password",id:"password",name:"password",label:"Пароль",value:o,onChange:e=>s(e.target.value),placeholder:"Введите ваш пароль",autoComplete:"off",fullWidth:!0,InputProps:{endAdornment:je.createElement(Ce.Z,{position:"end"},je.createElement(we.Z,{onClick:()=>d(!c)},c?je.createElement(Se.Z,null):je.createElement(Ie.Z,null)))}}))),je.createElement($e.Z,{variant:"contained",color:"primary",size:"large",loading:r,onClick:()=>{e(W({email:a,password:o}))}},"Войти")),je.createElement(Ze.Z,{variant:"subtitle2"},"У Вас ещё нет профиля?"," ",je.createElement(ke.Z,{sx:{cursor:"pointer"},underline:"hover",onClick:e=>{e.preventDefault(),t("/registration")}},"Зарегистрироваться"))))))}));var Me=r(7294);const Be=(0,ae.memo)((()=>{const e=(0,n.I0)(),t=(0,me.s0)(),r=(0,n.v9)(le),[a,l]=(0,ae.useState)(""),[o,s]=(0,ae.useState)(""),[c,d]=(0,ae.useState)(""),[p,m]=(0,ae.useState)(!1);return Me.createElement(Pe,null,Me.createElement(ye.Z,{sx:{display:"grid",width:"920px",gridTemplateColumns:"448px 472px",borderRadius:"20px",border:`1px solid ${Re.palette.grey[300]}`,overflow:"hidden"}},Me.createElement(ye.Z,null,Me.createElement("img",{className:i.iv`
              width: 100%;
              height: 100%;
              object-fit: cover;
            `,src:Ae,alt:"Илюстрация."})),Me.createElement(ye.Z,{sx:{padding:"48px 56px",backgroundColor:`${Re.palette.common.white}`}},Me.createElement(ye.Z,{sx:{display:"grid",rowGap:"16px"}},Me.createElement(ye.Z,{sx:{display:"grid",rowGap:"24px"}},Me.createElement(ye.Z,{sx:{display:"grid",rowGap:"32px"}},Me.createElement(Ze.Z,{variant:"h5"},"Создать учётную запись"),Me.createElement(ye.Z,{sx:{display:"grid",rowGap:"24px"}},Me.createElement(ue.Z,{type:"email",id:"email",name:"email",label:"Адрес электронной почты",value:a,onChange:e=>l(e.target.value),placeholder:"Введите ваш email",autoComplete:"off",fullWidth:!0}),Me.createElement(ue.Z,{type:"text",id:"name",name:"name",label:"Имя пользователя",value:o,onChange:e=>s(e.target.value),placeholder:"Введите ваше имя",autoComplete:"off",fullWidth:!0}),Me.createElement(ue.Z,{type:p?"text":"password",id:"password",name:"password",label:"Пароль",value:c,onChange:e=>d(e.target.value),placeholder:"Введите ваш пароль",autoComplete:"off",fullWidth:!0,InputProps:{endAdornment:Me.createElement(Ce.Z,{position:"end"},Me.createElement(we.Z,{onClick:()=>m(!p)},p?Me.createElement(Se.Z,null):Me.createElement(Ie.Z,null)))}}))),Me.createElement(ye.Z,{sx:{display:"grid",rowGap:"32px"}},Me.createElement(Ze.Z,{variant:"caption",color:Re.palette.grey[500]},"Регистрируясь, Вы соглашаетесь с"," ",Me.createElement(ke.Z,{sx:{cursor:"pointer"},underline:"hover"},"политикой обработки персональных данных")),Me.createElement($e.Z,{variant:"contained",color:"primary",size:"large",loading:r,onClick:()=>{e(_({email:a,name:o,password:c}))}},"Зарегистрироваться"))),Me.createElement(Ze.Z,{variant:"subtitle2"},Me.createElement(ke.Z,{sx:{cursor:"pointer"},underline:"hover",onClick:e=>{e.preventDefault(),t("/authorization")}},"Уже зарегистрированы?"))))))}));var We=r(7294);const Ne=(0,ae.memo)((()=>We.createElement(me.Z5,null,We.createElement(me.AW,{path:"authorization",element:We.createElement(Oe,null)}),We.createElement(me.AW,{path:"registration",element:We.createElement(Be,null)}),We.createElement(me.AW,{path:"*",element:We.createElement(me.Fg,{to:"authorization"})}))));var _e=r(6914),De=r(7294),Le=Object.defineProperty,Ue=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,Fe=(e,t,r)=>t in e?Le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ye=(0,ae.memo)((e=>{var t=e,{children:r}=t,a=((e,t)=>{var r={};for(var a in e)He.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&Ue)for(var a of Ue(e))t.indexOf(a)<0&&qe.call(e,a)&&(r[a]=e[a]);return r})(t,["children"]);return De.createElement(_e.Z,((e,t)=>{for(var r in t||(t={}))He.call(t,r)&&Fe(e,r,t[r]);if(Ue)for(var r of Ue(t))qe.call(t,r)&&Fe(e,r,t[r]);return e})({disableElevation:!0},a),r)}));var Ve=r(2855),Je=r(4433),Ke=r(5683),Qe=r(6454),Xe=r(7720),et=r(7294);const tt=(0,ae.memo)((()=>{const e=(0,me.s0)();return et.createElement(ye.Z,{sx:{display:"grid",rowGap:"24px",height:"100%",alignContent:"start",padding:"25px 16px",justifyContent:"center"}},et.createElement(ye.Z,{sx:{display:"grid",rowGap:"16px"}},et.createElement(Qe.Z,{title:"Друзья",arrow:!0,placement:"right"},et.createElement(ye.Z,{sx:{display:"grid",padding:"8px",backgroundColor:Re.palette.grey[400],cursor:"pointer",borderRadius:"8px",justifyContent:"center",width:"40px"},onClick:()=>e("/friends")},et.createElement(Ve.Z,null))),et.createElement(Qe.Z,{title:"Каналы",arrow:!0,placement:"right"},et.createElement(ye.Z,{sx:{display:"grid",padding:"8px",backgroundColor:Re.palette.grey[400],cursor:"pointer",borderRadius:"8px",justifyContent:"center",width:"40px"},onClick:()=>e("/channels")},et.createElement(Je.Z,null)))),et.createElement(Xe.Z,null),et.createElement(Qe.Z,{title:"Профиль",arrow:!0,placement:"right"},et.createElement(ye.Z,{sx:{display:"grid",padding:"8px",backgroundColor:Re.palette.grey[400],cursor:"pointer",borderRadius:"8px",justifyContent:"center",width:"40px"},onClick:()=>e("/profile")},et.createElement(Ke.Z,null))))}));var rt=r(1196),at=r(7109),nt=r(720),lt=r(251);const ot=(0,r(3213).io)(m,{transports:["websocket"]});var it=r(7294);const st=(0,ae.memo)((({name:e,status:t,channelId:r})=>{const a=(0,n.v9)(oe),l=(0,me.s0)();return it.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr max-content",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",":hover":{backgroundColor:Re.palette.grey[300],".delete-icon":{display:"grid"}},".MuiBadge-badge":{border:`1px solid ${Re.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:Re.palette.success.light},".MuiBadge-colorError":{backgroundColor:Re.palette.error.light}},onClick:()=>{ot.emit("on-channel-join",r,null==a?void 0:a.id),l("/messages")}},it.createElement(rt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===t?"success":"error"},it.createElement(at.Z,{sx:{backgroundColor:nt.Z[500]}})),it.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content"}},it.createElement(Ze.Z,{variant:"body2"},e||""),it.createElement(Ze.Z,{variant:"caption"},"В сети")),it.createElement(ye.Z,{className:"delete-icon",sx:{display:"none"}},it.createElement(we.Z,null,it.createElement(lt.Z,{sx:{color:Re.palette.grey[700]}}))))}));var ct=r(3996),dt=r(5338),pt=r(5838),mt=r(3847),ut=r(7294);const gt=(0,ae.memo)((()=>{const e=(0,n.v9)(oe),[t,r]=(0,ae.useState)(!1),[a,l]=(0,ae.useState)(!1);return ut.createElement(ye.Z,{sx:{display:"grid",alignItems:"center",backgroundColor:Re.palette.grey[300],padding:"12px 20px"}},ut.createElement(ye.Z,{sx:{display:"grid",columnGap:"8px",gridTemplateColumns:"40px 1fr 96px"}},ut.createElement(ye.Z,{sx:{".MuiBadge-badge":{border:`1px solid ${Re.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:Re.palette.success.light},".MuiBadge-colorError":{backgroundColor:Re.palette.error.light}}},ut.createElement(rt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===(null==e?void 0:e.status)?"success":"error"},ut.createElement(at.Z,{sx:{backgroundColor:null==e?void 0:e.color},src:null==e?void 0:e.image}))),ut.createElement(ye.Z,null,ut.createElement(Ze.Z,{variant:"body2"},null==e?void 0:e.name),ut.createElement(Ze.Z,{sx:{color:Re.palette.grey[500]},variant:"caption"},"#",null==e?void 0:e.id.slice(-4))),ut.createElement(ye.Z,{sx:{display:"grid",columnGap:"16px",gridTemplateColumns:"repeat(2, 40px)",alignItems:"center"}},ut.createElement(we.Z,{onClick:()=>r(!t)},t?ut.createElement(ct.Z,{sx:{color:Re.palette.grey[700]}}):ut.createElement(dt.Z,{sx:{color:Re.palette.grey[700]}})),ut.createElement(we.Z,{onClick:()=>l(!a)},a?ut.createElement(pt.Z,{sx:{color:Re.palette.grey[700]}}):ut.createElement(mt.Z,{sx:{color:Re.palette.grey[700]}})))))}));var xt=r(7294);const ht=(0,ae.memo)((()=>{const e=(0,me.s0)(),{pathname:t}=(0,me.TH)(),[r,a]=(0,ae.useState)();return(0,ae.useEffect)((()=>{}),[]),xt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"72px 376px 1fr",height:"100%",backgroundColor:Re.palette.common.white}},xt.createElement(ye.Z,{sx:{backgroundColor:Re.palette.grey[200]}},xt.createElement(tt,null)),xt.createElement(ye.Z,{sx:{display:"grid",gridTemplateRows:"72px max-content 1fr 64px",backgroundColor:Re.palette.grey[400],overflow:"hidden"}},xt.createElement(ye.Z,{sx:{padding:"24px 20px",borderBottom:`1px solid ${Re.palette.grey[600]}`}},xt.createElement(Ze.Z,{variant:"h6"},"Личные сообщения")),xt.createElement(ye.Z,{sx:{padding:"16px"}},xt.createElement(Ye,{fullWidth:!0,variant:"contained",onClick:()=>e("/friends")},"Друзья")),xt.createElement(ye.Z,{sx:{margin:"28px 4px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:Re.palette.grey[300],border:`1px solid ${Re.palette.grey[500]}`,borderRadius:"8px"}}},xt.createElement(ye.Z,{sx:{display:"grid",rowGap:"12px",padding:"0 4px"}},null==r?void 0:r.map((e=>xt.createElement(st,{key:e.userData._id,id:e.userData._id,name:e.userData.name,status:e.userData.status,email:e.userData.email,channelId:e.value._id}))))),xt.createElement(gt,null)),xt.createElement(ye.Z,{sx:{display:"grid",gridTemplateRows:"72px 1fr",backgroundColor:Re.palette.grey[500],overflow:"hidden"}},xt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",padding:"16px 24px",borderBottom:`1px solid ${Re.palette.grey[400]}`,alignItems:"center"}},xt.createElement(Ze.Z,{variant:"h6"},"Друзья"),xt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(5, max-content)",columnGap:"8px"}},xt.createElement(Ye,{variant:t.includes("all-friends")?"contained":"outlined",color:"primary",onClick:()=>e("all-friends")},"Все друзья"),xt.createElement(Ye,{variant:t.includes("friends-online")?"contained":"outlined",color:"primary",onClick:()=>e("friends-online")},"В сети"),xt.createElement(Ye,{variant:t.includes("friends-invites")?"contained":"outlined",color:"primary",onClick:()=>e("friends-invites")},"Заявки"),xt.createElement(Ye,{variant:t.includes("friends-approvals")?"contained":"outlined",color:"primary",onClick:()=>e("friends-approvals")},"Ожидание"),xt.createElement(Ye,{variant:t.includes("add-to-friends")?"contained":"outlined",color:"success",onClick:()=>e("add-to-friends")},"Добавить в друзья"))),xt.createElement(me.j3,null)))}));var ft=r(7294);const vt=(0,ae.memo)((()=>{const e=(0,me.s0)(),t=(0,n.v9)(oe),r=(0,n.I0)(),a=(0,n.v9)(pe),[l,o]=(0,ae.useState)(),[i,s]=(0,ae.useState)(""),[c,d]=(0,ae.useState)("");return(0,ae.useEffect)((()=>{ot.on("on-channel-join",((e,t)=>{console.log("Сообщение в канале:",e),d(t),t&&r(w({channel:t}))})),c&&r(w({channel:c})),ot.on("on-message",(e=>{e&&r(w({channel:e}))}))}),[]),ft.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"72px 376px 1fr",height:"100%",backgroundColor:Re.palette.common.white}},ft.createElement(ye.Z,{sx:{backgroundColor:Re.palette.grey[200]}},ft.createElement(tt,null)),ft.createElement(ye.Z,{sx:{display:"grid",gridTemplateRows:"72px max-content 1fr 64px",backgroundColor:Re.palette.grey[400],overflow:"hidden"}},ft.createElement(ye.Z,{sx:{padding:"24px 20px",borderBottom:`1px solid ${Re.palette.grey[600]}`}},ft.createElement(Ze.Z,{variant:"h6"},"Личные сообщения")),ft.createElement(ye.Z,{sx:{padding:"16px"}},ft.createElement(Ye,{fullWidth:!0,variant:"contained",onClick:()=>e("/friends/all-friends")},"Друзья")),ft.createElement(ye.Z,{sx:{margin:"28px 4px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:Re.palette.grey[300],border:`1px solid ${Re.palette.grey[500]}`,borderRadius:"8px"}}},ft.createElement(ye.Z,{sx:{display:"grid",rowGap:"12px",padding:"0 4px"}},null==l?void 0:l.map((e=>ft.createElement(st,{key:e.userData._id,id:e.userData._id,name:e.userData.name,status:e.userData.status,email:e.userData.email,channelId:e.value._id}))))),ft.createElement(gt,null)),ft.createElement(ye.Z,{sx:{display:"grid",gridTemplateRows:"1fr",backgroundColor:Re.palette.grey[500],overflow:"hidden"}},ft.createElement(ye.Z,{sx:{display:"grid",gridTemplateRows:"1fr max-content",rowGap:"16px",margin:"24px 16px",backgroundColor:Re.palette.common.white,borderRadius:"8px",padding:"16px",overflow:"hidden"}},ft.createElement(ye.Z,{sx:{display:"grid",padding:"8px",overflow:"hidden",gridTemplateRows:"max-content 1fr",rowGap:"16px"}},ft.createElement(Ze.Z,null,"Сообщения:"),ft.createElement(ye.Z,{sx:{display:"grid",overflow:"scroll",rowGap:"8px",alignContent:"start",height:"100%"}},null==a?void 0:a.map((e=>ft.createElement(ye.Z,{key:e._id,sx:{padding:"8px",border:"1px solid #000000",display:"grid",borderRadius:"8px"}},ft.createElement(st,{id:e._id,name:e.author.name,status:e.author.status,email:e.author.email}),ft.createElement(Ze.Z,null,e.text)))))),ft.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"1fr max-content",columnGap:"16px"}},ft.createElement(be,{type:"text",id:"message",name:"message",label:"Сообщение",value:i,onChange:e=>s(e.target.value),placeholder:"Введите текст сообщения"}),ft.createElement(Ye,{variant:"contained",color:"primary",onClick:()=>{c&&i&&(ot.emit("on-message",c,i,null==t?void 0:t.id),s(""))}},"Отправить сообщение"))),ft.createElement(me.j3,null)))}));var Et=r(7294);const bt=(0,ae.memo)((()=>{const e=(0,me.s0)(),t=(0,me.TH)();return Et.createElement(ye.Z,{sx:{padding:"60px 8px",backgroundColor:Re.palette.grey[200]}},Et.createElement(Ze.Z,{className:i.iv`
          padding: 6px 10px !important;
          font-weight: 700 !important;
          font-size: 12px !important;
          line-height: 16px !important;
          text-transform: uppercase;
        `},"Настройки пользователя"),Et.createElement("ul",{className:i.iv`
          display: grid;
          margin: 0;
          padding: 0;
          list-style: none;
          row-gap: 2px;
        `},Et.createElement("li",{className:i.iv`
            padding: 6px 10px !important;
            font-weight: 500 !important;
            font-size: 16px !important;
            line-height: 20px !important;
            background-color: ${t.pathname.includes("user-account")?`${Re.palette.grey[400]}80`:"none"};
            border-radius: 4px;
            cursor: pointer;

            &:hover,
            &:focus {
              background-color: ${Re.palette.grey[400]}80;
            }
          `},Et.createElement(ke.Z,{underline:"none",onClick:()=>e("user-account")},Et.createElement(Ze.Z,{className:i.iv`
                color: ${Re.palette.grey[700]};
              `},"Моя учётная запись"))),Et.createElement("li",{className:i.iv`
            padding: 6px 10px !important;
            font-weight: 500 !important;
            font-size: 16px !important;
            line-height: 20px !important;
            background-color: ${t.pathname.includes("user-profile")?`${Re.palette.grey[400]}80`:"none"};
            border-radius: 4px;
            cursor: pointer;

            &:hover,
            &:focus {
              background-color: ${Re.palette.grey[400]}80;
            }
          `},Et.createElement(ke.Z,{underline:"none",onClick:()=>e("user-profile")},Et.createElement(Ze.Z,{className:i.iv`
                color: ${Re.palette.grey[700]};
              `},"Профиль пользователя")))))}));var yt=r(7294);const Zt=(0,ae.memo)((()=>{const e=(0,me.s0)();return(0,ae.useEffect)((()=>{e("user-account")}),[]),yt.createElement(ye.Z,{sx:{display:"grid",width:"100%",height:"100%",backgroundColor:Re.palette.grey[500]}},yt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"224px 740px",height:"100%",justifyContent:"center",backgroundImage:"linear-gradient(to right, #eeeeee 50%, #9e9e9e 50%)"}},yt.createElement(bt,null),yt.createElement(me.j3,null)))}));var Ct=r(7294);const wt=(0,ae.memo)((()=>Ct.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"72px 376px 1fr",height:"100%",backgroundColor:Re.palette.common.white}},Ct.createElement(ye.Z,{sx:{backgroundColor:Re.palette.grey[200]}},Ct.createElement(tt,null)),Ct.createElement(ye.Z,{sx:{display:"grid",gridTemplateRows:"72px 1fr 64px",backgroundColor:Re.palette.grey[400],overflow:"hidden"}},Ct.createElement(ye.Z,{sx:{padding:"24px 20px",borderBottom:`1px solid ${Re.palette.grey[600]}`}},Ct.createElement(Ze.Z,{variant:"h6"},"Каналы")),Ct.createElement(ye.Z,{sx:{padding:"0 8px",margin:"28px 0",overflow:"scroll"}},Ct.createElement(ye.Z,{sx:{display:"grid",rowGap:"12px"}},Array.from(Array(25).keys()).map((e=>Ct.createElement(ye.Z,{key:e}))))),Ct.createElement(gt,null)),Ct.createElement(ye.Z,{sx:{backgroundColor:Re.palette.grey[600]}}))));var kt=r(7294);const St=(0,ae.memo)((()=>kt.createElement(wt,null)));var It=r(4125),Tt=r(1753),zt=r(8416),Rt=r(6046),At=r(7003),Gt=r(7294);const Pt=(0,ae.memo)((({id:e,name:t,status:r})=>{const[a,n]=(0,ae.useState)(null);return Gt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"}},Gt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${Re.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:Re.palette.success.light},".MuiBadge-colorError":{backgroundColor:Re.palette.error.light}}},Gt.createElement(rt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error"},Gt.createElement(at.Z,{sx:{backgroundColor:nt.Z[500]}})),Gt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content"}},Gt.createElement(Ze.Z,{variant:"body2"},t||""),Gt.createElement(Ze.Z,{variant:"caption"},"online"===r?"В сети":"Не в сети"))),Gt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 24px)",columnGap:"24px",alignItems:"center",justifyContent:"end"}},Gt.createElement(ye.Z,{sx:{cursor:"pointer"}},Gt.createElement(zt.Z,null)),Gt.createElement(ye.Z,{sx:{cursor:"pointer"}},Gt.createElement(Rt.Z,null)),Gt.createElement(ye.Z,{sx:{cursor:"pointer"},onClick:e=>n(e.currentTarget)},Gt.createElement(At.Z,null))),Gt.createElement(It.Z,{anchorEl:a,open:Boolean(a),onClose:()=>n(null),MenuListProps:{"aria-labelledby":"basic-button"}},Gt.createElement(Tt.Z,{onClick:()=>n(null)},"Написать"),Gt.createElement(Tt.Z,{onClick:()=>n(null)},"Позвонить"),Gt.createElement(Tt.Z,{onClick:()=>{return void 0,null,t=function*(){n(null);const t=yield y.post("/remove-from-friends",{friendId:e});return ot.emit("on-remove-from-friends",e),t.data},new Promise(((e,r)=>{var a=e=>{try{l(t.next(e))}catch(e){r(e)}},n=e=>{try{l(t.throw(e))}catch(e){r(e)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,n);l((t=t.apply(undefined,null)).next())}));var t}},"Удалить из друзей")))}));var $t=r(7294);const jt=(0,ae.memo)((()=>{const e=(0,n.v9)(se);return $t.createElement(ye.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:Re.palette.grey[300],border:`1px solid ${Re.palette.grey[500]}`,borderRadius:"8px"}}},$t.createElement(ye.Z,{sx:{padding:"8px 12px"}},$t.createElement(Ze.Z,{variant:"h6"},"Все друзья: ",e.length>0?e.length:0)),$t.createElement(ye.Z,{sx:{display:"grid",alignContent:"start",rowGap:"8px"}},e.map((e=>$t.createElement(Pt,{key:e._id,id:e._id,name:e.name,status:e.status})))))}));var Ot=r(7294);const Mt=(0,ae.memo)((()=>{const e=(0,n.v9)(se);return Ot.createElement(ye.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:Re.palette.grey[300],border:`1px solid ${Re.palette.grey[500]}`,borderRadius:"8px"}}},e.map((e=>"online"===e.status?Ot.createElement(Pt,{key:e._id,id:e._id,name:e.name,status:e.status}):null)))}));var Bt=r(7294),Wt=(e,t,r)=>new Promise(((a,n)=>{var l=e=>{try{i(r.next(e))}catch(e){n(e)}},o=e=>{try{i(r.throw(e))}catch(e){n(e)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,o);i((r=r.apply(e,t)).next())}));const Nt=(0,ae.memo)((({id:e,name:t,status:r})=>Bt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"}},Bt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${Re.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:Re.palette.success.light},".MuiBadge-colorError":{backgroundColor:Re.palette.error.light}}},Bt.createElement(rt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error"},Bt.createElement(at.Z,{sx:{backgroundColor:nt.Z[500]}})),Bt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content"}},Bt.createElement(Ze.Z,{variant:"body2"},t||""),Bt.createElement(Ze.Z,{variant:"caption"},"online"===r?"В сети":"Не в сети"))),Bt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",alignItems:"center",justifyContent:"end"}},Bt.createElement(Ye,{variant:"contained",color:"primary",onClick:()=>Wt(void 0,null,(function*(){const t=yield y.post("/add-to-friends",{friendId:e});return ot.emit("on-add-to-friends",e),t.data}))},"Добавить"),Bt.createElement(Ye,{variant:"contained",color:"primary",onClick:()=>Wt(void 0,null,(function*(){const t=yield y.post("/remove-invite-to-friends",{friendId:e});return ot.emit("on-remove-invite-to-friends",e),t.data}))},"Отклонить")))));var _t=r(7294);const Dt=(0,ae.memo)((()=>{const e=(0,n.v9)(ce);return _t.createElement(ye.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:Re.palette.grey[300],border:`1px solid ${Re.palette.grey[500]}`,borderRadius:"8px"}}},e.map((e=>_t.createElement(Nt,{key:e._id,id:e._id,name:e.name,status:e.status}))))}));var Lt=r(7294);const Ut=(0,ae.memo)((({id:e,name:t,status:r})=>Lt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"}},Lt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${Re.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:Re.palette.success.light},".MuiBadge-colorError":{backgroundColor:Re.palette.error.light}}},Lt.createElement(rt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error"},Lt.createElement(at.Z,{sx:{backgroundColor:nt.Z[500]}})),Lt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content"}},Lt.createElement(Ze.Z,{variant:"body2"},t||""),Lt.createElement(Ze.Z,{variant:"caption"},"online"===r?"В сети":"Не в сети"))),Lt.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",alignItems:"center",justifyContent:"end"}},Lt.createElement(Ze.Z,{variant:"body1"},"Ожидает добавления в друзья"),Lt.createElement(Ye,{variant:"contained",color:"primary",onClick:()=>{return void 0,null,t=function*(){const t=yield y.post("/remove-invite-to-friends",{friendId:e});return ot.emit("on-remove-invite-to-friends",e),t.data},new Promise(((e,r)=>{var a=e=>{try{l(t.next(e))}catch(e){r(e)}},n=e=>{try{l(t.throw(e))}catch(e){r(e)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,n);l((t=t.apply(undefined,null)).next())}));var t}},"Отклонить")))));var Ht=r(7294);const qt=(0,ae.memo)((()=>{const e=(0,n.v9)(de);return Ht.createElement(ye.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:Re.palette.grey[300],border:`1px solid ${Re.palette.grey[500]}`,borderRadius:"8px"}}},e.map((e=>Ht.createElement(Ut,{key:e._id,id:e._id,name:e.name,status:e.status}))))}));var Ft=r(7294);const Yt=(0,ae.memo)((({id:e,name:t,status:r,setSearchValue:a})=>Ft.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"}},Ft.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${Re.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:Re.palette.success.light},".MuiBadge-colorError":{backgroundColor:Re.palette.error.light}}},Ft.createElement(rt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error"},Ft.createElement(at.Z,{sx:{backgroundColor:nt.Z[500]}})),Ft.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content"}},Ft.createElement(Ze.Z,{variant:"body2"},t||""),Ft.createElement(Ze.Z,{variant:"caption"},"online"===r?"В сети":"Не в сети"))),Ft.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(1, max-content)",columnGap:"24px",alignItems:"center",justifyContent:"end"}},Ft.createElement(Ye,{variant:"contained",color:"primary",onClick:()=>{return void 0,null,t=function*(){a("");const t=yield y.post("/add-invite-to-friends",{friendId:e});return ot.emit("on-add-invite-to-friends",e),t.data},new Promise(((e,r)=>{var a=e=>{try{l(t.next(e))}catch(e){r(e)}},n=e=>{try{l(t.throw(e))}catch(e){r(e)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,n);l((t=t.apply(undefined,null)).next())}));var t}},"Добавить в друзья")))));var Vt=r(7294);const Jt=(0,ae.memo)((()=>{const e=(0,n.I0)(),t=(0,n.v9)(ie),[r,a]=(0,ae.useState)("");return(0,ae.useEffect)((()=>{r&&e(H({searchValue:r}))}),[r]),Vt.createElement(ye.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0"}},Vt.createElement(be,{fullWidth:!0,size:"small",placeholder:"Поиск по друзьям",value:r,onChange:e=>a(e.target.value)}),Vt.createElement(ye.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:Re.palette.grey[300],border:`1px solid ${Re.palette.grey[500]}`,borderRadius:"8px"}}},null==t?void 0:t.map((e=>Vt.createElement(Yt,{key:e.id,id:e.id,name:e.name,status:e.status,setSearchValue:a})))))}));var Kt=r(3816),Qt=r(2026),Xt=r(5196),er=r(4399),tr=r(1797),rr=r(9986),ar=r(4776),nr=r(7294);const lr=(0,ae.memo)((()=>{const e=(0,me.s0)(),t=(0,n.I0)(),r=(0,n.v9)(oe),[a,l]=(0,ae.useState)(""),[o,s]=(0,ae.useState)(""),[c,d]=(0,ae.useState)(""),[p,m]=(0,ae.useState)(""),[u,g]=(0,ae.useState)(""),[x,h]=(0,ae.useState)(!0),[f,v]=(0,ae.useState)(!1),{minutes:E,seconds:b}=(()=>{const[e,t]=(0,ae.useState)(0);return(0,ae.useEffect)((()=>{const e=setInterval((()=>{t((e=>e+1))}),1e3);return()=>clearInterval(e)}),[]),{minutes:Math.floor(e/60).toString().padStart(2,"0"),seconds:Number(e-60*Math.floor(e/60)).toString().padStart(2,"0")}})(),y=(0,ae.useRef)(null);return(0,ae.useEffect)((()=>{const t=t=>{"Escape"===t.key&&e("friends")};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[]),(0,ae.useEffect)((()=>{v(""!==p||""!==u)}),[p,u]),nr.createElement(ye.Z,{sx:{position:"relative",display:"grid",padding:"60px 40px 80px 40px",alignContent:"start",backgroundColor:"#9e9e9e"}},nr.createElement(rr.Z,{key:ar.Z.name,message:"Аккуратнее, вы не сохранили изменения!",TransitionComponent:ar.Z,open:f,sx:{"&":{position:"absolute",left:"40px",transform:"none",width:"100%",".MuiSnackbarContent-root":{width:"100%"}}},onClose:(e,t)=>{"clickaway"!==t&&v(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},action:nr.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content max-content",columnGap:"16px",alignItems:"center"}},nr.createElement(ke.Z,{sx:{cursor:"pointer"},underline:"hover",onClick:()=>{m(""),g("")}},nr.createElement(Ze.Z,null,"Сброс")),nr.createElement($e.Z,{variant:"contained",color:"success",onClick:()=>{t(U({color:p||void 0,image:u||void 0})),m(""),g("")}},"Сохранить изменения"))}),nr.createElement(Ze.Z,{className:i.iv`
          padding-bottom: 20px !important;
          font-weight: 600 !important;
          font-size: 20px !important;
          line-height: 24px !important;
          border-bottom: 1px solid #000000;
        `},"Профиль пользователя"),nr.createElement(ye.Z,{sx:{display:"grid",rowGap:"8px",position:"absolute",top:"60px",right:"-40px",textAlign:"center"},onClick:()=>e("/friends")},nr.createElement(Kt.Z,{sx:{width:"36px",height:"36px"}}),nr.createElement(Ze.Z,{sx:{fontSize:"13px"}},"ESC")),nr.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"340px 300px",columnGap:"20px",justifyContent:"space-between"}},nr.createElement(ye.Z,null,nr.createElement(ye.Z,{sx:{padding:"20px 0",borderBottom:"1px solid #000000"}},nr.createElement(Ze.Z,{className:i.iv`
                margin-bottom: 8px !important;
                font-weight: 600 !important;
                font-size: 12px !important;
                line-height: 16px !important;
                text-transform: uppercase !important;
              `},"Аватар"),nr.createElement(Ye,{variant:"contained",onClick:()=>{y.current&&y.current.click()}},"Смена аватара")),nr.createElement(ye.Z,{sx:{padding:"20px 0",borderBottom:"1px solid #000000"}},nr.createElement(Ze.Z,{className:i.iv`
                margin-bottom: 8px !important;
                font-weight: 600 !important;
                font-size: 12px !important;
                line-height: 16px !important;
                text-transform: uppercase !important;
              `},"Цвет профиля"),nr.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content max-content",columnGap:"16px"}},nr.createElement(ye.Z,null,nr.createElement(ye.Z,{sx:{display:"grid",alignItems:"center",justifyContent:"center",backgroundColor:null==r?void 0:r.color,width:"70px",height:"50px",borderRadius:"4px",cursor:"pointer"},onClick:()=>{h(!0)}},x&&nr.createElement(Qt.Z,{sx:{fill:"#ffffff"},width:24,height:24})),nr.createElement(Ze.Z,{className:i.iv`
                    font-size: 12px !important;
                    line-height: 16px !important;
                  `},"По умолчанию")),nr.createElement(ye.Z,{sx:{position:"relative"}},nr.createElement(ye.Z,{sx:{position:"relative",display:"grid",alignItems:"center",justifyContent:"center",backgroundColor:p,width:"70px",height:"50px",borderRadius:"4px",cursor:"pointer",border:p?"":"1px solid #000000"},onClick:()=>{m("#000000"),h(!1)}},!x&&nr.createElement(Qt.Z,{sx:{fill:"#ffffff"},width:24,height:24}),nr.createElement("input",{className:i.iv`
                      position: absolute;
                      top: 0;
                      left: 0;
                      width: 100%;
                      height: 100%;
                      cursor: pointer;
                      opacity: 0;
                    `,type:"color",value:p,onChange:e=>{m(e.target.value),h(!1)}})),nr.createElement(Xt.Z,{sx:{position:"absolute",top:"0",right:"8px"},width:14,height:14}),nr.createElement(Ze.Z,{className:i.iv`
                    font-size: 12px !important;
                    line-height: 16px !important;
                  `},"Пользовательские")))),nr.createElement(ye.Z,{sx:{padding:"20px 0"}},nr.createElement(Ze.Z,{className:i.iv`
                margin-bottom: 8px !important;
                font-weight: 600 !important;
                font-size: 12px !important;
                line-height: 16px !important;
                text-transform: uppercase !important;
              `},"Обо мне"),nr.createElement(Ze.Z,{className:i.iv`
                margin-bottom: 8px !important;
                font-size: 14px !important;
                line-height: 20px !important;
              `},"Можно использовать разметку теста и ссылки."),nr.createElement(be,{multiline:!0,rows:4,fullWidth:!0}))),nr.createElement(ye.Z,null,nr.createElement(ye.Z,{sx:{padding:"20px 0 0 0"}},nr.createElement(Ze.Z,{className:i.iv`
                margin-bottom: 8px !important;
                font-weight: 600 !important;
                font-size: 12px !important;
                line-height: 16px !important;
                text-transform: uppercase !important;
              `},"Предпросмотр")),nr.createElement(ye.Z,{sx:{display:"grid",gridTemplateRows:"60px 1fr",width:"300px",maxHeight:"429px",boxShadow:"0 8px 16px rgba(0,0,0,0.25)",borderRadius:"8px",overflow:"hidden"}},nr.createElement(ye.Z,{sx:{position:"relative",height:"60px",backgroundColor:null==r?void 0:r.color}},nr.createElement(ye.Z,{sx:{position:"absolute",top:"16px",left:"16px",width:"92px",height:"92px",backgroundImage:u?`url(${u})`:`url(${null==r?void 0:r.image})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",border:`6px solid ${Re.palette.grey[900]}`,borderRadius:"50%",cursor:"pointer","&:hover, &:focus":{"&::before":{content:'""',display:"block",width:"100%",height:"100%",backdropFilter:"brightness(0.75)",borderRadius:"50%",overflow:"hidden"},"&::after":{content:'"Изменить аватар"',display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"white",fontFamily:"sans-serif",textTransform:"uppercase",fontSize:"10px"}}},onClick:()=>{y.current&&y.current.click()}},nr.createElement(ye.Z,{sx:{width:"28px",height:"28px",backgroundColor:Re.palette.grey[300],position:"absolute",top:"0",right:"0",borderRadius:"50%"}},nr.createElement(er.Z,{sx:{width:"18px",height:"18px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})))),nr.createElement(ye.Z,{sx:{padding:"48px 16px 16px 16px",backgroundColor:Re.palette.grey[900]}},nr.createElement(Ze.Z,{className:i.iv`
                  padding: 16px 0;
                  color: #ffffff;
                `},null==r?void 0:r.name,nr.createElement(Ze.Z,{className:i.iv`
                    font-size: 20px;
                    line-height: 24px;
                    color: #b9bbbe;
                    text-transform: uppercase;
                  `,component:"span"},"#",null==r?void 0:r.id.slice(-4))),nr.createElement(Ze.Z,{className:i.iv`
                  margin-bottom: 8px !important;
                  padding: 20px 0 0 0 !important;
                  font-weight: 600 !important;
                  font-size: 12px !important;
                  line-height: 16px !important;
                  color: #b9bbbe;
                  text-transform: uppercase !important;
                  border-top: 1px solid ${Re.palette.grey[800]};
                `,variant:"subtitle1"},"Обо мне"),nr.createElement(Ze.Z,{sx:{maxHeight:"108px",paddingBottom:"20px"},color:"lightgray"},"Информация о пользователе."),nr.createElement(Ze.Z,{className:i.iv`
                  margin-bottom: 8px !important;
                  padding: 20px 0 0 0 !important;
                  font-weight: 600 !important;
                  font-size: 12px !important;
                  line-height: 16px !important;
                  color: #b9bbbe;
                  text-transform: uppercase !important;
                  border-top: 1px solid ${Re.palette.grey[800]};
                `,variant:"subtitle1"},"Настройка профиля"),nr.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"64px 1fr",columnGap:"16px",alignItems:"center"}},nr.createElement(ye.Z,{sx:{width:"64px",height:"64px",backgroundColor:Re.palette.primary.light,borderRadius:"8px",display:"grid",alignItems:"center",justifyContent:"center"}},nr.createElement(tr.Z,{sx:{fill:"#ffffff"},width:24,height:24})),nr.createElement(ye.Z,null,nr.createElement(Ze.Z,{variant:"subtitle1",color:"lightgray"},"Профиль пользователя"),nr.createElement(Ze.Z,{color:"lightgray"},"Прошло ",E,":",b))))))),nr.createElement(ye.Z,{sx:{display:"none"}},nr.createElement(Ze.Z,{variant:"h5"},"Цвет профиля: ",null==r?void 0:r.color),nr.createElement(be,{type:"color",id:"color",name:"color",label:"Цвет профиля",value:p,onChange:e=>m(e.target.value),placeholder:"Выберите цвет профиля",autoComplete:"off",fullWidth:!0}),nr.createElement(Ze.Z,{variant:"h5"},"Изображение профиля"),nr.createElement(be,{type:"file",id:"image",name:"image",label:"Изображение профиля",inputProps:{ref:e=>y.current=e},onChange:e=>{const t=e.target.files?e.target.files[0]:null,r=new FileReader;t&&(r.readAsDataURL(t),r.onload=()=>{t.size>5242880&&q.Am.error("Изображение должно быть не более 5MB."),g(String(r.result))}),g(e.target.value)},placeholder:"Выберите изображение профиля",autoComplete:"off",fullWidth:!0,focused:!0}),nr.createElement(Ze.Z,{variant:"h5"},"Ваш email: ",null==r?void 0:r.email),nr.createElement(be,{type:"email",id:"email",name:"email",label:"Адрес электронной почты",value:a,onChange:e=>l(e.target.value),placeholder:"Введите ваш email",autoComplete:"off",fullWidth:!0}),nr.createElement(Ze.Z,{variant:"h5"},"Статус:"),nr.createElement(Ze.Z,{variant:"h5"},"Дата рождения:"),nr.createElement(Ze.Z,{variant:"h5"},"Ваш аватар:"),nr.createElement(Ze.Z,{variant:"h5"},nr.createElement(ke.Z,{sx:{cursor:"pointer"},underline:"hover",onClick:()=>e(-1)},"Назад"),nr.createElement($e.Z,{variant:"contained",color:"primary",onClick:()=>{t(U({email:a||void 0,name:o||void 0,color:p||void 0,image:u||void 0,password:c}))}},"Сохранить"),nr.createElement(Ye,{variant:"contained",color:"primary",onClick:()=>{t(D()),ot.emit("on-disconnect",null==r?void 0:r.id)}},"Выйти из аккаунта"))))}));var or=r(5537),ir=r(1537),sr=r(7294);const cr=(0,ae.memo)((({isOpen:e,onClose:t})=>{const r=(0,n.I0)(),a=(0,n.v9)(oe),[l,o]=(0,ae.useState)(null==a?void 0:a.name),[i,s]=(0,ae.useState)("");return sr.createElement(ir.Z,{open:e,onBackdropClick:t},sr.createElement(ye.Z,{sx:{width:"440px",backgroundColor:"#4a4c52",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"5px",overflow:"hidden"}},sr.createElement(ye.Z,{sx:{position:"relative",display:"grid",rowGap:"8px",padding:"24px 16px"}},sr.createElement(Ze.Z,{sx:{fontSize:"24px",color:"#ffffff"}},"Изменить имя пользователя"),sr.createElement(Ze.Z,{sx:{fontSize:"16px",color:"#c0c1c4"}},"Введите новое имя пользователя и текущий пароль."),sr.createElement(ye.Z,{sx:{position:"absolute",top:"16px",right:"16px",cursor:"pointer"},onClick:t},sr.createElement(or.Z,{sx:{fill:"#ffffff"}}))),sr.createElement(ye.Z,{sx:{display:"grid",rowGap:"16px",padding:"0 16px 24px 16px"}},sr.createElement(ye.Z,{sx:{display:"grid",rowGap:"8px"}},sr.createElement(Ze.Z,{sx:{fontSize:"14px",color:"#c0c1c4",textTransform:"uppercase"}},"Имя пользователя"),sr.createElement(be,{sx:{backgroundColor:"#36383a","&":{color:"#dfe0e1"},"input:-webkit-autofill":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:hover":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:focus":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:active":{boxShadow:"0 0 0 30px #36383a inset"}},type:"text",id:"name",name:"name",value:l,onChange:e=>o(e.target.value),autoComplete:"off",fullWidth:!0})),sr.createElement(ye.Z,{sx:{display:"grid",rowGap:"8px"}},sr.createElement(Ze.Z,{sx:{fontSize:"14px",color:"#c0c1c4",textTransform:"uppercase"}},"Текущий пароль"),sr.createElement(be,{sx:{backgroundColor:"#36383a",".MuiOutlinedInput-root":{color:"#dfe0e1"},"input:-webkit-autofill":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:hover":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:focus":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:active":{boxShadow:"0 0 0 30px #36383a inset"}},type:"password",id:"password",name:"password",value:i,onChange:e=>s(e.target.value),autoComplete:"off",fullWidth:!0}))),sr.createElement(ye.Z,{sx:{display:"grid",justifyContent:"end",gridTemplateColumns:"repeat(2, max-content)",columnGap:"8px",padding:"16px",backgroundColor:"#43454a"}},sr.createElement(ke.Z,{sx:{display:"grid",alignItems:"center",color:"#ffffff",cursor:"pointer"},underline:"hover",onClick:()=>{o(null==a?void 0:a.name),s(""),t()}},sr.createElement(Ze.Z,{sx:{fontSize:"14px"}},"Отмена")),sr.createElement(Ye,{variant:"contained",onClick:()=>{r(U({name:l,password:i})),t()}},"Готово"))))}));var dr=r(7294);const pr=(0,ae.memo)((()=>{const e=(0,me.s0)(),t=(0,n.v9)(oe),[r,a]=(0,ae.useState)(!1);return dr.createElement(ye.Z,{sx:{position:"relative",display:"grid",padding:"60px 40px 80px 40px",alignContent:"start",backgroundColor:"#9e9e9e"}},dr.createElement(cr,{isOpen:r,onClose:()=>{a(!1)}}),dr.createElement(Ze.Z,{className:i.iv`
          padding-bottom: 20px !important;
          font-weight: 600 !important;
          font-size: 20px !important;
          line-height: 24px !important;
        `},"Моя учетная запись"),dr.createElement(ye.Z,{sx:{display:"grid",rowGap:"8px",position:"absolute",top:"60px",right:"-40px",textAlign:"center"},onClick:()=>e("friends")},dr.createElement(Kt.Z,{sx:{width:"36px",height:"36px"}}),dr.createElement(Ze.Z,{sx:{fontSize:"13px"}},"ESC")),dr.createElement(ye.Z,{sx:{display:"grid"}},dr.createElement(ye.Z,{sx:{backgroundColor:Re.palette.grey[600],border:"1px solid #000000",borderRadius:"4px",padding:"20px"}},dr.createElement(ye.Z,null),dr.createElement(ye.Z,null,dr.createElement(Ze.Z,null,"Неподтвержденный адрес эл.почты"),dr.createElement(Ze.Z,null,"Пожалуйста, проверьте свою электронную почту и следуйте инструкциям, чтобы подтвердить свой адресс электронной почты. Если вы не получили письмо или у него истек срок действия, вы можете попросить отправить новое."),dr.createElement(Ye,{variant:"contained"},"Отправить письмо с подтверждением еще раз"))),dr.createElement(ye.Z,{sx:{margin:"20px 0",backgroundColor:Re.palette.grey[600],borderRadius:"4px",overflow:"hidden"}},dr.createElement(ye.Z,{sx:{position:"relative",backgroundColor:null==t?void 0:t.color,height:"100px"}},dr.createElement(ye.Z,{sx:{position:"absolute",top:"76px",left:"16px",width:"94px",height:"94px",backgroundImage:(null==t?void 0:t.image)?`url(${null==t?void 0:t.image})`:"none",backgroundColor:(null==t?void 0:t.color)?t.color:"none",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",border:`6px solid ${Re.palette.grey[900]}`,borderRadius:"50%",cursor:"pointer"}})),dr.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content max-content",justifyContent:"space-between",alignItems:"center",padding:"16px 16px 16px 120px"}},dr.createElement(Ze.Z,null,null==t?void 0:t.name,"#",null==t?void 0:t.id.slice(-4)),dr.createElement(Ye,{variant:"contained"},"Настр. профиль пользователя")),dr.createElement(ye.Z,{sx:{display:"grid",margin:"16px",padding:"16px",backgroundColor:Re.palette.grey[500],borderRadius:"4px"}},dr.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content max-content",justifyContent:"space-between",alignItems:"center",padding:"8px 0"}},dr.createElement(ye.Z,null,dr.createElement(Ze.Z,null,"Имя пользователя"),dr.createElement(Ze.Z,null,null==t?void 0:t.name)),dr.createElement(Ye,{variant:"contained",onClick:()=>{a(!0)}},"Изменить")),dr.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content max-content",justifyContent:"space-between",alignItems:"center",padding:"8px 0"}},dr.createElement(ye.Z,null,dr.createElement(Ze.Z,null,"Электронная почта"),dr.createElement(Ze.Z,null,null==t?void 0:t.name)),dr.createElement(Ye,{variant:"contained"},"Изменить")),dr.createElement(ye.Z,{sx:{display:"grid",gridTemplateColumns:"max-content max-content",justifyContent:"space-between",alignItems:"center",padding:"8px 0"}},dr.createElement(ye.Z,null,dr.createElement(Ze.Z,null,"Номер телефона"),dr.createElement(Ze.Z,null,null==t?void 0:t.name)),dr.createElement(Ye,{variant:"contained"},"Изменить"))))))}));var mr=r(7294);const ur=(0,ae.memo)((()=>mr.createElement(me.Z5,null,mr.createElement(me.AW,{path:"friends",element:mr.createElement(ht,null)},mr.createElement(me.AW,{path:"all-friends",element:mr.createElement(jt,null)}),mr.createElement(me.AW,{path:"friends-online",element:mr.createElement(Mt,null)}),mr.createElement(me.AW,{path:"friends-invites",element:mr.createElement(Dt,null)}),mr.createElement(me.AW,{path:"friends-approvals",element:mr.createElement(qt,null)}),mr.createElement(me.AW,{path:"add-to-friends",element:mr.createElement(Jt,null)})),mr.createElement(me.AW,{path:"messages",element:mr.createElement(vt,null)}),mr.createElement(me.AW,{path:"profile",element:mr.createElement(Zt,null)},mr.createElement(me.AW,{path:"user-account",element:mr.createElement(pr,null)}),mr.createElement(me.AW,{path:"user-profile",element:mr.createElement(lr,null)})),mr.createElement(me.AW,{path:"channels",element:mr.createElement(St,null)}),mr.createElement(me.AW,{path:"*",element:mr.createElement(me.Fg,{to:"friends/all-friends"})}))));var gr=r(7294);const xr=(0,ae.memo)((({isAuthorizated:e})=>e?gr.createElement(ur,null):gr.createElement(Ne,null)));var hr=r(7294);const fr=()=>{const e=(0,n.I0)(),t=(0,n.v9)(ne),r=(0,n.v9)(oe);return(0,ae.useEffect)((()=>{localStorage.getItem("token")&&e(N())}),[]),(0,ae.useEffect)((()=>{t&&(e(L()),ot.on("on-connect",(()=>{e(L())})))}),[t]),(0,ae.useEffect)((()=>{(null==r?void 0:r.id)&&ot.emit("on-connect",r.id)}),[null==r?void 0:r.id]),hr.createElement(xr,{isAuthorizated:t})};var vr=r(3362),Er=r(7294);const br=()=>(i.hi`
    *,
    *::before,
    *::after {
      box-sizing: inherit;
    }

    html {
      box-sizing: border-box;
    }

    html,
    body,
    .root {
      height: 100%;
    }

    body {
      margin: 0;
      background: radial-gradient(105.05% 99.28% at 50% 29.72%, #8c9eff 0%, #536dfe 42.9%, #536dfe 61.7%, #3d5afe 84.71%, #304ffe 100%);
      background-repeat: no-repeat;
    }

    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    input:-webkit-autofill:active {
      box-shadow: 0 0 0 30px #ffffff inset;
    }
  `,(0,vr.D)(),Er.createElement(n.zt,{store:re},Er.createElement(o.Z,{theme:Re},Er.createElement(l.UT,null,Er.createElement(fr,null),Er.createElement(q.Ix,{theme:"light"})))));(0,a.render)(Er.createElement(br,null),document.querySelector(".root"))}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var l=r[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,r,n,l)=>{if(!r){var o=1/0;for(d=0;d<e.length;d++){for(var[r,n,l]=e[d],i=!0,s=0;s<r.length;s++)(!1&l||o>=l)&&Object.keys(a.O).every((e=>a.O[e](r[s])))?r.splice(s--,1):(i=!1,l<o&&(o=l));if(i){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[r,n,l]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e+"../"})(),(()=>{var e={179:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,l,[o,i,s]=r,c=0;if(o.some((t=>0!==e[t]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(s)var d=s(a)}for(t&&t(r);c<o.length;c++)l=o[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},r=globalThis.webpackChunkvideo_calls=globalThis.webpackChunkvideo_calls||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=a.O(void 0,[248],(()=>a(606)));n=a.O(n)})();
//# sourceMappingURL=main.e4d644c99c86f1791d15.js.map