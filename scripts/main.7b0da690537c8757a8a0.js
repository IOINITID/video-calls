(()=>{"use strict";var e,t={8381:(e,t,r)=>{var n=r(3935),a=r(9704),o=r(9711),i=r(5974),l=r(2287),s=r(6403),c=r(9084);const d=(0,s.oM)({name:"user",initialState:{user:null,users:[],loading:{user:!1,users:!1},error:{user:null,users:null},audioInDevice:"",audioOutDevice:"",friends:[],invites:[],approvals:[],isCall:!1,isIncomingCall:!1,isCallAccepted:!1,isCallCanceled:!1,channels:[],channelMessages:[]},reducers:{requestGetUserAction:e=>{e.loading.user=!0},successGetUserAction:(e,{payload:t})=>{e.user=t,e.loading.user=!1},failureGetUserAction:(e,{payload:t})=>{e.error.user=t,e.loading.user=!1},requestUpdateUserAction:(e,{payload:t})=>{e.loading.user=!0},successUpdateUserAction:(e,{payload:t})=>{e.user=t,e.loading.user=!1},failureUpdateUserAction:(e,{payload:t})=>{e.error.user=t,e.loading.user=!1},requestGetUsersAction:e=>{e.loading.users=!0},successGetUsersAction:(e,{payload:t})=>{e.users=t,e.loading.users=!1},failureGetUsersAction:(e,{payload:t})=>{e.error.users=t,e.loading.users=!1},setIsCall:(e,{payload:t})=>{e.isCall=t},setIsIncomingCall:(e,{payload:t})=>{e.isIncomingCall=t},setIsCallAccepted:(e,{payload:t})=>{e.isCallAccepted=t},setIsCallCanceled:(e,{payload:t})=>{e.isCallCanceled=t},setAudioInDevice:(e,{payload:t})=>{e.audioInDevice=t},setAudioOutDevice:(e,{payload:t})=>{e.audioOutDevice=t}}}),{setIsCall:p,setIsIncomingCall:u,setIsCallAccepted:m,setIsCallCanceled:g,requestGetUserAction:x,successGetUserAction:f,failureGetUserAction:v,requestUpdateUserAction:h,successUpdateUserAction:E,failureUpdateUserAction:b,setAudioInDevice:y,setAudioOutDevice:Z,requestGetUsersAction:k,successGetUsersAction:C,failureGetUsersAction:w}=d.actions,_=d.reducer;var S=r(4857),A=r(9669),I=r.n(A);const z="https://ioinitid-video-calls-server.herokuapp.com",T={Registration:"/registration",Authorization:"/authorization",Refresh:`${z}/api/refresh`,Logout:"/logout"},G=e=>J.request({method:"POST",url:T.Registration,data:e}),R=e=>J.request({method:"POST",url:T.Authorization,data:e}),O=e=>I().request({method:"POST",url:T.Refresh,data:e}),j=()=>J.request({method:"GET",url:T.Logout}),P=(0,s.oM)({name:"authorization",initialState:{access_token:"",refresh_token:"",authorizated:!1,loading:{access_token:!1,refresh_token:!1},error:{access_token:null,refresh_token:null}},reducers:{requestRegistrationAction:(e,{payload:t})=>{e.loading.access_token=!0,e.loading.refresh_token=!0},successRegistrationAction:(e,{payload:t})=>{e.access_token=t.access_token,e.refresh_token=t.refresh_token,e.authorizated=!0,e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=null,e.error.refresh_token=null,localStorage.setItem("access_token",t.access_token),localStorage.setItem("refresh_token",t.refresh_token)},failureRegistrationAction:(e,{payload:t})=>{e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=t.error,e.error.refresh_token=t.error},requestAuthorizationAction:(e,{payload:t})=>{e.loading.access_token=!0,e.loading.refresh_token=!0},successAuthorizationAction:(e,{payload:t})=>{e.access_token=t.access_token,e.refresh_token=t.refresh_token,e.authorizated=!0,e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=null,e.error.refresh_token=null,localStorage.setItem("access_token",t.access_token),localStorage.setItem("refresh_token",t.refresh_token)},failureAuthorizationAction:(e,{payload:t})=>{e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=t.error,e.error.refresh_token=t.error},requestRefreshAction:(e,{payload:t})=>{e.loading.access_token=!0,e.loading.refresh_token=!0},successRefreshAction:(e,{payload:t})=>{e.access_token=t.access_token,e.refresh_token=t.refresh_token,e.authorizated=!0,e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=null,e.error.refresh_token=null,localStorage.setItem("access_token",t.access_token),localStorage.setItem("refresh_token",t.refresh_token)},failureRefreshAction:(e,{payload:t})=>{e.access_token="",e.refresh_token="",e.authorizated=!1,e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=t.error,e.error.refresh_token=t.error,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},requestLogoutAction:e=>{e.loading.access_token=!0},successLogoutAction:e=>{e.access_token="",e.refresh_token="",e.authorizated=!1,e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=null,e.error.refresh_token=null,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},failureLogoutAction:(e,{payload:t})=>{e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=t.error,e.error.refresh_token=t.error}}}),{requestRegistrationAction:D,successRegistrationAction:M,failureRegistrationAction:q,requestAuthorizationAction:$,successAuthorizationAction:F,failureAuthorizationAction:W,requestRefreshAction:B,successRefreshAction:U,failureRefreshAction:N,requestLogoutAction:L,successLogoutAction:V,failureLogoutAction:H}=P.actions,Y=P.reducer,J=I().create({withCredentials:!0,baseURL:`${z}/api`});J.interceptors.request.use((e=>(e.headers&&(e.headers.Authorization=`Bearer ${localStorage.getItem("access_token")||""}`),e)),(e=>Promise.reject(e))),J.interceptors.response.use((e=>e),(e=>{return void 0,null,t=function*(){const t=e.config;if(e.response){if(401===e.response.status&&!t._retry){t._retry=!0;try{const e=localStorage.getItem("refresh_token");if(e){const t=yield O({refresh_token:e});Ue.dispatch(U({access_token:t.data.access_token,refresh_token:t.data.refresh_token}))}}catch(e){return Ue.dispatch(N(e)),Promise.reject(e)}return J(t)}if(401!==e.response.status)return Promise.reject(e.response.data)}return Promise.reject(e)},new Promise(((e,r)=>{var n=e=>{try{o(t.next(e))}catch(e){r(e)}},a=e=>{try{o(t.throw(e))}catch(e){r(e)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,a);o((t=t.apply(undefined,null)).next())}));var t}));const K="/user",Q=()=>J.request({method:"GET",url:K}),X=e=>J.request({method:"PATCH",url:K,data:e}),ee=()=>J.request({method:"GET",url:"/users"}),te=function*(){try{const e=yield(0,S.RE)(Q);yield(0,S.gz)(f(e.data))}catch(e){console.error(e),yield(0,S.gz)(v(e))}},re=function*({payload:e}){try{const t=yield(0,S.RE)(X,e);yield(0,S.gz)(E(t.data))}catch(e){console.error(e),yield(0,S.gz)(b(e))}},ne=function*(){try{const e=yield(0,S.RE)(ee);yield(0,S.gz)(C(e.data))}catch(e){console.error(e)}},ae=function*({payload:e}){try{const t=yield(0,S.RE)(G,e);yield(0,S.gz)(M({access_token:t.data.access_token,refresh_token:t.data.refresh_token}))}catch(e){console.error(e),yield(0,S.gz)(q({error:e}))}},oe=function*({payload:e}){try{const t=yield(0,S.RE)(R,e);yield(0,S.gz)(F({access_token:t.data.access_token,refresh_token:t.data.refresh_token}))}catch(e){console.error(e),yield(0,S.gz)(W({error:e}))}},ie=function*({payload:e}){try{const t=yield(0,S.RE)(O,e);yield(0,S.gz)(U({access_token:t.data.access_token,refresh_token:t.data.refresh_token}))}catch(e){console.error(e),yield(0,S.gz)(N({error:e}))}},le=function*(){try{yield(0,S.RE)(j),yield(0,S.gz)(V())}catch(e){console.error(e),yield(0,S.gz)(H({error:e}))}},se=(0,s.oM)({name:"friends",initialState:{friends:[],status:{friends:"idle",add_to_friends:"idle",remove_from_friends:"idle"},loading:{friends:!1,add_to_friends:!1,remove_from_friends:!1},error:{friends:null,add_to_friends:null,remove_from_friends:null}},reducers:{requestGetFriendsAction:e=>{e.status.friends="running",e.loading.friends=!0},successGetFriendsAction:(e,{payload:t})=>{e.friends=t,e.status.friends="success",e.loading.friends=!1,e.error.friends=null},failureGetFriendsAction:(e,{payload:t})=>{e.status.friends="error",e.loading.friends=!1,e.error.friends=t},requestAddToFriendsAction:(e,{payload:t})=>{e.status.add_to_friends="running",e.loading.add_to_friends=!0},successAddToFriendsAction:(e,{payload:t})=>{e.friends=t,e.status.add_to_friends="success",e.loading.add_to_friends=!1,e.error.add_to_friends=null},failureAddToFriendsAction:(e,{payload:t})=>{e.status.add_to_friends="error",e.loading.add_to_friends=!1,e.error.add_to_friends=t},requestRemoveFromFriendsAction:(e,{payload:t})=>{e.status.remove_from_friends="running",e.loading.remove_from_friends=!0},successRemoveFromFriendsAction:(e,{payload:t})=>{e.friends=t,e.status.remove_from_friends="success",e.loading.remove_from_friends=!1,e.error.remove_from_friends=null},failureRemoveFromFriendsAction:(e,{payload:t})=>{e.status.remove_from_friends="error",e.loading.remove_from_friends=!1,e.error.remove_from_friends=t}}}),{requestGetFriendsAction:ce,successGetFriendsAction:de,failureGetFriendsAction:pe,requestAddToFriendsAction:ue,successAddToFriendsAction:me,failureAddToFriendsAction:ge,requestRemoveFromFriendsAction:xe,successRemoveFromFriendsAction:fe,failureRemoveFromFriendsAction:ve}=se.actions,he=se.reducer,Ee=()=>J.request({method:"GET",url:"/friends"}),be=e=>J.request({method:"POST",url:"/friends/add",data:e}),ye=e=>J.request({method:"POST",url:"/friends/remove",data:e}),Ze=function*(){try{const e=yield(0,S.RE)(Ee);yield(0,S.gz)(de(e.data.friends))}catch(e){console.error(e),yield(0,S.gz)(pe(e))}},ke=function*({payload:e}){try{const t=yield(0,S.RE)(be,e);yield(0,S.gz)(me(t.data.friends))}catch(e){console.error(e),yield(0,S.gz)(ge(e))}},Ce=function*({payload:e}){try{const t=yield(0,S.RE)(ye,e);yield(0,S.gz)(fe(t.data.friends))}catch(e){console.error(e),yield(0,S.gz)(ve(e))}},we=()=>J.request({method:"GET",url:"/invitations"}),_e=e=>J.request({method:"POST",url:"/invitations/sent",data:e}),Se=e=>J.request({method:"POST",url:"/invitations/decline",data:e}),Ae=(0,s.oM)({name:"invitations",initialState:{invitations:{sent:[],received:[]},status:{invitations:"idle",sent_invitations:"idle",decline_invitations:"idle"},loading:{invitations:!1,sent_invitations:!1,decline_invitations:!1},error:{invitations:null,sent_invitations:null,decline_invitations:null}},reducers:{requestGetInvitationsAction:e=>{e.status.invitations="running",e.loading.invitations=!0},successGetInvitationsAction:(e,{payload:t})=>{e.invitations=t,e.status.invitations="success",e.loading.invitations=!1,e.error.invitations=null},failureGetInvitationsAction:(e,{payload:t})=>{e.status.invitations="error",e.loading.invitations=!1,e.error.invitations=t},requestSentInvitationsAction:(e,{payload:t})=>{e.status.sent_invitations="running",e.loading.sent_invitations=!0},successSentInvitationsAction:(e,{payload:t})=>{e.invitations=t,e.status.sent_invitations="success",e.loading.sent_invitations=!1,e.error.sent_invitations=null},failureSentInvitationsAction:(e,{payload:t})=>{e.status.sent_invitations="error",e.loading.sent_invitations=!1,e.error.sent_invitations=t},requestDeclineInvitationsAction:(e,{payload:t})=>{e.status.decline_invitations="running",e.loading.decline_invitations=!0},successDeclineInvitationsAction:(e,{payload:t})=>{e.invitations=t,e.status.decline_invitations="success",e.loading.decline_invitations=!1,e.error.decline_invitations=null},failureDeclineInvitationsAction:(e,{payload:t})=>{e.status.decline_invitations="error",e.loading.decline_invitations=!1,e.error.decline_invitations=t}}}),{requestGetInvitationsAction:Ie,successGetInvitationsAction:ze,failureGetInvitationsAction:Te,requestSentInvitationsAction:Ge,successSentInvitationsAction:Re,failureSentInvitationsAction:Oe,requestDeclineInvitationsAction:je,successDeclineInvitationsAction:Pe,failureDeclineInvitationsAction:De}=Ae.actions,Me=Ae.reducer,qe=function*(){try{const e=yield(0,S.RE)(we);yield(0,S.gz)(ze(e.data.invitations))}catch(e){console.error(e),yield(0,S.gz)(Te(e))}},$e=function*({payload:e}){try{const t=yield(0,S.RE)(_e,e);yield(0,S.gz)(Re(t.data.invitations))}catch(e){console.error(e),yield(0,S.gz)(Oe(e))}},Fe=function*({payload:e}){try{const t=yield(0,S.RE)(Se,e);yield(0,S.gz)(Pe(t.data.invitations))}catch(e){console.error(e),yield(0,S.gz)(De(e))}},We=[function*(){yield(0,S.$6)([(0,S.ib)($.type,oe),(0,S.ib)(B.type,ie),(0,S.ib)(D.type,ae),(0,S.ib)(L.type,le)])},function*(){yield(0,S.$6)([(0,S.ib)(x.type,te),(0,S.ib)(h.type,re),(0,S.ib)(k.type,ne)])},function*(){yield(0,S.$6)([(0,S.ib)(ce.type,Ze),(0,S.ib)(ue.type,ke),(0,S.ib)(xe.type,Ce)])},function*(){yield(0,S.$6)([(0,S.ib)(Ie.type,qe),(0,S.ib)(Ge.type,$e),(0,S.ib)(je.type,Fe)])}],Be=(0,c.ZP)(),Ue=(0,s.xC)({reducer:{authorization:Y,user:_,friends:he,invitations:Me},middleware:[Be]});Be.run((function*(){yield(0,S.$6)(We.map((e=>(0,S.rM)(e))))}));var Ne=r(7294),Le=r(6974),Ve=r(1797),He=r(7294),Ye=Object.defineProperty,Je=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,Xe=(e,t,r)=>t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const et=(0,Ne.memo)((e=>{var t=((e,t)=>{var r={};for(var n in e)Ke.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Je)for(var n of Je(e))t.indexOf(n)<0&&Qe.call(e,n)&&(r[n]=e[n]);return r})(e,[]);return He.createElement(Ve.Z,((e,t)=>{for(var r in t||(t={}))Ke.call(t,r)&&Xe(e,r,t[r]);if(Je)for(var r of Je(t))Qe.call(t,r)&&Xe(e,r,t[r]);return e})({},t))}));var tt=r(1508),rt=r(2658),nt=r(270),at=r(6867),ot=r(6634),it=r(5697),lt=r(2186),st=r(4345),ct=r(4128);const dt=(0,st.Z)({palette:{primary:{light:ct.Z.A400,main:ct.Z[500],dark:ct.Z[800]}}}),pt=r.p+"assets/images/authorization-image.6642b50856b9fc50fde3936da1774bf9.jpg";var ut=r(7294);const mt=(0,Ne.memo)((({children:e})=>ut.createElement(tt.Z,{sx:{display:"grid",alignItems:"center",justifyContent:"center",height:"100%"}},e)));var gt=r(6236),xt=r(7294);const ft=(0,Ne.memo)((()=>{const e=(0,a.I0)(),t=(0,Le.s0)(),{loading:r}=(0,a.v9)((e=>e.authorization)),[n,o]=(0,Ne.useState)(""),[i,s]=(0,Ne.useState)(""),[c,d]=(0,Ne.useState)(!1);return xt.createElement(mt,null,xt.createElement(tt.Z,{sx:{display:"grid",width:"920px",gridTemplateColumns:"448px 472px",borderRadius:"20px",border:`1px solid ${dt.palette.grey[300]}`,overflow:"hidden"}},xt.createElement(tt.Z,null,xt.createElement("img",{className:l.iv`
              width: 100%;
              height: 100%;
              object-fit: cover;
            `,src:pt,alt:"Илюстрация."})),xt.createElement(tt.Z,{sx:{padding:"48px 56px",backgroundColor:`${dt.palette.common.white}`}},xt.createElement(tt.Z,{sx:{display:"grid",rowGap:"16px"}},xt.createElement(tt.Z,{sx:{display:"grid",rowGap:"32px"}},xt.createElement(tt.Z,{sx:{display:"grid",rowGap:"32px"}},xt.createElement(rt.Z,{variant:"h5"},"Войти в свой профиль"),xt.createElement(tt.Z,{sx:{display:"grid",rowGap:"24px"}},xt.createElement(et,{type:"email",id:"email",name:"email",label:"Адрес электронной почты",value:n,onChange:e=>o(e.target.value),placeholder:"Введите ваш email",autoComplete:"off",fullWidth:!0}),xt.createElement(et,{type:c?"text":"password",id:"password",name:"password",label:"Пароль",value:i,onChange:e=>s(e.target.value),placeholder:"Введите ваш пароль",autoComplete:"off",fullWidth:!0,InputProps:{endAdornment:xt.createElement(nt.Z,{position:"end"},xt.createElement(at.Z,{onClick:()=>d(!c)},c?xt.createElement(it.Z,null):xt.createElement(lt.Z,null)))}}))),xt.createElement(gt.Z,{disableElevation:!0,disableRipple:!0,sx:{pdding:"8px 16px",textTransform:"initial"},variant:"contained",color:"primary",size:"large",loading:r.access_token||r.refresh_token,onClick:()=>{e($({email:n,password:i}))}},"Войти")),xt.createElement(rt.Z,{variant:"subtitle2"},"У Вас ещё нет профиля?"," ",xt.createElement(ot.Z,{sx:{cursor:"pointer"},underline:"hover",onClick:e=>{e.preventDefault(),t("/registration")}},"Зарегистрироваться"))))))}));var vt=r(7294);const ht=(0,Ne.memo)((()=>{const e=(0,a.I0)(),t=(0,Le.s0)(),{loading:r}=(0,a.v9)((e=>e.authorization)),[n,o]=(0,Ne.useState)(""),[i,s]=(0,Ne.useState)(""),[c,d]=(0,Ne.useState)(""),[p,u]=(0,Ne.useState)(!1);return vt.createElement(mt,null,vt.createElement(tt.Z,{sx:{display:"grid",width:"920px",gridTemplateColumns:"448px 472px",borderRadius:"20px",border:`1px solid ${dt.palette.grey[300]}`,overflow:"hidden"}},vt.createElement(tt.Z,null,vt.createElement("img",{className:l.iv`
              width: 100%;
              height: 100%;
              object-fit: cover;
            `,src:pt,alt:"Илюстрация."})),vt.createElement(tt.Z,{sx:{padding:"48px 56px",backgroundColor:`${dt.palette.common.white}`}},vt.createElement(tt.Z,{sx:{display:"grid",rowGap:"16px"}},vt.createElement(tt.Z,{sx:{display:"grid",rowGap:"24px"}},vt.createElement(tt.Z,{sx:{display:"grid",rowGap:"32px"}},vt.createElement(rt.Z,{variant:"h5"},"Создать учётную запись"),vt.createElement(tt.Z,{sx:{display:"grid",rowGap:"24px"}},vt.createElement(Ve.Z,{type:"email",id:"email",name:"email",label:"Адрес электронной почты",value:n,onChange:e=>o(e.target.value),placeholder:"Введите ваш email",autoComplete:"off",fullWidth:!0}),vt.createElement(Ve.Z,{type:"text",id:"name",name:"name",label:"Имя пользователя",value:i,onChange:e=>s(e.target.value),placeholder:"Введите ваше имя",autoComplete:"off",fullWidth:!0}),vt.createElement(Ve.Z,{type:p?"text":"password",id:"password",name:"password",label:"Пароль",value:c,onChange:e=>d(e.target.value),placeholder:"Введите ваш пароль",autoComplete:"off",fullWidth:!0,InputProps:{endAdornment:vt.createElement(nt.Z,{position:"end"},vt.createElement(at.Z,{onClick:()=>u(!p)},p?vt.createElement(it.Z,null):vt.createElement(lt.Z,null)))}}))),vt.createElement(tt.Z,{sx:{display:"grid",rowGap:"32px"}},vt.createElement(rt.Z,{variant:"caption",color:dt.palette.grey[500]},"Регистрируясь, Вы соглашаетесь с"," ",vt.createElement(ot.Z,{sx:{cursor:"pointer"},underline:"hover"},"политикой обработки персональных данных")),vt.createElement(gt.Z,{disableElevation:!0,disableRipple:!0,sx:{pdding:"8px 16px",textTransform:"initial"},variant:"contained",color:"primary",size:"large",loading:r.access_token||r.refresh_token,onClick:()=>e(D({email:n,name:i,password:c}))},"Зарегистрироваться"))),vt.createElement(rt.Z,{variant:"subtitle2"},vt.createElement(ot.Z,{sx:{cursor:"pointer"},underline:"hover",onClick:e=>{e.preventDefault(),t("/authorization")}},"Уже зарегистрированы?"))))))}));var Et=r(7294);const bt=(0,Ne.memo)((()=>Et.createElement(Le.Z5,null,Et.createElement(Le.AW,{path:"authorization",element:Et.createElement(ft,null)}),Et.createElement(Le.AW,{path:"registration",element:Et.createElement(ht,null)}),Et.createElement(Le.AW,{path:"*",element:Et.createElement(Le.Fg,{to:"authorization"})}))));var yt=r(6914),Zt=r(7294),kt=Object.defineProperty,Ct=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable,St=(e,t,r)=>t in e?kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const At=(0,Ne.memo)((e=>{var t=e,{children:r}=t,n=((e,t)=>{var r={};for(var n in e)wt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ct)for(var n of Ct(e))t.indexOf(n)<0&&_t.call(e,n)&&(r[n]=e[n]);return r})(t,["children"]);return Zt.createElement(yt.Z,((e,t)=>{for(var r in t||(t={}))wt.call(t,r)&&St(e,r,t[r]);if(Ct)for(var r of Ct(t))_t.call(t,r)&&St(e,r,t[r]);return e})({disableElevation:!0,disableRipple:!0,sx:{padding:"8px 16px",textTransform:"initial"}},n),r)}));var It=r(2855),zt=r(4433),Tt=r(5683),Gt=r(6454),Rt=r(7720),Ot=r(7294);const jt=(0,Ne.memo)((()=>{const e=(0,Le.s0)();return Ot.createElement(tt.Z,{sx:{display:"grid",rowGap:"24px",height:"100%",alignContent:"start",padding:"25px 16px",justifyContent:"center"}},Ot.createElement(tt.Z,{sx:{display:"grid",rowGap:"16px"}},Ot.createElement(Gt.Z,{title:"Друзья",arrow:!0,placement:"right"},Ot.createElement(tt.Z,{sx:{display:"grid",padding:"8px",backgroundColor:dt.palette.grey[400],cursor:"pointer",borderRadius:"8px",justifyContent:"center",width:"40px"},onClick:()=>e("/friends")},Ot.createElement(It.Z,null))),Ot.createElement(Gt.Z,{title:"Каналы",arrow:!0,placement:"right"},Ot.createElement(tt.Z,{sx:{display:"grid",padding:"8px",backgroundColor:dt.palette.grey[400],cursor:"pointer",borderRadius:"8px",justifyContent:"center",width:"40px"},onClick:()=>e("/channels")},Ot.createElement(zt.Z,null)))),Ot.createElement(Rt.Z,null),Ot.createElement(Gt.Z,{title:"Настройки",arrow:!0,placement:"right"},Ot.createElement(tt.Z,{sx:{display:"grid",padding:"8px",backgroundColor:dt.palette.grey[400],cursor:"pointer",borderRadius:"8px",justifyContent:"center",width:"40px"},onClick:()=>e("/settings")},Ot.createElement(Tt.Z,null))))}));var Pt=r(9346),Dt=r(7109),Mt=r(720),qt=r(251);const $t=(0,r(3213).io)(z,{transports:["websocket"]}),Ft=e=>e.user.user,Wt=e=>e.user.approvals;var Bt=r(7294);const Ut=(0,Ne.memo)((({name:e,status:t,channelId:r})=>{const n=(0,a.v9)(Ft),o=(0,Le.s0)();return Bt.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr max-content",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",":hover":{backgroundColor:dt.palette.grey[300],".delete-icon":{display:"grid"}},".MuiBadge-badge":{border:`1px solid ${dt.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:dt.palette.success.light},".MuiBadge-colorError":{backgroundColor:dt.palette.error.light}},onClick:()=>{$t.emit("on-channel-join",r,null==n?void 0:n.id),o("/messages")}},Bt.createElement(Pt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===t?"success":"error"},Bt.createElement(Dt.Z,{sx:{backgroundColor:Mt.Z[500]}})),Bt.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content"}},Bt.createElement(rt.Z,{variant:"body2"},e||""),Bt.createElement(rt.Z,{variant:"caption"},"В сети")),Bt.createElement(tt.Z,{className:"delete-icon",sx:{display:"none"}},Bt.createElement(at.Z,null,Bt.createElement(qt.Z,{sx:{color:dt.palette.grey[700]}}))))}));var Nt=r(3996),Lt=r(5338),Vt=r(5838),Ht=r(3847),Yt=r(7294);const Jt=(0,Ne.memo)((()=>{const e=(0,a.v9)(Ft),[t,r]=(0,Ne.useState)(!1),[n,o]=(0,Ne.useState)(!1);return Yt.createElement(tt.Z,{sx:{display:"grid",alignItems:"center",backgroundColor:dt.palette.grey[300],padding:"12px 20px"}},Yt.createElement(tt.Z,{sx:{display:"grid",columnGap:"8px",gridTemplateColumns:"40px 1fr 96px"}},Yt.createElement(tt.Z,{sx:{".MuiBadge-badge":{border:`1px solid ${dt.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:dt.palette.success.light},".MuiBadge-colorError":{backgroundColor:dt.palette.error.light}}},Yt.createElement(Pt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===(null==e?void 0:e.status)?"success":"error"},Yt.createElement(Dt.Z,{sx:{backgroundColor:(null==e?void 0:e.color)?e.color:null==e?void 0:e.default_color},src:null==e?void 0:e.image}))),Yt.createElement(tt.Z,null,Yt.createElement(rt.Z,{variant:"body2"},null==e?void 0:e.name),Yt.createElement(rt.Z,{sx:{color:dt.palette.grey[500]},variant:"caption"},"#",null==e?void 0:e.id.slice(-4))),Yt.createElement(tt.Z,{sx:{display:"grid",columnGap:"16px",gridTemplateColumns:"repeat(2, 40px)",alignItems:"center"}},Yt.createElement(at.Z,{onClick:()=>r(!t)},t?Yt.createElement(Nt.Z,{sx:{color:dt.palette.grey[700]}}):Yt.createElement(Lt.Z,{sx:{color:dt.palette.grey[700]}})),Yt.createElement(at.Z,{onClick:()=>o(!n)},n?Yt.createElement(Vt.Z,{sx:{color:dt.palette.grey[700]}}):Yt.createElement(Ht.Z,{sx:{color:dt.palette.grey[700]}})))))}));var Kt=r(7294);const Qt=(0,Ne.memo)((()=>{const e=(0,Le.s0)(),{pathname:t}=(0,Le.TH)(),[r,n]=(0,Ne.useState)([]);return(0,Ne.useEffect)((()=>{}),[]),Kt.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"72px 376px 1fr",height:"100%",backgroundColor:dt.palette.common.white}},Kt.createElement(tt.Z,{sx:{backgroundColor:dt.palette.grey[200]}},Kt.createElement(jt,null)),Kt.createElement(tt.Z,{sx:{display:"grid",gridTemplateRows:"72px max-content 1fr 64px",backgroundColor:dt.palette.grey[400],overflow:"hidden"}},Kt.createElement(tt.Z,{sx:{padding:"24px 20px",borderBottom:`1px solid ${dt.palette.grey[600]}`}},Kt.createElement(rt.Z,{variant:"h6"},"Личные сообщения")),Kt.createElement(tt.Z,{sx:{padding:"16px"}},Kt.createElement(At,{fullWidth:!0,variant:"contained",onClick:()=>e("/friends")},"Друзья")),Kt.createElement(tt.Z,{sx:{margin:"28px 4px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:dt.palette.grey[300],border:`1px solid ${dt.palette.grey[500]}`,borderRadius:"8px"}}},Kt.createElement(tt.Z,{sx:{display:"grid",rowGap:"12px",padding:"0 4px"}},null==r?void 0:r.map((e=>Kt.createElement(Ut,{key:e.userData.id,id:e.userData.id,name:e.userData.name,status:e.userData.status,email:e.userData.email,channelId:e.value._id}))))),Kt.createElement(Jt,null)),Kt.createElement(tt.Z,{sx:{display:"grid",gridTemplateRows:"72px 1fr",backgroundColor:dt.palette.grey[500],overflow:"hidden"}},Kt.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",padding:"16px 24px",borderBottom:`1px solid ${dt.palette.grey[400]}`,alignItems:"center"}},Kt.createElement(rt.Z,{variant:"h6"},"Друзья"),Kt.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(5, max-content)",columnGap:"8px"}},Kt.createElement(At,{variant:t.includes("online")?"contained":"outlined",color:"primary",onClick:()=>e("online")},"В сети"),Kt.createElement(At,{variant:t.includes("all")?"contained":"outlined",color:"primary",onClick:()=>e("all")},"Все"),Kt.createElement(At,{variant:t.includes("invitations")?"contained":"outlined",color:"primary",onClick:()=>e("invitations")},"Ожидание"),Kt.createElement(At,{variant:t.includes("blocked")?"contained":"outlined",color:"primary",onClick:()=>e("blocked")},"Заблокированные"),Kt.createElement(At,{variant:t.includes("add")?"contained":"outlined",color:"success",onClick:()=>e("add")},"Добавить в друзья"))),Kt.createElement(Le.j3,null)))}));var Xt=r(7294);const er=(0,Ne.memo)((()=>{const e=(0,Le.s0)(),t=(0,Le.TH)(),r=(0,a.I0)(),{user:n}=(0,a.v9)((e=>e.user)),o=[{id:1,title:"Моя учётная запись",path:"user-account",onClick:()=>{e("user-account")},divider:!1},{id:2,title:"Профиль пользователя",path:"user-profile",onClick:()=>{e("user-profile")},divider:!1},{id:3,title:"Голос и видео",path:"voice-and-video",onClick:()=>{e("voice-and-video")},divider:!1},{id:4,title:"Выйти",path:"logout",onClick:()=>{r(L()),(null==n?void 0:n.id)&&$t.emit("on-disconnect",n.id)},divider:!0}];return Xt.createElement(tt.Z,{sx:{padding:"60px 8px",backgroundColor:"#43454a"}},Xt.createElement(rt.Z,{className:l.iv`
          padding: 6px 10px !important;
          font-weight: 700 !important;
          font-size: 12px !important;
          line-height: 16px !important;
          color: #a0a2a6;
          text-transform: uppercase;
        `},"Настройки пользователя"),Xt.createElement(tt.Z,{component:"ul",className:l.iv`
          display: grid;
          margin: 0;
          padding: 0;
          list-style: none;
          row-gap: 2px;
        `},o.map((e=>Xt.createElement(Xt.Fragment,null,e.divider&&Xt.createElement(Rt.Z,{sx:{borderColor:"rgba(255, 255, 255, 0.25)",margin:"8px 10px"}}),Xt.createElement(tt.Z,{key:e.id,component:"li",className:l.iv`
                  padding: 6px 10px !important;
                  font-weight: 500 !important;
                  font-size: 16px !important;
                  line-height: 20px !important;
                  background-color: ${t.pathname.includes(e.path)?"#60656c":"none"};
                  border-radius: 4px;
                  cursor: pointer;

                  &:hover,
                  &:focus {
                    background-color: ${t.pathname.includes(e.path)?"#565a61":"#87888d"};

                    p {
                      color: #dfe0e1;
                    }
                  }
                `,onClick:e.onClick},Xt.createElement(ot.Z,{underline:"none"},Xt.createElement(rt.Z,{sx:{color:t.pathname.includes(e.path)?"#ffffff":"#a0a2a6"}},e.title))))))),Xt.createElement(rt.Z,{className:l.iv`
          padding: 6px 10px !important;
          font-weight: 700 !important;
          font-size: 12px !important;
          line-height: 16px !important;
          color: #a0a2a6;
          text-transform: uppercase;
        `},"Настройки приложения"))}));var tr=r(7294);const rr=(0,Ne.memo)((()=>{const e=(0,Le.s0)();return(0,Ne.useEffect)((()=>{e("user-account")}),[]),tr.createElement(tt.Z,{sx:{display:"grid",width:"100%",height:"100%",backgroundColor:dt.palette.grey[500]}},tr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"224px 740px",height:"100%",justifyContent:"center",backgroundImage:"linear-gradient(to right, #43454a 50%, #5e6065 50%)"}},tr.createElement(er,null),tr.createElement(Le.j3,null)))}));var nr=r(7294);const ar=(0,Ne.memo)((()=>nr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"72px 376px 1fr",height:"100%",backgroundColor:dt.palette.common.white}},nr.createElement(tt.Z,{sx:{backgroundColor:dt.palette.grey[200]}},nr.createElement(jt,null)),nr.createElement(tt.Z,{sx:{display:"grid",gridTemplateRows:"72px 1fr 64px",backgroundColor:dt.palette.grey[400],overflow:"hidden"}},nr.createElement(tt.Z,{sx:{padding:"24px 20px",borderBottom:`1px solid ${dt.palette.grey[600]}`}},nr.createElement(rt.Z,{variant:"h6"},"Каналы")),nr.createElement(tt.Z,{sx:{padding:"0 8px",margin:"28px 0",overflow:"scroll"}},nr.createElement(tt.Z,{sx:{display:"grid",rowGap:"12px"}},Array.from(Array(25).keys()).map((e=>nr.createElement(tt.Z,{key:e}))))),nr.createElement(Jt,null)),nr.createElement(tt.Z,{sx:{backgroundColor:dt.palette.grey[600]}}))));var or=r(7294);const ir=(0,Ne.memo)((()=>or.createElement(ar,null)));var lr=r(4125),sr=r(1753),cr=r(8416),dr=r(6046),pr=r(7003),ur=r(7294);const mr=(0,Ne.memo)((({id:e,name:t,status:r,image:n})=>{const[a,o]=(0,Ne.useState)(null);return ur.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"}},ur.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${dt.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:dt.palette.success.light},".MuiBadge-colorError":{backgroundColor:dt.palette.error.light}}},ur.createElement(Pt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error"},ur.createElement(Dt.Z,{sx:{backgroundColor:Mt.Z[500]},src:n})),ur.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content"}},ur.createElement(rt.Z,{variant:"body2"},t||""),ur.createElement(rt.Z,{variant:"caption"},"online"===r?"В сети":"Не в сети"))),ur.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 24px)",columnGap:"24px",alignItems:"center",justifyContent:"end"}},ur.createElement(tt.Z,{sx:{cursor:"pointer"}},ur.createElement(cr.Z,null)),ur.createElement(tt.Z,{sx:{cursor:"pointer"}},ur.createElement(dr.Z,null)),ur.createElement(tt.Z,{sx:{cursor:"pointer"},onClick:e=>o(e.currentTarget)},ur.createElement(pr.Z,null))),ur.createElement(lr.Z,{anchorEl:a,open:Boolean(a),onClose:()=>o(null),MenuListProps:{"aria-labelledby":"basic-button"}},ur.createElement(sr.Z,{onClick:()=>o(null)},"Написать"),ur.createElement(sr.Z,{onClick:()=>o(null)},"Позвонить"),ur.createElement(sr.Z,{onClick:()=>{return void 0,null,t=function*(){o(null);const t=yield J.post("/remove-from-friends",{friendId:e});return $t.emit("on-remove-from-friends",e),t.data},new Promise(((e,r)=>{var n=e=>{try{o(t.next(e))}catch(e){r(e)}},a=e=>{try{o(t.throw(e))}catch(e){r(e)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,a);o((t=t.apply(undefined,null)).next())}));var t}},"Удалить из друзей")))}));var gr=r(7294);const xr=(0,Ne.memo)((()=>{const e=(0,a.I0)(),{friends:t}=(0,a.v9)((e=>e.friends));return(0,Ne.useEffect)((()=>{e(ce()),$t.on("on-connect",(()=>{e(ce())})),$t.on("on-disconnect",(()=>{e(ce())}))}),[]),gr.createElement(tt.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:dt.palette.grey[300],border:`1px solid ${dt.palette.grey[500]}`,borderRadius:"8px"}}},gr.createElement(tt.Z,{sx:{padding:"8px 12px"}},gr.createElement(rt.Z,{variant:"h6"},"Всего друзей: ",t&&(null==t?void 0:t.length)>0?null==t?void 0:t.length:0)),gr.createElement(tt.Z,{sx:{display:"grid",alignContent:"start",rowGap:"8px"}},t.map((e=>gr.createElement(mr,{key:e.id,id:e.id,name:e.name,status:e.status,image:e.image})))))})),fr="client:add_to_friends",vr="client:decline_invitation",hr="server:add_to_friends",Er="server:decline_invitation";var br=r(7294);const yr=(0,Ne.memo)((()=>{const e=(0,a.I0)(),{friends:t}=(0,a.v9)((e=>e.friends));return(0,Ne.useEffect)((()=>{e(ce()),$t.on("on-connect",(()=>{e(ce())})),$t.on(hr,(()=>{e(ce())})),$t.on("on-disconnect",(()=>{e(ce())}))}),[]),br.createElement(tt.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:dt.palette.grey[300],border:`1px solid ${dt.palette.grey[500]}`,borderRadius:"8px"}}},br.createElement(tt.Z,{sx:{padding:"8px 12px"}},br.createElement(rt.Z,{variant:"h6"},"В сети: ",t&&t.length>0?t.filter((e=>"online"===e.status)).length:0)),br.createElement(tt.Z,{sx:{display:"grid",alignContent:"start",rowGap:"8px"}},t.map((e=>"online"===e.status?br.createElement(mr,{key:e.id,id:e.id,name:e.name,status:e.status,image:e.image}):null))))}));var Zr=r(7294);const kr=(0,Ne.memo)((({id:e,name:t,status:r,image:n})=>{const o=(0,a.I0)();return Zr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"}},Zr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${dt.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:dt.palette.success.light},".MuiBadge-colorError":{backgroundColor:dt.palette.error.light}}},Zr.createElement(Pt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error"},Zr.createElement(Dt.Z,{sx:{backgroundColor:Mt.Z[500]},src:n})),Zr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content"}},Zr.createElement(rt.Z,{variant:"body2"},t||""),Zr.createElement(rt.Z,{variant:"caption"},"online"===r?"В сети":"Не в сети"))),Zr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",alignItems:"center",justifyContent:"end"}},Zr.createElement(At,{variant:"contained",color:"primary",onClick:()=>{o(ue({friend_id:e})),$t.emit(fr,e)}},"Добавить"),Zr.createElement(At,{variant:"contained",color:"primary",onClick:()=>{o(je({friend_id:e})),$t.emit(vr,e)}},"Отклонить")))}));var Cr=r(7294);const wr=(0,Ne.memo)((()=>{const e=(0,a.I0)(),{invitations:t}=(0,a.v9)((e=>e.invitations));return(0,Ne.useEffect)((()=>{e(Ie()),$t.on("on-connect",(()=>{e(Ie())})),$t.on(Er,(()=>{e(Ie())})),$t.on("on-disconnect",(()=>{e(Ie())}))}),[]),Cr.createElement(tt.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:dt.palette.grey[300],border:`1px solid ${dt.palette.grey[500]}`,borderRadius:"8px"}}},Cr.createElement(tt.Z,{sx:{padding:"8px 12px"}},Cr.createElement(rt.Z,{variant:"h6"},"Ожидают добавления в друзья:"," ",t.received&&t.received.length>0?t.received.length:0)),Cr.createElement(tt.Z,{sx:{display:"grid",alignContent:"start",rowGap:"8px"}},t.received.map((e=>Cr.createElement(kr,{key:e.id,id:e.id,name:e.name,status:e.status,image:e.image})))))}));var _r=r(7294);const Sr=(0,Ne.memo)((({id:e,name:t,status:r})=>_r.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"}},_r.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${dt.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:dt.palette.success.light},".MuiBadge-colorError":{backgroundColor:dt.palette.error.light}}},_r.createElement(Pt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error"},_r.createElement(Dt.Z,{sx:{backgroundColor:Mt.Z[500]}})),_r.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content"}},_r.createElement(rt.Z,{variant:"body2"},t||""),_r.createElement(rt.Z,{variant:"caption"},"online"===r?"В сети":"Не в сети"))),_r.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",alignItems:"center",justifyContent:"end"}},_r.createElement(rt.Z,{variant:"body1"},"Ожидает добавления в друзья"),_r.createElement(At,{variant:"contained",color:"primary",onClick:()=>{return void 0,null,t=function*(){const t=yield J.post("/remove-invite-to-friends",{friendId:e});return $t.emit("on-remove-invite-to-friends",e),t.data},new Promise(((e,r)=>{var n=e=>{try{o(t.next(e))}catch(e){r(e)}},a=e=>{try{o(t.throw(e))}catch(e){r(e)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,a);o((t=t.apply(undefined,null)).next())}));var t}},"Отклонить")))));var Ar=r(7294);const Ir=(0,Ne.memo)((()=>{const e=(0,a.v9)(Wt);return Ar.createElement(tt.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:dt.palette.grey[300],border:`1px solid ${dt.palette.grey[500]}`,borderRadius:"8px"}}},e.map((e=>Ar.createElement(Sr,{key:e.id,id:e.id,name:e.name,status:e.status}))))}));var zr=r(7294);const Tr=(0,Ne.memo)((({id:e,name:t,status:r,image:n,setSearchValue:o})=>{const i=(0,a.I0)();return zr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"}},zr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${dt.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:dt.palette.success.light},".MuiBadge-colorError":{backgroundColor:dt.palette.error.light}}},zr.createElement(Pt.Z,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error"},zr.createElement(Dt.Z,{sx:{backgroundColor:Mt.Z[500]},src:n})),zr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content"}},zr.createElement(rt.Z,{variant:"body2"},t||""),zr.createElement(rt.Z,{variant:"caption"},"online"===r?"В сети":"Не в сети"))),zr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(1, max-content)",columnGap:"24px",alignItems:"center",justifyContent:"end"}},zr.createElement(At,{variant:"contained",color:"primary",onClick:()=>{i(Ge({friend_id:e}))}},"Добавить в друзья")))}));var Gr=r(7294);const Rr=(0,Ne.memo)((()=>{const e=(0,a.I0)(),{users:t}=(0,a.v9)((e=>e.user)),[r,n]=(0,Ne.useState)("");return(0,Ne.useEffect)((()=>{}),[r]),(0,Ne.useEffect)((()=>{e(k()),$t.on("on-connect",(()=>{e(k())})),$t.on("on-disconnect",(()=>{e(k())}))}),[]),Gr.createElement(tt.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0"}},Gr.createElement(et,{fullWidth:!0,size:"small",placeholder:"Поиск по друзьям",value:r,onChange:e=>n(e.target.value)}),Gr.createElement(tt.Z,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:dt.palette.grey[300],border:`1px solid ${dt.palette.grey[500]}`,borderRadius:"8px"}}},t.map((e=>Gr.createElement(Tr,{key:e.id,id:e.id,name:e.name,status:e.status,image:e.image,setSearchValue:n})))))}));var Or=r(3816),jr=r(2026),Pr=r(5196),Dr=r(4399),Mr=r(3546),qr=r(9986),$r=r(4776),Fr=(e,t,r)=>new Promise(((n,a)=>{var o=e=>{try{l(r.next(e))}catch(e){a(e)}},i=e=>{try{l(r.throw(e))}catch(e){a(e)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,i);l((r=r.apply(e,t)).next())})),Wr=r(2132),Br=r(7294);const Ur=(0,Ne.memo)((()=>{const e=(0,Le.s0)(),t=(0,a.I0)(),r=(0,a.v9)(Ft),[n,o]=(0,Ne.useState)(""),[i,s]=(0,Ne.useState)(null==r?void 0:r.image),[c,d]=(0,Ne.useState)(null==r?void 0:r.description),[p,u]=(0,Ne.useState)(!0),[m,g]=(0,Ne.useState)(!1),{minutes:x,seconds:f}=(()=>{const[e,t]=(0,Ne.useState)(0);return(0,Ne.useEffect)((()=>{const e=setInterval((()=>{t((e=>e+1))}),1e3);return()=>clearInterval(e)}),[]),{minutes:Math.floor(e/60).toString().padStart(2,"0"),seconds:Number(e-60*Math.floor(e/60)).toString().padStart(2,"0")}})(),v=(0,Ne.useRef)(null);return(0,Ne.useEffect)((()=>{(null==r?void 0:r.description)&&d(r.description),(null==r?void 0:r.image)&&s(r.image)}),[null==r?void 0:r.description,null==r?void 0:r.image]),(0,Ne.useEffect)((()=>{const t=t=>{"Escape"===t.key&&e("friends")};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[]),(0,Ne.useEffect)((()=>{""!==n||i!==(null==r?void 0:r.image)||c!==(null==r?void 0:r.description)?g(!0):g(!1)}),[n,i,c]),Br.createElement(tt.Z,{sx:{position:"relative",display:"grid",padding:"60px 40px 80px 40px",alignContent:"start",backgroundColor:"#5e6065"}},Br.createElement(et,{sx:{display:"none"},type:"file",id:"image",name:"image",label:"Изображение профиля",inputProps:{ref:e=>v.current=e},onChange:e=>{const t=e.target.files?e.target.files[0]:null,r=new FileReader;t&&(r.readAsDataURL(t),r.onload=()=>{t.size>5242880&&Wr.Am.error("Изображение должно быть не более 5MB."),s(String(r.result))}),s(e.target.value)},placeholder:"Выберите изображение профиля",autoComplete:"off",fullWidth:!0,focused:!0}),Br.createElement(qr.Z,{key:$r.Z.name,message:"Аккуратнее, вы не сохранили изменения!",TransitionComponent:$r.Z,open:m,sx:{"&":{position:"absolute",left:"40px",transform:"none",width:"100%",".MuiSnackbarContent-root":{width:"100%"}}},onClose:(e,t)=>{"clickaway"!==t&&g(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},action:Br.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"16px",alignItems:"center"}},Br.createElement(ot.Z,{sx:{cursor:"pointer"},underline:"hover",onClick:()=>{o(""),s(null==r?void 0:r.image),d(null==r?void 0:r.description)}},Br.createElement(rt.Z,null,"Сброс")),Br.createElement(gt.Z,{sx:{textTransform:"initial"},variant:"contained",color:"success",onClick:()=>{t(h({color:n||void 0,image:i!==(null==r?void 0:r.image)?i:void 0,description:c!==(null==r?void 0:r.description)?c:void 0})),o(""),s(null==r?void 0:r.image),d(null==r?void 0:r.description)}},"Сохранить изменения"))}),Br.createElement(rt.Z,{className:l.iv`
          padding-bottom: 20px !important;
          font-weight: 600 !important;
          font-size: 20px !important;
          line-height: 24px !important;
          color: #ffffff !important;
          border-bottom: 1px solid #000000;
        `},"Профиль пользователя"),Br.createElement(tt.Z,{sx:{display:"grid",rowGap:"8px",position:"absolute",top:"60px",right:"-40px",textAlign:"center",cursor:"pointer","&:hover svg, &:focus svg":{fill:"#ffffff"}},onClick:()=>e("/friends")},Br.createElement(Or.Z,{sx:{width:"36px",height:"36px",fill:"#b9bbbe"}}),Br.createElement(rt.Z,{sx:{fontSize:"13px",color:"#b9bbbe"}},"ESC")),Br.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"340px 300px",columnGap:"20px",justifyContent:"space-between"}},Br.createElement(tt.Z,null,Br.createElement(tt.Z,{sx:{padding:"20px 0",borderBottom:"1px solid #000000"}},Br.createElement(rt.Z,{className:l.iv`
                margin-bottom: 8px !important;
                font-weight: 600 !important;
                font-size: 12px !important;
                line-height: 16px !important;
                text-transform: uppercase !important;
              `},"Аватар"),Br.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",alignItems:"center",columnGap:"16px"}},Br.createElement(At,{sx:{textTransform:"initial"},variant:"contained",onClick:()=>{v.current&&v.current.click()}},"Смена аватара"),(null==r?void 0:r.image)&&Br.createElement(ot.Z,{sx:{cursor:"pointer",color:"#ffffff",fontFamily:"sans-serif"},underline:"hover",onClick:()=>s("")},"Удалить аватар"))),Br.createElement(tt.Z,{sx:{padding:"20px 0",borderBottom:"1px solid #000000"}},Br.createElement(rt.Z,{className:l.iv`
                margin-bottom: 8px !important;
                font-weight: 600 !important;
                font-size: 12px !important;
                line-height: 16px !important;
                text-transform: uppercase !important;
              `},"Цвет профиля"),Br.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content max-content",columnGap:"16px"}},Br.createElement(tt.Z,null,Br.createElement(tt.Z,{sx:{display:"grid",alignItems:"center",justifyContent:"center",backgroundColor:(null==r?void 0:r.color)?r.color:null==r?void 0:r.default_color,width:"70px",height:"50px",borderRadius:"4px",cursor:"pointer"},onClick:()=>u(!0)},p&&Br.createElement(jr.Z,{sx:{fill:"#ffffff"},width:24,height:24})),Br.createElement(rt.Z,{className:l.iv`
                    font-size: 12px !important;
                    line-height: 16px !important;
                  `},"По умолчанию")),Br.createElement(tt.Z,{sx:{position:"relative"}},Br.createElement(tt.Z,{sx:{position:"relative",display:"grid",alignItems:"center",justifyContent:"center",backgroundColor:n,width:"70px",height:"50px",borderRadius:"4px",cursor:"pointer",border:n?"":"1px solid #000000"},onClick:()=>{o("#000000"),u(!1)}},!p&&Br.createElement(jr.Z,{sx:{fill:"#ffffff"},width:24,height:24}),Br.createElement("input",{className:l.iv`
                      position: absolute;
                      top: 0;
                      left: 0;
                      width: 100%;
                      height: 100%;
                      cursor: pointer;
                      opacity: 0;
                    `,type:"color",value:n,onChange:e=>{o(e.target.value),u(!1)}})),Br.createElement(Pr.Z,{sx:{position:"absolute",top:"0",right:"8px"},width:14,height:14}),Br.createElement(rt.Z,{className:l.iv`
                    font-size: 12px !important;
                    line-height: 16px !important;
                  `},"Пользовательские"))),Br.createElement(tt.Z,{sx:{paddingTop:"20px"}},Br.createElement(rt.Z,{className:l.iv`
                  margin-bottom: 8px !important;
                  font-weight: 600 !important;
                  font-size: 12px !important;
                  line-height: 16px !important;
                  text-transform: uppercase !important;
                `},"Баннер профиля"),Br.createElement(tt.Z,{sx:{display:"grid",rowGap:"16px",justifyItems:"start"}},Br.createElement(rt.Z,null,"Мы рекомендуем использовать изображение как минимум 600x240. Доступные форматы PNG, JPG или анимированные GIF размером не более 5МБ."),Br.createElement(At,{sx:{textTransform:"initial"},disableRipple:!0,disableElevation:!0,variant:"contained",color:"success",onClick:()=>null},"Загрузить баннер")))),Br.createElement(tt.Z,{sx:{padding:"20px 0"}},Br.createElement(rt.Z,{className:l.iv`
                margin-bottom: 8px !important;
                font-weight: 600 !important;
                font-size: 12px !important;
                line-height: 16px !important;
                text-transform: uppercase !important;
              `},"Обо мне"),Br.createElement(rt.Z,{className:l.iv`
                margin-bottom: 8px !important;
                font-size: 14px !important;
                line-height: 20px !important;
              `},"Можно использовать разметку теста и ссылки."),Br.createElement(et,{value:c,onChange:e=>d(e.target.value),multiline:!0,rows:4,fullWidth:!0}))),Br.createElement(tt.Z,null,Br.createElement(tt.Z,{sx:{padding:"20px 0 0 0"}},Br.createElement(rt.Z,{className:l.iv`
                margin-bottom: 8px !important;
                font-weight: 600 !important;
                font-size: 12px !important;
                line-height: 16px !important;
                text-transform: uppercase !important;
              `},"Предпросмотр")),Br.createElement(tt.Z,{sx:{display:"grid",gridTemplateRows:"60px 1fr",width:"300px",maxHeight:"429px",boxShadow:"0 8px 16px rgba(0,0,0,0.25)",borderRadius:"8px",overflow:"hidden"}},Br.createElement(tt.Z,{sx:{position:"relative",height:"60px",backgroundColor:(null==r?void 0:r.color)?r.color:null==r?void 0:r.default_color}},Br.createElement(tt.Z,{sx:{position:"absolute",top:"16px",left:"16px",width:"92px",height:"92px",backgroundImage:i?`url(${i})`:`url(${null==r?void 0:r.image})`,backgroundColor:(null==r?void 0:r.color)?r.color:null==r?void 0:r.default_color,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",border:`6px solid ${dt.palette.grey[900]}`,borderRadius:"50%",cursor:"pointer","&:hover, &:focus":{"&::before":{content:'""',display:"block",width:"100%",height:"100%",backdropFilter:"brightness(0.75)",borderRadius:"50%",overflow:"hidden"},"&::after":{content:'"Изменить аватар"',display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"white",fontFamily:"sans-serif",textTransform:"uppercase",fontSize:"10px"}}},onClick:()=>{v.current&&v.current.click()}},Br.createElement(tt.Z,{sx:{width:"28px",height:"28px",backgroundColor:dt.palette.grey[300],position:"absolute",top:"0",right:"0",borderRadius:"50%"}},Br.createElement(Dr.Z,{sx:{width:"18px",height:"18px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})))),Br.createElement(tt.Z,{sx:{padding:"48px 16px 16px 16px",backgroundColor:dt.palette.grey[900]}},Br.createElement(rt.Z,{className:l.iv`
                  padding: 16px 0;
                  color: #ffffff;
                `},null==r?void 0:r.name,Br.createElement(rt.Z,{className:l.iv`
                    font-size: 20px;
                    line-height: 24px;
                    color: #b9bbbe;
                    text-transform: uppercase;
                  `,component:"span"},"#",null==r?void 0:r.id.slice(-4))),Br.createElement(rt.Z,{className:l.iv`
                  margin-bottom: 8px !important;
                  padding: 20px 0 0 0 !important;
                  font-weight: 600 !important;
                  font-size: 12px !important;
                  line-height: 16px !important;
                  color: #b9bbbe;
                  text-transform: uppercase !important;
                  border-top: 1px solid ${dt.palette.grey[800]};
                `,variant:"subtitle1"},"Обо мне"),Br.createElement(rt.Z,{sx:{maxHeight:"108px",paddingBottom:"20px"},color:"lightgray"},c),Br.createElement(rt.Z,{className:l.iv`
                  margin-bottom: 8px !important;
                  padding: 20px 0 0 0 !important;
                  font-weight: 600 !important;
                  font-size: 12px !important;
                  line-height: 16px !important;
                  color: #b9bbbe;
                  text-transform: uppercase !important;
                  border-top: 1px solid ${dt.palette.grey[800]};
                `,variant:"subtitle1"},"Настройка профиля"),Br.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"64px 1fr",columnGap:"16px",alignItems:"center"}},Br.createElement(tt.Z,{sx:{width:"64px",height:"64px",backgroundColor:dt.palette.primary.light,borderRadius:"8px",display:"grid",alignItems:"center",justifyContent:"center"}},Br.createElement(Mr.Z,{sx:{fill:"#ffffff"},width:24,height:24})),Br.createElement(tt.Z,null,Br.createElement(rt.Z,{variant:"subtitle1",color:"lightgray"},"Профиль пользователя"),Br.createElement(rt.Z,{color:"lightgray"},"Прошло ",x,":",f))))))))}));var Nr=r(5537),Lr=r(5729),Vr=r(7294);const Hr=(0,Ne.memo)((({isOpen:e,onClose:t})=>{const r=(0,a.I0)(),[n,o]=(0,Ne.useState)(""),[i,l]=(0,Ne.useState)("");return Vr.createElement(Lr.Z,{open:e,onBackdropClick:t,disableEnforceFocus:!0},Vr.createElement(tt.Z,{sx:{width:"440px",backgroundColor:"#4a4c52",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"5px",overflow:"hidden"}},Vr.createElement(tt.Z,{sx:{position:"relative",display:"grid",rowGap:"8px",padding:"24px 16px"}},Vr.createElement(rt.Z,{sx:{fontSize:"24px",color:"#ffffff",textAlign:"center"}},"Введите адрес электронной почты"),Vr.createElement(rt.Z,{sx:{fontSize:"16px",color:"#c0c1c4",textAlign:"center"}},"Введите новый адрес электронной почты и текущий пароль."),Vr.createElement(tt.Z,{sx:{position:"absolute",top:"16px",right:"16px",cursor:"pointer","& svg":{fill:"#c0c1c4"},"& svg:hover, & svg:focus":{fill:"#ffffff"}},onClick:t},Vr.createElement(Nr.Z,null))),Vr.createElement(tt.Z,{sx:{display:"grid",rowGap:"16px",padding:"0 16px 24px 16px"}},Vr.createElement(tt.Z,{sx:{display:"grid",rowGap:"8px"}},Vr.createElement(rt.Z,{sx:{fontSize:"14px",color:"#c0c1c4",textTransform:"uppercase"}},"Электронная почта"),Vr.createElement(et,{sx:{backgroundColor:"#36383a",".MuiOutlinedInput-input":{color:"#dfe0e1"},"input:-webkit-autofill":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:hover":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:focus":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:active":{boxShadow:"0 0 0 30px #36383a inset"}},type:"email",id:"email",name:"email",value:n,onChange:e=>o(e.target.value),autoComplete:"off",fullWidth:!0})),Vr.createElement(tt.Z,{sx:{display:"grid",rowGap:"8px"}},Vr.createElement(rt.Z,{sx:{fontSize:"14px",color:"#c0c1c4",textTransform:"uppercase"}},"Текущий пароль"),Vr.createElement(et,{sx:{backgroundColor:"#36383a",".MuiOutlinedInput-input":{color:"#dfe0e1"},"input:-webkit-autofill":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:hover":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:focus":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:active":{boxShadow:"0 0 0 30px #36383a inset"}},type:"password",id:"password",name:"password",value:i,onChange:e=>l(e.target.value),autoComplete:"off",fullWidth:!0}))),Vr.createElement(tt.Z,{sx:{display:"grid",justifyContent:"end",gridTemplateColumns:"repeat(2, max-content)",columnGap:"8px",padding:"16px",backgroundColor:"#43454a"}},Vr.createElement(ot.Z,{sx:{display:"grid",alignItems:"center",color:"#ffffff",cursor:"pointer",padding:"2px 16px"},underline:"hover",onClick:()=>{o(""),l(""),t()}},Vr.createElement(rt.Z,{sx:{fontSize:"14px"}},"Отмена")),Vr.createElement(At,{sx:{textTransform:"initial"},variant:"contained",onClick:()=>{n.trim()&&i.trim()&&(r(h({email:n,password:i})),t())}},"Готово"))))}));var Yr=r(7294);const Jr=(0,Ne.memo)((({isOpen:e,onClose:t})=>{const r=(0,a.I0)(),{user:n}=(0,a.v9)((e=>e.user)),[o,i]=(0,Ne.useState)(null==n?void 0:n.name),[l,s]=(0,Ne.useState)("");return Yr.createElement(Lr.Z,{open:e,onBackdropClick:t,disableEnforceFocus:!0},Yr.createElement(tt.Z,{sx:{width:"440px",backgroundColor:"#4a4c52",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"5px",overflow:"hidden"}},Yr.createElement(tt.Z,{sx:{position:"relative",display:"grid",rowGap:"8px",padding:"24px 16px"}},Yr.createElement(rt.Z,{sx:{fontSize:"24px",color:"#ffffff",textAlign:"center"}},"Изменить имя пользователя"),Yr.createElement(rt.Z,{sx:{fontSize:"16px",color:"#c0c1c4",textAlign:"center"}},"Введите новое имя пользователя и текущий пароль."),Yr.createElement(tt.Z,{sx:{position:"absolute",top:"16px",right:"16px",cursor:"pointer","& svg":{fill:"#c0c1c4"},"& svg:hover, & svg:focus":{fill:"#ffffff"}},onClick:t},Yr.createElement(Nr.Z,{sx:{}}))),Yr.createElement(tt.Z,{sx:{display:"grid",rowGap:"16px",padding:"0 16px 24px 16px"}},Yr.createElement(tt.Z,{sx:{display:"grid",rowGap:"8px"}},Yr.createElement(rt.Z,{sx:{fontSize:"14px",color:"#c0c1c4",textTransform:"uppercase"}},"Имя пользователя"),Yr.createElement(et,{sx:{backgroundColor:"#36383a",".MuiOutlinedInput-input":{color:"#dfe0e1"},"input:-webkit-autofill":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:hover":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:focus":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:active":{boxShadow:"0 0 0 30px #36383a inset"}},type:"text",id:"name",name:"name",value:o,onChange:e=>i(e.target.value),autoComplete:"off",fullWidth:!0})),Yr.createElement(tt.Z,{sx:{display:"grid",rowGap:"8px"}},Yr.createElement(rt.Z,{sx:{fontSize:"14px",color:"#c0c1c4",textTransform:"uppercase"}},"Текущий пароль"),Yr.createElement(et,{sx:{backgroundColor:"#36383a",".MuiOutlinedInput-input":{color:"#dfe0e1"},"input:-webkit-autofill":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:hover":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:focus":{boxShadow:"0 0 0 30px #36383a inset"},"input:-webkit-autofill:active":{boxShadow:"0 0 0 30px #36383a inset"}},type:"password",id:"password",name:"password",value:l,onChange:e=>s(e.target.value),autoComplete:"off",fullWidth:!0}))),Yr.createElement(tt.Z,{sx:{display:"grid",justifyContent:"end",gridTemplateColumns:"repeat(2, max-content)",columnGap:"8px",padding:"16px",backgroundColor:"#43454a"}},Yr.createElement(ot.Z,{sx:{display:"grid",alignItems:"center",color:"#ffffff",cursor:"pointer",padding:"2px 16px"},underline:"hover",onClick:()=>{i(null==n?void 0:n.name),s(""),t()}},Yr.createElement(rt.Z,{sx:{fontSize:"14px"}},"Отмена")),Yr.createElement(At,{sx:{textTransform:"initial"},variant:"contained",onClick:()=>{(null==o?void 0:o.trim())&&l.trim()&&(r(h({name:o,password:l})),t())}},"Готово"))))}));var Kr=r(7294);const Qr=(0,Ne.memo)((()=>{const e=(0,Le.s0)(),t=(0,a.v9)(Ft),[r,n]=(0,Ne.useState)(!1),[o,i]=(0,Ne.useState)(!1),[l,s]=(0,Ne.useState)(!1);return(0,Ne.useEffect)((()=>{const t=t=>{"Escape"===t.key&&e("friends")};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[]),Kr.createElement(tt.Z,{sx:{position:"relative",display:"grid",padding:"60px 40px 80px 40px",alignContent:"start",backgroundColor:"#5e6065"}},Kr.createElement(Jr,{isOpen:o,onClose:()=>i(!1)}),Kr.createElement(Hr,{isOpen:l,onClose:()=>s(!1)}),Kr.createElement(rt.Z,{sx:{paddingBottom:"20px",fontWeight:600,fontSize:"20px",lineHeight:"24px",color:"#ffffff"}},"Моя учетная запись"),Kr.createElement(tt.Z,{sx:{display:"grid",rowGap:"8px",position:"absolute",top:"60px",right:"-40px",textAlign:"center",cursor:"pointer","&:hover svg, &:focus svg":{fill:"#ffffff"}},onClick:()=>e("friends")},Kr.createElement(Or.Z,{sx:{width:"36px",height:"36px",fill:"#b9bbbe"}}),Kr.createElement(rt.Z,{sx:{fontSize:"13px",color:"#b9bbbe"}},"ESC")),Kr.createElement(tt.Z,{sx:{display:"grid"}},Kr.createElement(tt.Z,{sx:{backgroundColor:"#36383a",border:"1px solid#1c1e21",borderRadius:"4px",padding:"20px"}},Kr.createElement(tt.Z,null),Kr.createElement(tt.Z,{sx:{display:"grid",rowGap:"8px",justifyItems:"start"}},Kr.createElement(rt.Z,{sx:{fontSize:"12px",color:"#c0c1c4",textTransform:"uppercase"}},"Неподтвержденный адрес эл.почты"),Kr.createElement(rt.Z,{sx:{fontSize:"14px",color:"#dfe0e1"}},"Пожалуйста, проверьте свою электронную почту и следуйте инструкциям, чтобы подтвердить свой адресс электронной почты. Если вы не получили письмо или у него истек срок действия, вы можете попросить отправить новое."),Kr.createElement(At,{sx:{textTransform:"none",backgroundColor:"#686d73","&:hover, &:focus":{backgroundColor:"#84888d"},"&:active":{backgroundColor:"#6b6e74"}},variant:"contained"},"Отправить письмо с подтверждением еще раз"))),Kr.createElement(tt.Z,{sx:{margin:"20px 0",backgroundColor:"#36383a",borderRadius:"4px",overflow:"hidden"}},Kr.createElement(tt.Z,{sx:{position:"relative",backgroundColor:(null==t?void 0:t.color)?t.color:null==t?void 0:t.default_color,height:"100px"}},Kr.createElement(tt.Z,{sx:{position:"absolute",top:"76px",left:"16px",width:"94px",height:"94px",backgroundImage:(null==t?void 0:t.image)?`url(${null==t?void 0:t.image})`:"none",backgroundColor:(null==t?void 0:t.color)?t.color:null==t?void 0:t.default_color,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",border:"6px solid #36383a",borderRadius:"50%",cursor:"pointer"}},Kr.createElement(tt.Z,{sx:{width:"24px",height:"24px",backgroundColor:"online"===(null==t?void 0:t.status)?"#4caf50":"#ef5350",position:"absolute",bottom:0,right:0,borderRadius:"50%",border:"4px solid #36383a"}}))),Kr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",justifyContent:"space-between",alignItems:"center",padding:"16px 16px 16px 120px"}},Kr.createElement(rt.Z,{sx:{fontSize:"20px",color:"#ffffff"}},null==t?void 0:t.name,Kr.createElement(rt.Z,{component:"span",sx:{fontSize:"20px",color:"#c0c1c4"}},"#",null==t?void 0:t.id.slice(-4))),Kr.createElement(At,{sx:{textTransform:"none"},variant:"contained",onClick:()=>e("/settings/user-profile")},"Настр. профиль пользователя")),Kr.createElement(tt.Z,{sx:{display:"grid",margin:"16px",padding:"16px",backgroundColor:"#43454a",borderRadius:"4px"}},Kr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",justifyContent:"space-between",alignItems:"center",padding:"8px 0"}},Kr.createElement(tt.Z,null,Kr.createElement(rt.Z,{sx:{fontSize:"12px",color:"#c0c1c4",textTransform:"uppercase"}},"Имя пользователя"),Kr.createElement(rt.Z,{sx:{fontSize:"16px",color:"#ffffff"}},null==t?void 0:t.name,Kr.createElement(rt.Z,{component:"span",sx:{fontSize:"16px",color:"#c0c1c4",textTransform:"uppercase"}},"#",null==t?void 0:t.id.slice(-4)))),Kr.createElement(At,{sx:{textTransform:"none",backgroundColor:"#686d73","&:hover, &:focus":{backgroundColor:"#84888d"},"&:active":{backgroundColor:"#6b6e74"}},variant:"contained",onClick:()=>i(!0)},"Изменить")),Kr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",justifyContent:"space-between",alignItems:"center",padding:"8px 0"}},Kr.createElement(tt.Z,null,Kr.createElement(rt.Z,{sx:{fontSize:"12px",color:"#c0c1c4",textTransform:"uppercase"}},"Электронная почта"),Kr.createElement(rt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"8px",fontSize:"16px",color:"#ffffff"}},r?null==t?void 0:t.email:(e=>{const t=e.search("@");return Array(t).fill("*").join("")+e.slice(t)})(null==t?void 0:t.email),Kr.createElement(ot.Z,{sx:{cursor:"pointer",color:"#19b7f5"},underline:"hover",onClick:()=>n(!r)},Kr.createElement(rt.Z,null,r?"Скрыть":"Показать")))),Kr.createElement(At,{sx:{textTransform:"none",backgroundColor:"#686d73","&:hover, &:focus":{backgroundColor:"#84888d"},"&:active":{backgroundColor:"#6b6e74"}},variant:"contained",onClick:()=>s(!0)},"Изменить")),Kr.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",justifyContent:"space-between",alignItems:"center",padding:"8px 0"}},Kr.createElement(tt.Z,null,Kr.createElement(rt.Z,{sx:{fontSize:"12px",color:"#c0c1c4",textTransform:"uppercase"}},"Номер телефона"),Kr.createElement(rt.Z,{sx:{fontSize:"16px",color:"#ffffff"}},"Вы еще не указали номер телефона.")),Kr.createElement(At,{sx:{textTransform:"none",backgroundColor:"#686d73","&:hover, &:focus":{backgroundColor:"#84888d"},"&:active":{backgroundColor:"#6b6e74"}},variant:"contained",disabled:!0},"Изменить"))))))}));var Xr=r(7920),en=r(8646),tn=r(9041),rn=r(165),nn=r(542),an=r(6965),on=r(9149),ln=r(7294);const sn=(0,Ne.memo)((()=>{const e=(0,Le.s0)(),{state:t,stream:r,getUserMedia:n}=(()=>{const[e,t]=(0,Ne.useState)(),[r,n]=(0,Ne.useState)(),[a,o]=(0,Ne.useState)(),i=()=>{r&&r.getTracks().forEach((e=>{e.stop()}))};return(0,Ne.useEffect)((()=>()=>{i()}),[r]),{state:e,stream:r,error:a,getUserMedia:e=>Fr(void 0,null,(function*(){try{t("pending");const r=yield navigator.mediaDevices.getUserMedia(e);t("fulfilled"),n(r)}catch(e){t("rejected"),o(e)}})),stopUserMedia:i}})(),{audioInDevices:a,audioOutDevices:o,videoInDevices:i,getDeviceInfo:s}=(()=>{const[e,t]=(0,Ne.useState)(),[r,n]=(0,Ne.useState)([]),[a,o]=(0,Ne.useState)([]),[i,l]=(0,Ne.useState)([]),[s,c]=(0,Ne.useState)();return{state:e,audioInDevices:r,audioOutDevices:a,videoInDevices:i,error:s,getDeviceInfo:()=>Fr(void 0,null,(function*(){try{t("pending");const e=yield navigator.mediaDevices.enumerateDevices();t("fulfilled");const r=e.filter((e=>"audioinput"===e.kind)),a=e.filter((e=>"audiooutput"===e.kind)),i=e.filter((e=>"videoinput"===e.kind));n(r),o(a),l(i)}catch(e){t("rejected"),c(e)}}))}})(),[c,d]=(0,Ne.useState)(""),[p,u]=(0,Ne.useState)(""),[m,g]=(0,Ne.useState)(""),[x,f]=(0,Ne.useState)(!1),[v,h]=(0,Ne.useState)(!1),E=(0,Ne.useRef)(),b=(0,Ne.useRef)();return(0,Ne.useEffect)((()=>{a.length>0&&d(a[0].deviceId),o.length>0&&u(o[0].deviceId),i.length>0&&g(i[0].deviceId)}),[a,o,i]),(0,Ne.useEffect)((()=>{"fulfilled"===t&&s()}),[t]),(0,Ne.useEffect)((()=>{s(),n({audio:!0,video:!1})}),[]),(0,Ne.useEffect)((()=>{if("fulfilled"===t&&r&&b.current&&E.current){const e=new MediaStream(r.getAudioTracks()),t=new MediaStream(r.getVideoTracks());b.current.srcObject=e,E.current.srcObject=t}return()=>{b.current&&E.current&&(b.current.srcObject=null,E.current.srcObject=null)}}),[t,r]),ln.createElement(tt.Z,{sx:{position:"relative",display:"grid",padding:"60px 40px 80px 40px",alignContent:"start",backgroundColor:"#5e6065"}},ln.createElement(tt.Z,{sx:{display:"grid",rowGap:"8px",position:"absolute",top:"60px",right:"-40px",textAlign:"center",cursor:"pointer","&:hover svg, &:focus svg":{fill:"#ffffff"}},onClick:()=>e("/friends")},ln.createElement(Or.Z,{sx:{width:"36px",height:"36px",fill:"#b9bbbe"}}),ln.createElement(rt.Z,{sx:{fontSize:"13px",color:"#b9bbbe"}},"ESC")),ln.createElement(rt.Z,{className:l.iv`
          padding-bottom: 20px !important;
          font-weight: 600 !important;
          font-size: 20px !important;
          line-height: 24px !important;
          color: #ffffff !important;
        `},"Насройки голоса"),ln.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 320px)",alignItems:"center",columnGap:"16px",marginBottom:"16px"}},ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Устройство ввода"),ln.createElement(Xr.Z,{id:"audioInDevice",value:c||"default",onChange:e=>d(e.target.value),fullWidth:!0},a.map((e=>ln.createElement(sr.Z,{key:e.deviceId,sx:{maxWidth:"320px",whiteSpace:"normal"},value:e.deviceId||"default"},e.label||"Default"))))),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Устройство вывода"),ln.createElement(Xr.Z,{id:"audioOutDevice",value:p||"default",onChange:e=>u(e.target.value),fullWidth:!0},o.map((e=>ln.createElement(sr.Z,{key:e.deviceId,sx:{maxWidth:"320px",whiteSpace:"normal"},value:e.deviceId||"default"},e.label||"Default"))))),ln.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 320px)",alignItems:"center",columnGap:"16px",marginBottom:"16px"}},ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Громкость микрофона"),ln.createElement(en.ZP,{defaultValue:100,valueLabelDisplay:"auto",max:100})),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Громкость звука"),ln.createElement(en.ZP,{defaultValue:100,valueLabelDisplay:"auto",max:200})))),ln.createElement(tt.Z,{sx:{display:"grid",marginBottom:"16px"}},ln.createElement(rt.Z,null,"Проверка микрофона"),ln.createElement(rt.Z,{variant:"caption"},"Проблемы с микрофоном? Начните проверку и скажите какую-нибудь ерунду - мы тут же ее воспроизведем."),ln.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center",columnGap:"8px"}},ln.createElement(At,{variant:"contained",onClick:()=>f(!x)},x?"Прекратить проверку":"Давайте проверим"),ln.createElement(tt.Z,null,ln.createElement(tn.Z,{variant:"determinate",value:0}),x&&ln.createElement(rt.Z,{variant:"caption"},"Воспроизводим ваш прекрасный голос")),ln.createElement(tt.Z,{component:"audio",ref:b,autoPlay:!0,muted:!x})),ln.createElement(rt.Z,{variant:"caption"},"Нужна помощь с голосовым или видеочатом? Ознакомьтесь с нашим"," ",ln.createElement(ot.Z,null,"руководством по устранению неполадок"),".")),ln.createElement(Rt.Z,{sx:{margin:"32px 0",borderColor:dt.palette.grey[800]}}),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Режим ввода"),ln.createElement(rn.Z,{defaultValue:"voice"},ln.createElement(nn.Z,{value:"voice",control:ln.createElement(an.Z,null),label:"Активация по голосу"}),ln.createElement(nn.Z,{value:"button",control:ln.createElement(an.Z,null),label:"Режим рации (ограниченный)"}))),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Чувствительнось ввода"),ln.createElement(en.ZP,{defaultValue:40,valueLabelDisplay:"auto",max:100})),ln.createElement(Rt.Z,{sx:{margin:"32px 0",borderColor:dt.palette.grey[800]}}),ln.createElement(tt.Z,null,ln.createElement(rt.Z,{className:l.iv`
            font-weight: 600 !important;
            font-size: 20px !important;
            line-height: 24px !important;
            color: #ffffff !important;
          `},"Насройки видео"),ln.createElement(tt.Z,{sx:{display:"grid",rowGap:"16px"}},ln.createElement(tt.Z,{sx:{position:"relative",width:"100%",height:"220px",backgroundColor:dt.palette.grey[500],display:"grid",alignItems:"center",justifyContent:"center",borderRadius:"8px",boxShadow:`inset 0 0 0 1px ${dt.palette.grey[800]}`}},ln.createElement(tt.Z,{sx:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},component:"video",ref:E,autoPlay:!0,muted:!0}),!v&&ln.createElement(At,{variant:"contained",onClick:()=>{n({audio:!0,video:!0}),h(!0)}},"Проверить видео")))),ln.createElement(tt.Z,null,ln.createElement(tt.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",alignItems:"center",justifyContent:"space-between"}},ln.createElement(rt.Z,null,"Препросмотр видео (всегда)"),ln.createElement(on.Z,{checked:!1})),ln.createElement(rt.Z,null,"Использовать предпросмотр каждый раз, как вы включаете видео")),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Камера"),ln.createElement(Xr.Z,{id:"videoInDevice",value:m||"default",onChange:e=>g(e.target.value),fullWidth:!0},i.map((e=>ln.createElement(sr.Z,{key:e.deviceId,sx:{maxWidth:"320px",whiteSpace:"normal"},value:e.deviceId||"default"},e.label||"Default"))))),ln.createElement(Rt.Z,{sx:{margin:"32px 0",borderColor:dt.palette.grey[800]}}),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Расширенные"),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Аудио кодек"),ln.createElement(tt.Z,{sx:{border:"1px solid #000000"}},ln.createElement(rt.Z,null,"Video Calls использует отборный, органический, выращенный на домашней грядке голосовой кодек Opus,"))),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Обработка голоса"),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Эхоподавление"),ln.createElement(on.Z,{checked:!0})),ln.createElement(Rt.Z,{sx:{margin:"8px 0",borderColor:dt.palette.grey[800]}}),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Шумоподавление"),ln.createElement(on.Z,{checked:!1})),ln.createElement(Rt.Z,{sx:{margin:"8px 0",borderColor:dt.palette.grey[800]}}),ln.createElement(tt.Z,null,ln.createElement(rt.Z,null,"Автоматическа регулировка усиления"),ln.createElement(on.Z,{checked:!0})),ln.createElement(Rt.Z,{sx:{margin:"8px 0",borderColor:dt.palette.grey[800]}})),ln.createElement(tt.Z,null,ln.createElement(At,{variant:"outlined",color:"error"},"Сбросить голосовые настройки"))))}));var cn=r(7294);const dn=(0,Ne.memo)((()=>cn.createElement(Le.Z5,null,cn.createElement(Le.AW,{path:"friends",element:cn.createElement(Qt,null)},cn.createElement(Le.AW,{index:!0,element:cn.createElement(Le.Fg,{to:"online"})}),cn.createElement(Le.AW,{path:"online",element:cn.createElement(yr,null)}),cn.createElement(Le.AW,{path:"all",element:cn.createElement(xr,null)}),cn.createElement(Le.AW,{path:"invitations",element:cn.createElement(wr,null)}),cn.createElement(Le.AW,{path:"blocked",element:cn.createElement(Ir,null)}),cn.createElement(Le.AW,{path:"add",element:cn.createElement(Rr,null)})),cn.createElement(Le.AW,{path:"settings",element:cn.createElement(rr,null)},cn.createElement(Le.AW,{path:"user-account",element:cn.createElement(Qr,null)}),cn.createElement(Le.AW,{path:"user-profile",element:cn.createElement(Ur,null)}),cn.createElement(Le.AW,{path:"voice-and-video",element:cn.createElement(sn,null)})),cn.createElement(Le.AW,{path:"channels",element:cn.createElement(ir,null)}),cn.createElement(Le.AW,{path:"*",element:cn.createElement(Le.Fg,{to:"friends/online"})}))));var pn=r(7294);const un=(0,Ne.memo)((({isAuthorizated:e})=>e?pn.createElement(dn,null):pn.createElement(bt,null)));var mn=r(7294);const gn=()=>{const e=(0,a.I0)(),{authorizated:t}=(0,a.v9)((e=>e.authorization)),{user:r}=(0,a.v9)((e=>e.user));return(0,Ne.useEffect)((()=>{if(localStorage.getItem("access_token")){const t=localStorage.getItem("refresh_token");t&&e(B({refresh_token:t}))}}),[]),(0,Ne.useEffect)((()=>{t&&(e(x()),$t.on("on-connect",(()=>{e(x())})))}),[t]),(0,Ne.useEffect)((()=>{(null==r?void 0:r.id)&&$t.emit("on-connect",r.id)}),[null==r?void 0:r.id]),mn.createElement(un,{isAuthorizated:t})};var xn=r(3362),fn=r(7294);const vn=()=>(l.hi`
    *,
    *::before,
    *::after {
      box-sizing: inherit;
    }

    html {
      box-sizing: border-box;
    }

    html,
    body,
    .root {
      height: 100%;
    }

    body {
      margin: 0;
      background: radial-gradient(105.05% 99.28% at 50% 29.72%, #8c9eff 0%, #536dfe 42.9%, #536dfe 61.7%, #3d5afe 84.71%, #304ffe 100%);
      background-repeat: no-repeat;
    }

    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    input:-webkit-autofill:active {
      box-shadow: 0 0 0 30px #ffffff inset;
    }
  `,(0,xn.D)(),fn.createElement(a.zt,{store:Ue},fn.createElement(i.Z,{theme:dt},fn.createElement(o.UT,null,fn.createElement(gn,null),fn.createElement(Wr.Ix,{theme:"light"})))));(0,n.render)(fn.createElement(vn,null),document.querySelector(".root"))}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,a,o]=e[d],l=!0,s=0;s<r.length;s++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(l=!1,o<i&&(i=o));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,l,s]=r,c=0;if(i.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var d=s(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},r=globalThis.webpackChunkvideo_calls=globalThis.webpackChunkvideo_calls||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[160],(()=>n(8381)));a=n.O(a)})();
//# sourceMappingURL=main.7b0da690537c8757a8a0.js.map