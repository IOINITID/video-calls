/*! For license information please see index.34aca41c.js.LICENSE.txt */
(function(){var e,t,r,i,n={935877:function(e,t,r){"use strict";e.exports=r.p+"static/image/authorization-image.28bc70d8.jpg"},479807:function(e,t,r){"use strict";r.r(t),r.d(t,{App:function(){return p}});var i=r("785893"),n=r("667294"),s=r("128092"),o=r("50533"),a=r("261309"),c=r("95831"),l=r("993822"),d=r("837014"),u=r("1243");let p=()=>{let e=(0,o.useDispatch)(),{authorizated:t}=(0,o.useSelector)(e=>e.authorization),{user:r}=(0,o.useSelector)(e=>e.user),[p,x]=(0,n.useState)(!1),[h,g]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(localStorage.getItem("access_token")){let t=localStorage.getItem("refresh_token");t&&e((0,a.requestRefreshAction)({refresh_token:t}))}},[]),(0,n.useEffect)(()=>{t&&(e((0,c.requestGetUserAction)()),l.socket.on(d.Event.Server.Connect,()=>{e((0,c.requestGetUserAction)())}),l.socket.on("server:meet_start_call",e=>{x(!0),g(e.userFromCall),console.log(`LOGS: \u{412}\u{445}\u{43E}\u{434}\u{44F}\u{449}\u{438}\u{439} \u{432}\u{44B}\u{437}\u{43E}\u{432} \u{43E}\u{442} \u{43F}\u{43E}\u{43B}\u{44C}\u{437}\u{43E}\u{432}\u{430}\u{442}\u{435}\u{43B}\u{44F}: ${e.userFromCall.name}`)}),l.socket.on("server:meet_end_call",()=>{x(!1),console.log("LOGS: \u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u0432\u044B\u0437\u043E\u0432 \u043E\u0442 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043E\u0442\u043A\u043B\u043E\u043D\u0435\u043D.")}))},[t]),(0,n.useEffect)(()=>{if(r?.id){l.socket.emit(d.Event.Client.Connect,r.id);window.addEventListener("online",()=>{l.socket.emit(d.Event.Client.Connect,r.id),console.log("Client status: online")}),window.addEventListener("offline",()=>{console.log("Client status: offline")})}},[r?.id]),(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsx)(s.PrivateRoutes,{}):(0,i.jsx)(s.PublicRoutes,{}),p?(0,i.jsx)(u.IncomingCallModal,{onClose:()=>x(!1),user:h}):null]})}},551983:function(e,t,r){"use strict";r.r(t),r.d(t,{App:function(){return i.App}});var i=r("479807")},995744:function(e,t,r){"use strict";r.r(t),r.d(t,{Button:function(){return s}});var i=r("785893"),n=r("897133");let s=({children:e,...t})=>(0,i.jsx)("button",{className:(0,n.css)`
        padding: 8px 16px;
      `,...t,children:e})},540043:function(e,t,r){"use strict";r.r(t),r.d(t,{Button:function(){return i.Button}});var i=r("995744")},268794:function(e,t,r){"use strict";r.r(t),r.d(t,{Input:function(){return i.Input}});var i=r("887010")},887010:function(e,t,r){"use strict";r.r(t),r.d(t,{Input:function(){return s}});var i=r("785893"),n=r("897133");let s=e=>(0,i.jsx)("input",{className:(0,n.css)`
        padding: 8px 16px;
      `,...e})},8950:function(e,t,r){"use strict";r.r(t),r.d(t,{Navigation:function(){return i.Navigation}});var i=r("308537")},308537:function(e,t,r){"use strict";r.r(t),r.d(t,{Navigation:function(){return a}});var i=r("785893"),n=r("639711"),s=r("807104"),o=r("897133");let a=()=>{let e=(0,n.useNavigate)();return(0,i.jsxs)("div",{className:(0,o.css)`
        display: grid;
        justify-content: center;
        align-content: start;
        row-gap: 24px;
        height: 100%;
        padding: 25px 16px;
      `,children:[(0,i.jsxs)("div",{className:(0,o.css)`
          display: grid;
          row-gap: 16px;
        `,children:[(0,i.jsx)(s.Tooltip,{title:"\u0414\u0440\u0443\u0437\u044C\u044F",arrow:!0,placement:"right",children:(0,i.jsx)("div",{className:(0,o.css)`
              display: grid;
              justify-content: center;
              width: 40px;
              padding: 8px;
              background-color: #fefefe;
              border-radius: 8px;
              cursor: pointer;
            `,onClick:()=>e("/friends")})}),(0,i.jsx)(s.Tooltip,{title:"\u041A\u0430\u043D\u0430\u043B\u044B",arrow:!0,placement:"right",children:(0,i.jsx)("div",{className:(0,o.css)`
              display: grid;
              justify-content: center;
              width: 40px;
              padding: 8px;
              background-color: #fefefe;
              border-radius: 8px;
              cursor: pointer;
            `,onClick:()=>e("/channels")})})]}),(0,i.jsx)("hr",{}),(0,i.jsx)(s.Tooltip,{title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",arrow:!0,placement:"right",children:(0,i.jsx)("div",{className:(0,o.css)`
            display: grid;
            justify-content: center;
            width: 40px;
            padding: 8px;
            background-color: #fefefe;
            border-radius: 8px;
            cursor: pointer;
          `,onClick:()=>e("/settings")})})]})}},652320:function(e,t,r){"use strict";r.r(t),r.d(t,{Root:function(){return i.Root}});var i=r("33513")},33513:function(e,t,r){"use strict";r.r(t),r.d(t,{Root:function(){return c}});var i=r("785893"),n=r("50533"),s=r("639711"),o=r("580199"),a=r("551983");let c=()=>(0,i.jsx)(n.Provider,{store:o.store,children:(0,i.jsx)(s.HashRouter,{children:(0,i.jsx)(a.App,{})})})},49628:function(e,t,r){"use strict";r.r(t),r.d(t,{Select:function(){return i.Select}});var i=r("338525")},338525:function(e,t,r){"use strict";r.r(t),r.d(t,{Select:function(){return s}});var i=r("785893"),n=r("570763");let s=e=>(0,i.jsx)(n.default,{options:e.options,values:e.values,onChange:e=>e})},35357:function(e,t,r){"use strict";r.r(t),r.d(t,{UserAddInviteToFriends:function(){return i.UserAddInviteToFriendsMemoized}});var i=r("920457")},920457:function(e,t,r){"use strict";r.r(t),r.d(t,{UserAddInviteToFriendsMemoized:function(){return u}});var i=r("785893"),n=r("807104"),s=r("667294"),o=r("302609"),a=r("540043"),c=r("50533"),l=r("722488"),d=r("444235");let u=(0,s.memo)(({id:e,name:t,status:r,image:s,sentInvitation:u,addToFriends:p,receivedInvitation:x,setSearchValue:h})=>{let g=(0,c.useDispatch)(),{user:m}=(0,c.useSelector)(e=>e.user);return(0,i.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"},children:[(0,i.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${o.theme.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:o.theme.palette.success.light},".MuiBadge-colorError":{backgroundColor:o.theme.palette.error.light}},children:[(0,i.jsx)(n.Badge,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error",children:(0,i.jsx)(n.Avatar,{sx:{backgroundColor:n.colors.deepPurple["500"]},src:s})}),(0,i.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:"max-content"},children:[(0,i.jsx)(n.Typography,{variant:"body2",children:t||""}),(0,i.jsx)(n.Typography,{variant:"caption",children:"online"===r?"\u0412 \u0441\u0435\u0442\u0438":"\u041D\u0435 \u0432 \u0441\u0435\u0442\u0438"})]})]}),(0,i.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(1, max-content)",columnGap:"24px",alignItems:"center",justifyContent:"end"},children:[!p&&!u&&!x&&(0,i.jsx)(a.Button,{onClick:()=>{g((0,l.requestSentInvitationsAction)({friend_id:e}))},children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u0434\u0440\u0443\u0437\u044C\u044F"}),p&&(0,i.jsx)(a.Button,{onClick:()=>{g((0,d.requestRemoveFromFriendsAction)({friend_id:e}))},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"}),u&&(0,i.jsx)(a.Button,{onClick:()=>{g((0,l.requestDeclineInvitationsAction)({friend_id:e}))},children:"\u041E\u0442\u043A\u043B\u043E\u043D\u0438\u0442\u044C \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u0435"}),x&&(0,i.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",alignItems:"center",columnGap:"8px"},children:[(0,i.jsx)(a.Button,{onClick:()=>{g((0,d.requestAddToFriendsAction)({friend_id:e}))},children:"\u041F\u0440\u0438\u043D\u044F\u0442\u044C \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u0435"}),(0,i.jsx)(a.Button,{onClick:()=>{g((0,l.requestDeclineInvitationsAction)({friend_id:e}))},children:"\u041E\u0442\u043A\u043B\u043E\u043D\u0438\u0442\u044C \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u0435"})]})]})]})})},106733:function(e,t,r){"use strict";r.r(t),r.d(t,{UserAddToFriends:function(){return i.UserAddToFriendsMemoized}});var i=r("858322")},858322:function(e,t,r){"use strict";r.r(t),r.d(t,{UserAddToFriendsMemoized:function(){return u}});var i=r("785893"),n=r("667294"),s=r("807104"),o=r("444235"),a=r("722488"),c=r("50533"),l=r("302609"),d=r("540043");let u=(0,n.memo)(({id:e,name:t,status:r,image:n})=>{let u=(0,c.useDispatch)();return(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"},children:[(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${l.theme.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:l.theme.palette.success.light},".MuiBadge-colorError":{backgroundColor:l.theme.palette.error.light}},children:[(0,i.jsx)(s.Badge,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error",children:(0,i.jsx)(s.Avatar,{sx:{backgroundColor:s.colors.deepPurple["500"]},src:n})}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"max-content"},children:[(0,i.jsx)(s.Typography,{variant:"body2",children:t||""}),(0,i.jsx)(s.Typography,{variant:"caption",children:"online"===r?"\u0412 \u0441\u0435\u0442\u0438":"\u041D\u0435 \u0432 \u0441\u0435\u0442\u0438"})]})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",alignItems:"center",justifyContent:"end"},children:[(0,i.jsx)(d.Button,{onClick:()=>{u((0,o.requestAddToFriendsAction)({friend_id:e}))},children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"}),(0,i.jsx)(d.Button,{onClick:()=>{u((0,a.requestDeclineInvitationsAction)({friend_id:e}))},children:"\u041E\u0442\u043A\u043B\u043E\u043D\u0438\u0442\u044C"})]})]})})},726975:function(e,t,r){"use strict";r.r(t),r.d(t,{UserApprovals:function(){return i.UserApprovalsMemoized}});var i=r("464199")},464199:function(e,t,r){"use strict";r.r(t),r.d(t,{UserApprovalsMemoized:function(){return d}});var i=r("785893"),n=r("807104"),s=r("667294"),o=r("302609"),a=r("859735"),c=r("993822"),l=r("540043");let d=(0,s.memo)(({id:e,name:t,status:r})=>(0,i.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"},children:[(0,i.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${o.theme.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:o.theme.palette.success.light},".MuiBadge-colorError":{backgroundColor:o.theme.palette.error.light}},children:[(0,i.jsx)(n.Badge,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"online"===r?"success":"error",children:(0,i.jsx)(n.Avatar,{sx:{backgroundColor:n.colors.deepPurple["500"]}})}),(0,i.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:"max-content"},children:[(0,i.jsx)(n.Typography,{variant:"body2",children:t||""}),(0,i.jsx)(n.Typography,{variant:"caption",children:"online"===r?"\u0412 \u0441\u0435\u0442\u0438":"\u041D\u0435 \u0432 \u0441\u0435\u0442\u0438"})]})]}),(0,i.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",alignItems:"center",justifyContent:"end"},children:[(0,i.jsx)(n.Typography,{variant:"body1",children:"\u041E\u0436\u0438\u0434\u0430\u0435\u0442 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0432 \u0434\u0440\u0443\u0437\u044C\u044F"}),(0,i.jsx)(l.Button,{onClick:async()=>{let t=await a.axiosInstance.post("/remove-invite-to-friends",{friendId:e});return c.socket.emit("on-remove-invite-to-friends",e),t.data},children:"\u041E\u0442\u043A\u043B\u043E\u043D\u0438\u0442\u044C"})]})]}))},118675:function(e,t,r){"use strict";r.r(t),r.d(t,{UserControl:function(){return i.UserControlMemoized}});var i=r("649888")},649888:function(e,t,r){"use strict";r.r(t),r.d(t,{UserControlMemoized:function(){return u}});var i=r("785893"),n=r("667294"),s=r("807104"),o=r("302609"),a=r("382191"),c=r("50533"),l=r("95831"),d=r("993822");let u=(0,n.memo)(()=>{let e=(0,c.useDispatch)(),{user:t,media:r}=(0,c.useSelector)(e=>e.user),{meet:u,meetState:p}=(0,c.useSelector)(e=>e.meet),[x,h]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=setInterval(()=>{let e=Date.now();d.socket.emit("client:ping",e)},5e3);return d.socket.on("server:ping",e=>{h(Date.now()-e)}),()=>{clearInterval(e),d.socket.removeListener("server:ping")}},[p]);let g=x<=50?`\u{425}\u{43E}\u{440}\u{43E}\u{448}\u{435}\u{435} \u{43A}\u{430}\u{447}\u{435}\u{441}\u{442}\u{432}\u{43E} \u{441}\u{432}\u{44F}\u{437}\u{438}: ${x+"ms"}`:x<=100?`\u{41D}\u{43E}\u{440}\u{43C}\u{430}\u{43B}\u{44C}\u{43D}\u{43E}\u{435} \u{43A}\u{430}\u{447}\u{435}\u{441}\u{442}\u{432}\u{43E} \u{441}\u{432}\u{44F}\u{437}\u{438}: ${x+"ms"}`:`\u{41F}\u{43B}\u{43E}\u{445}\u{43E}\u{435} \u{43A}\u{430}\u{447}\u{435}\u{441}\u{442}\u{432}\u{43E} \u{441}\u{432}\u{44F}\u{437}\u{438}: ${x+"ms"}`;return(0,i.jsx)(s.Box,{sx:{display:"grid",alignItems:"center",backgroundColor:o.theme.palette.grey["300"],padding:"12px 20px"},children:(0,i.jsxs)(s.Box,{sx:{display:"grid",columnGap:"8px",gridTemplateColumns:"40px 1fr max-content"},children:[(0,i.jsx)(s.Box,{sx:{".MuiBadge-badge":{border:`1px solid ${o.theme.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:o.theme.palette.success.light},".MuiBadge-colorError":{backgroundColor:o.theme.palette.error.light}},children:(0,i.jsx)(s.Badge,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:t?.status==="online"?"success":"error",children:(0,i.jsx)(s.Avatar,{sx:{backgroundColor:t?.color?t.color:t?.default_color},src:t?.image})})}),(0,i.jsxs)(s.Box,{children:[(0,i.jsx)(s.Typography,{variant:"body2",children:t?.name}),(0,i.jsxs)(s.Typography,{sx:{color:o.theme.palette.grey["500"]},variant:"caption",children:["#",t?.id.slice(-4)]})]}),"connected"===p&&(0,i.jsxs)(s.Box,{sx:{display:"grid",columnGap:"16px",gridTemplateColumns:"repeat(3, max-content)",alignItems:"center"},children:[(0,i.jsx)(s.Box,{children:(0,i.jsx)(s.Tooltip,{title:g,arrow:!0,children:(0,i.jsx)(s.IconButton,{children:x<=50?(0,i.jsx)(a.SignalCellular3BarRounded,{sx:{color:o.theme.palette.grey["700"]}}):x<=100?(0,i.jsx)(a.SignalCellular2BarRounded,{sx:{color:o.theme.palette.grey["700"]}}):(0,i.jsx)(a.SignalCellular1BarRounded,{sx:{color:o.theme.palette.grey["700"]}})})})}),(0,i.jsx)(s.IconButton,{onClick:()=>{u.user?.id&&d.socket.emit("client:media_state_change",{media:{...r,audio:!r.audio},userFromCall:t,userToCall:u.user}),e((0,l.setMediaAction)({...r,audio:!r.audio}))},children:r.audio?(0,i.jsx)(a.Mic,{sx:{color:o.theme.palette.grey["700"]}}):(0,i.jsx)(a.MicOff,{sx:{color:o.theme.palette.grey["700"]}})}),(0,i.jsx)(s.IconButton,{onClick:()=>{u.user?.id&&d.socket.emit("client:media_state_change",{media:{...r,video:!r.video},userFromCall:t,userToCall:u.user}),e((0,l.setMediaAction)({...r,video:!r.video}))},children:r.video?(0,i.jsx)(a.Videocam,{sx:{color:o.theme.palette.grey["700"]}}):(0,i.jsx)(a.VideocamOff,{sx:{color:o.theme.palette.grey["700"]}})})]})]})})})},983343:function(e,t,r){"use strict";r.r(t),r.d(t,{UserFriends:function(){return i.UserFriendsMemoized}});var i=r("112760")},112760:function(e,t,r){"use strict";r.r(t),r.d(t,{UserFriendsMemoized:function(){return p}});var i=r("785893"),n=r("667294"),s=r("807104"),o=r("382191"),a=r("302609"),c=r("50533"),l=r("444235"),d=r("639711"),u=r("101484");let p=(0,n.memo)(({user:e})=>{let t=(0,c.useDispatch)(),r=(0,d.useNavigate)(),[p,x]=(0,n.useState)(null);return(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center"},children:[(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",columnGap:"8px",alignItems:"center",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",".MuiBadge-badge":{border:`1px solid ${a.theme.palette.common.white}`},".MuiBadge-colorSuccess":{backgroundColor:a.theme.palette.success.light},".MuiBadge-colorError":{backgroundColor:a.theme.palette.error.light}},children:[(0,i.jsx)(s.Badge,{overlap:"circular",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},color:e?.status&&"online"===e.status?"success":"error",children:(0,i.jsx)(s.Avatar,{sx:{backgroundColor:s.colors.deepPurple["500"]},src:e?.image?e.image:""})}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"max-content"},children:[(0,i.jsx)(s.Typography,{variant:"body2",children:e?.name?e.name:""}),(0,i.jsx)(s.Typography,{variant:"caption",children:e?.status&&"online"===e.status?"\u0412 \u0441\u0435\u0442\u0438":"\u041D\u0435 \u0432 \u0441\u0435\u0442\u0438"})]})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 24px)",columnGap:"24px",alignItems:"center",justifyContent:"end"},children:[(0,i.jsx)(s.IconButton,{sx:{width:"32px",height:"32px"},onClick:()=>{console.log("LOGS: Chat button pressed")},children:(0,i.jsx)(o.Chat,{})}),(0,i.jsx)(s.IconButton,{sx:{width:"32px",height:"32px"},onClick:()=>{t((0,u.setMeetAction)({user:e,isInitiator:!0})),r("/meet"),console.log("LOGS: \u041A\u043D\u043E\u043F\u043A\u0430 \u043F\u043E\u0437\u0432\u043E\u043D\u0438\u0442\u044C \u043D\u0430\u0436\u0430\u0442\u0430.")},children:(0,i.jsx)(o.Call,{})}),(0,i.jsx)(s.IconButton,{sx:{width:"32px",height:"32px"},onClick:e=>{x(e.currentTarget),console.log("LOGS: \u041A\u043D\u043E\u043F\u043A\u0430 \u0435\u0449\u0435 \u043D\u0430\u0436\u0430\u0442\u0430.")},children:(0,i.jsx)(o.MoreVert,{})})]}),(0,i.jsxs)(s.Menu,{anchorEl:p,open:!!p,onClose:()=>{x(null)},children:[(0,i.jsx)(s.MenuItem,{onClick:()=>{x(null)},children:"\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C"}),(0,i.jsx)(s.MenuItem,{onClick:()=>{t((0,u.setMeetAction)({user:e,isInitiator:!0})),r("/meet"),x(null),console.log("LOGS: \u041A\u043D\u043E\u043F\u043A\u0430 \u043F\u043E\u0437\u0432\u043E\u043D\u0438\u0442\u044C \u043D\u0430\u0436\u0430\u0442\u0430.")},children:"\u041F\u043E\u0437\u0432\u043E\u043D\u0438\u0442\u044C"}),(0,i.jsx)(s.MenuItem,{onClick:()=>{t((0,l.requestRemoveFromFriendsAction)({friend_id:e.id})),x(null)},children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"})]})]})})},167402:function(e,t,r){"use strict";r.r(t),r.d(t,{VideoCard:function(){return i.VideoCard}});var i=r("628310")},628310:function(e,t,r){"use strict";r.r(t),r.d(t,{VideoCard:function(){return n}});var i=r("785893");let n=(0,r("667294").forwardRef)(({children:e,...t},r)=>(0,i.jsx)("div",{children:(0,i.jsx)("video",{ref:r,...t,children:e})}))},837014:function(e,t,r){"use strict";r.r(t),r.d(t,{API_URL:function(){return i},Event:function(){return n}});let i="https://ioinitid-video-calls-server.herokuapp.com",n={Client:{Connect:"client:connect",Disconnect:"client:disconnect"},Server:{Connect:"server:connect",Disconnect:"server:disconnect"}}},901154:function(e,t,r){"use strict";r.r(t),r.d(t,{CenterLayout:function(){return s}});var i=r("785893"),n=r("897133");let s=({children:e})=>(0,i.jsx)("div",{className:(0,n.css)`
        display: grid;
        justify-content: center;
        align-items: center;
        height: 100%;
      `,children:e})},957261:function(e,t,r){"use strict";r.r(t),r.d(t,{CenterLayout:function(){return i.CenterLayout}});var i=r("901154")},380459:function(e,t,r){"use strict";r.r(t),r.d(t,{ChannelsLayout:function(){return c}}),r("857640"),r("409924");var i=r("785893"),n=r("807104"),s=r("897133"),o=r("8950"),a=r("118675");let c=()=>(0,i.jsxs)("div",{className:(0,s.css)`
        display: grid;
        grid-template-columns: 72px 376px 1fr;
        height: 100%;
        background-color: #ffffff;
      `,children:[(0,i.jsx)("div",{className:(0,s.css)`
          background-color: #fefefe;
        `,children:(0,i.jsx)(o.Navigation,{})}),(0,i.jsxs)("div",{className:(0,s.css)`
          display: grid;
          grid-template-rows: 72px 1fr 64px;
          overflow: hidden;
          background-color: #fefefe;
        `,children:[(0,i.jsx)("div",{className:(0,s.css)`
            padding: 24px 20px;
            border-bottom: 1px solid #fefefe;
          `,children:(0,i.jsx)(n.Typography,{variant:"h6",children:"\u041A\u0430\u043D\u0430\u043B\u044B"})}),(0,i.jsx)("div",{className:(0,s.css)`
            margin: 28px 0;
            padding: 0 8px;
            overflow: scroll;
          `,children:(0,i.jsx)("div",{className:(0,s.css)`
              display: grid;
              row-gap: 12px;
            `,children:Array.from(Array(25).keys()).map(e=>(0,i.jsx)("div",{},e))})}),(0,i.jsx)(a.UserControl,{})]}),(0,i.jsx)("div",{className:(0,s.css)`
          background-color: #fefefe;
        `})]})},758482:function(e,t,r){"use strict";r.r(t),r.d(t,{ChannelsLayout:function(){return i.ChannelsLayout}});var i=r("380459")},299536:function(e,t,r){"use strict";r.r(t),r.d(t,{IncomingCallModal:function(){return u}});var i=r("785893"),n=r("807104"),s=r("540043"),o=r("993822"),a=r("101484"),c=r("667294"),l=r("50533"),d=r("639711");let u=({onClose:e,user:t})=>{let r=(0,l.useDispatch)(),u=(0,d.useNavigate)();return(0,c.useEffect)(()=>{console.log("IncomingCallModal render mount")},[]),(0,c.useLayoutEffect)(()=>{console.log("IncomingCallModal render layout mount")},[]),console.log("IncomingCallModal render"),(0,i.jsx)(n.Modal,{open:!0,onClose:e,children:(0,i.jsxs)(n.Box,{sx:{display:"grid",rowGap:"32px",alignItems:"center",background:"#ffffff",borderRadius:"8px",padding:"16px 32px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[(0,i.jsxs)(n.Typography,{children:["\u0412\u0430\u043C \u0437\u0432\u043E\u043D\u0438\u0442 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C: ",t?.name?t.name:"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439"]}),(0,i.jsxs)(n.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",alignItems:"center",justifyContent:"center",columnGap:"16px"},children:[(0,i.jsx)(s.Button,{onClick:()=>{r((0,a.setMeetAction)({user:t,isInitiator:!1})),t?.id&&u("/meet"),e()},children:"\u041E\u0442\u0432\u0435\u0442\u0438\u0442\u044C"}),(0,i.jsx)(s.Button,{onClick:()=>{t?.id&&o.socket.emit("client:meet_end_call",t.id),e()},children:"\u041E\u0442\u043A\u043B\u043E\u043D\u0438\u0442\u044C"})]})]})})}},1243:function(e,t,r){"use strict";r.r(t),r.d(t,{IncomingCallModal:function(){return i.IncomingCallModal}});var i=r("299536")},128092:function(e,t,r){"use strict";r.r(t),r.d(t,{PrivateRoutes:function(){return n.PrivateRoutes},PublicRoutes:function(){return i.PublicRoutes}});var i=r("26126"),n=r("538406")},538406:function(e,t,r){"use strict";r.r(t),r.d(t,{PrivateRoutes:function(){return i.PrivateRoutesMemoized}});var i=r("184101")},184101:function(e,t,r){"use strict";r.r(t),r.d(t,{PrivateRoutesMemoized:function(){return v}});var i=r("785893"),n=r("667294"),s=r("639711"),o=r("794740"),a=r("863372"),c=r("463161"),l=r("824318"),d=r("749951"),u=r("244117"),p=r("181421"),x=r("372348"),h=r("143476"),g=r("320610"),m=r("217980"),f=r("95605");let v=(0,n.memo)(()=>(0,i.jsxs)(s.Routes,{children:[(0,i.jsxs)(s.Route,{path:"friends",element:(0,i.jsx)(o.Friends,{}),children:[(0,i.jsx)(s.Route,{index:!0,element:(0,i.jsx)(s.Navigate,{to:"online"})}),(0,i.jsx)(s.Route,{path:"online",element:(0,i.jsx)(d.FriendsOnline,{})}),(0,i.jsx)(s.Route,{path:"all",element:(0,i.jsx)(l.FriendsAll,{})}),(0,i.jsx)(s.Route,{path:"invitations",element:(0,i.jsx)(u.FriendsInvitations,{})}),(0,i.jsx)(s.Route,{path:"blocked",element:(0,i.jsx)(p.FriendsBlocked,{})}),(0,i.jsx)(s.Route,{path:"add",element:(0,i.jsx)(x.FriendsAdd,{})})]}),(0,i.jsxs)(s.Route,{path:"settings",element:(0,i.jsx)(a.Settings,{}),children:[(0,i.jsx)(s.Route,{path:"user-account",element:(0,i.jsx)(g.UserAccount,{})}),(0,i.jsx)(s.Route,{path:"user-profile",element:(0,i.jsx)(h.UserProfile,{})}),(0,i.jsx)(s.Route,{path:"voice-and-video",element:(0,i.jsx)(m.VoiceAndVideo,{})})]}),(0,i.jsx)(s.Route,{path:"channels",element:(0,i.jsx)(c.Channels,{})}),(0,i.jsx)(s.Route,{path:"meet",children:(0,i.jsx)(s.Route,{index:!0,element:(0,i.jsx)(f.Meet,{})})}),(0,i.jsx)(s.Route,{path:"*",element:(0,i.jsx)(s.Navigate,{to:"friends/online"})})]}))},26126:function(e,t,r){"use strict";r.r(t),r.d(t,{PublicRoutes:function(){return i.PublicRoutesMemoized}});var i=r("83787")},83787:function(e,t,r){"use strict";r.r(t),r.d(t,{PublicRoutesMemoized:function(){return l}});var i=r("785893"),n=r("667294"),s=r("639711"),o=r("899433"),a=r("954056"),c=r("388377");let l=(0,n.memo)(()=>(0,i.jsxs)(s.Routes,{children:[(0,i.jsx)(s.Route,{path:"authorization",element:(0,i.jsx)(o.Authorization,{})}),(0,i.jsx)(s.Route,{path:"registration",element:(0,i.jsx)(a.Registration,{})}),(0,i.jsx)(s.Route,{path:"media-settings",element:(0,i.jsx)(c.MediaSettings,{})}),(0,i.jsx)(s.Route,{path:"*",element:(0,i.jsx)(s.Navigate,{to:"authorization"})})]}))},580199:function(e,t,r){"use strict";r.r(t),r.d(t,{store:function(){return p}});var i=r("829829"),n=r("217172"),s=r("95831"),o=r("539964"),a=r("261309"),c=r("444235"),l=r("722488"),d=r("101484");let u=(0,n.default)(),p=(0,i.configureStore)({reducer:{authorization:a.authorizationReducer,user:s.userReducer,friends:c.friendsReducer,invitations:l.invitationsReducer,meet:d.meetReducer},middleware:[u]});u.run(o.rootSaga)},539964:function(e,t,r){"use strict";r.r(t),r.d(t,{rootSaga:function(){return l}}),r("857640"),r("409924");var i=r("624970"),n=r("950994"),s=r("890593"),o=r("825615"),a=r("467987");let c=[s.authorizationModuleSaga,n.userSaga,o.friendsSaga,a.invitationsSaga],l=function*(){yield(0,i.all)(c.map(e=>(0,i.fork)(e)))}},302609:function(e,t,r){"use strict";r.r(t),r.d(t,{theme:function(){return n}});var i=r("807104");let n=(0,i.createTheme)({palette:{primary:{light:i.colors.indigo.A400,main:i.colors.indigo["500"],dark:i.colors.indigo["800"]}}})},225836:function(e,t,r){"use strict";r.r(t),r.d(t,{AudioStreamController:function(){return n}}),r("215581"),r("634514"),r("2490"),r("723252"),r("706461"),r("132372"),r("8922"),r("805835"),r("908970"),r("184444"),r("782801");var i=r("867869");class n extends i.StreamController{constructor(e){super(),this.constraints={audio:!0},this.logs=!1,this.animationFrame=null,"object"==typeof e&&(this.constraints=e),"boolean"==typeof e&&(this.logs=e)}updateState(e,t){super.updateState(e,t)}mute(){this.stream&&this.stream.getTracks().forEach(e=>(e.enabled=!1,e))}unmute(){this.stream&&this.stream.getTracks().forEach(e=>(e.enabled=!0,e))}closeVisualizer(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null)}async getVisualizer(e){if(this.stream){let t=new AudioContext,r=t.createAnalyser();r.fftSize=128,r.minDecibels=-85,r.maxDecibels=150;let i=t.createMediaStreamSource(this.stream);i.connect(r),i.connect(t.destination);let n=new Uint8Array(r.frequencyBinCount),s=()=>{this.animationFrame=requestAnimationFrame(s),r.getByteFrequencyData(n),e&&e(Array.from(n))};s()}}async requestPermission(){await super.requestPermission()}async getStream(e){if(this.stream)return this.logs&&console.log("LOGS: \u0410\u0443\u0434\u0438\u043E\u043F\u043E\u0442\u043E\u043A \u0443\u0436\u0435 \u043F\u043E\u043B\u0443\u0447\u0435\u043D."),this.stream;if("loading"===this.state)return this.logs&&console.log("LOGS: \u0417\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u0430\u0443\u0434\u0438\u043E\u043F\u043E\u0442\u043E\u043A\u0430 \u0432\u044B\u043F\u043E\u043B\u043D\u044F\u0435\u0442\u0441\u044F."),this.stream;try{this.stream=await super.getStream(e),this.logs&&console.log("LOGS: \u0410\u0443\u0434\u0438\u043E\u043F\u043E\u0442\u043E\u043A \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043F\u043E\u043B\u0443\u0447\u0435\u043D.")}catch(e){if(e instanceof DOMException||e instanceof Error)return this.logs&&console.error("LOGS: \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u0430\u0443\u0434\u0438\u043E\u043F\u043E\u0442\u043E\u043A\u0430. \u041F\u0440\u0438\u0447\u0438\u043D\u0430: "+e.message+"."),null}return this.stream}closeStream(e){null===this.stream?this.logs&&console.log("LOGS: \u0410\u0443\u0434\u0438\u043E\u043F\u043E\u0442\u043E\u043A \u0443\u0436\u0435 \u0437\u0430\u043A\u0440\u044B\u0442."):(super.closeStream(e),this.closeVisualizer(),this.logs&&console.log("LOGS: \u0410\u0443\u0434\u0438\u043E\u043F\u043E\u0442\u043E\u043A \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u043A\u0440\u044B\u0442."))}}},859735:function(e,t,r){"use strict";r.r(t),r.d(t,{axiosInstance:function(){return l}});var i=r("409669"),n=r.n(i),s=r("625409"),o=r("837014"),a=r("580199"),c=r("261309");let l=n().create({withCredentials:!0,baseURL:`${o.API_URL}/api`});l.interceptors.request.use(e=>(e.headers&&(e.headers.Authorization=`Bearer ${localStorage.getItem("access_token")||""}`),e),e=>Promise.reject(e)),l.interceptors.response.use(e=>e,async e=>{let t=e.config;if(e.response){if(401===e.response.status&&!t._retry){t._retry=!0;try{let e=localStorage.getItem("refresh_token");if(e){let t=await (0,s.refreshService)({refresh_token:e});a.store.dispatch((0,c.successRefreshAction)({access_token:t.data.access_token,refresh_token:t.data.refresh_token}))}}catch(e){return a.store.dispatch((0,c.failureRefreshAction)(e)),Promise.reject(e)}return l(t)}if(401!==e.response.status)return Promise.reject(e.response.data)}return Promise.reject(e)})},990052:function(e,t,r){"use strict";r.r(t),r.d(t,{mediaDevices:function(){return o}}),r("888449"),r("959849"),r("2490"),r("782801");var i=r("225836"),n=r("784371"),s=r("335833");let o=new class e{constructor(){this.audioInputDevices=[],this.audioOutputDevices=[],this.videoInputDevices=[],this.allDevices=[],this.permissions={microphone:"prompt",camera:"prompt"},this.subscribeUpdateDevices()}subscribeUpdateDevices(){navigator.mediaDevices.addEventListener("devicechange",e=>{this.audioInputDevices&&(this.getDevices("audioinput",this.audioInputDevicesCallback),console.log("LOGS: \u0423\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 audioInputDevices \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u044B.",{event:e})),this.audioOutputDevices&&(this.getDevices("audiooutput",this.audioOutputDevicesCallback),console.log("LOGS: \u0423\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 audioOutputDevices \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u044B.",{event:e})),this.videoInputDevices&&(this.getDevices("videoinput",this.videoInputDevicesCallback),console.log("LOGS: \u0423\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430 videoInputDevices \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u044B.",{event:e})),this.allDevices&&this.getDevices("all",this.allDevicesCallback)})}updateState(e,t,r,i,n){n&&n({devices:e,state:t,permissions:r,error:i})}async getDevices(e,t){if("audioinput"===e){await n.mediaPermissions.getPermissions(e=>{this.permissions=e});try{this.updateState([],"idle",this.permissions,null,t),"granted"!==this.permissions.microphone&&await new i.AudioStreamController().requestPermission(),this.updateState([],"loading",this.permissions,null,t);let e=await navigator.mediaDevices.enumerateDevices();this.audioInputDevices=e.filter(e=>"audioinput"===e.kind),this.audioInputDevicesCallback=t,this.updateState(this.audioInputDevices,"success",this.permissions,null,t)}catch(e){if(e instanceof DOMException||e instanceof Error){this.updateState([],"error",this.permissions,e.message,t);return}}}if("audiooutput"===e){await n.mediaPermissions.getPermissions(e=>{this.permissions=e});try{this.updateState([],"idle",this.permissions,null,t),"granted"!==this.permissions.microphone&&await new i.AudioStreamController().requestPermission(),this.updateState([],"loading",this.permissions,null,t);let e=await navigator.mediaDevices.enumerateDevices();this.audioOutputDevices=e.filter(e=>"audiooutput"===e.kind),this.audioOutputDevicesCallback=t,this.updateState(this.audioOutputDevices,"success",this.permissions,null,t)}catch(e){if(e instanceof DOMException||e instanceof Error){this.updateState([],"error",this.permissions,e.message,t);return}}}if("videoinput"===e){await n.mediaPermissions.getPermissions(e=>{this.permissions=e});try{this.updateState([],"idle",this.permissions,null,t),"granted"!==this.permissions.camera&&await new s.VideoStreamController().requestPermission(),this.updateState([],"loading",this.permissions,null,t);let e=await navigator.mediaDevices.enumerateDevices();this.videoInputDevices=e.filter(e=>"videoinput"===e.kind),this.videoInputDevicesCallback=t,this.updateState(this.videoInputDevices,"success",this.permissions,null,t)}catch(e){if(e instanceof DOMException||e instanceof Error){this.updateState([],"error",this.permissions,e.message,t);return}}}if("all"===e){await n.mediaPermissions.getPermissions(e=>{this.permissions=e});try{this.updateState([],"idle",this.permissions,null,t),"granted"!==this.permissions.microphone&&await new i.AudioStreamController().requestPermission(),"granted"!==this.permissions.camera&&await new s.VideoStreamController().requestPermission(),this.updateState([],"loading",this.permissions,null,t);let e=await navigator.mediaDevices.enumerateDevices();this.allDevices=e,this.allDevicesCallback=t,this.updateState(this.allDevices,"success",this.permissions,null,t)}catch(e){if(e instanceof DOMException||e instanceof Error){this.updateState([],"error",this.permissions,e.message,t);return}}}}}},784371:function(e,t,r){"use strict";r.r(t),r.d(t,{mediaPermissions:function(){return i}});let i=new class e{updatePermissions(e,t){t&&t(e)}subscribeUpdatePermissions(e,t,r){e.addEventListener("change",i=>{console.log("LOGS: Microphone permission change.",{event:i}),this.updatePermissions({microphone:e.state,camera:t.state},r)}),t.addEventListener("change",i=>{console.log("LOGS: Camera permission change.",{event:i}),this.updatePermissions({microphone:e.state,camera:t.state},r)})}async getPermissions(e){try{let t=await navigator.permissions.query({name:"microphone"}),r=await navigator.permissions.query({name:"camera"});this.updatePermissions({microphone:t.state,camera:r.state},e),this.subscribeUpdatePermissions(t,r,e)}catch(t){this.updatePermissions({microphone:"prompt",camera:"prompt"},e)}}}},85793:function(e,t,r){"use strict";r.r(t),r.d(t,{mediaStream:function(){return c}}),r("215581"),r("634514"),r("2490");var i=r("225836"),n=r("867869"),s=r("335833");class o extends n.StreamController{constructor(e,t){super(),this.audioStreamState="default",this.videoStreamState="default",this.audioStreamController=e,this.videoStreamController=t}updateState(e,t){super.updateState(e,t)}pause(){this.stream&&this.stream.getTracks().forEach(e=>(e.enabled=!1,e))}play(){this.stream&&this.stream.getTracks().forEach(e=>(e.enabled=!0,e))}async getStream(e){if(this.stream||"loading"===this.state)return console.log("LOGS: \u041C\u0435\u0434\u0438\u0430\u043F\u043E\u0442\u043E\u043A \u0443\u0436\u0435 \u043F\u043E\u043B\u0443\u0447\u0435\u043D."),this.stream;this.updateState("loading",e),this.stream=new MediaStream;let t=await this.audioStreamController.getStream(e=>{this.audioStreamState=e.state}),r=await this.videoStreamController.getStream(e=>{this.videoStreamState=e.state});if(t){let e=t.getTracks()[0];this.stream.addTrack(e)}if(r){let e=r.getTracks()[0];this.stream.addTrack(e)}return"active"===this.audioStreamState||"active"===this.videoStreamState?(this.updateState("active",e),console.log("LOGS: \u041C\u0435\u0434\u0438\u0430\u043F\u043E\u0442\u043E\u043A \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043F\u043E\u043B\u0443\u0447\u0435\u043D."),this.stream):(this.stream=null,this.updateState("error",e),console.error("LOGS: \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u043C\u0435\u0434\u0438\u0430\u043F\u043E\u0442\u043E\u043A\u0430. \u041F\u0440\u0438\u0447\u0438\u043D\u0430: \u041D\u0435\u0442 \u0430\u0443\u0434\u0438\u043E \u0438\u043B\u0438 \u0432\u0438\u0434\u0435\u043E \u043F\u043E\u0442\u043E\u043A\u0430."),null)}closeStream(e){null===this.stream?console.log("LOGS: \u041C\u0435\u0434\u0438\u0430\u043F\u043E\u0442\u043E\u043A \u0443\u0436\u0435 \u0437\u0430\u043A\u0440\u044B\u0442."):(super.closeStream(e),this.audioStreamController.closeStream(),this.videoStreamController.closeStream(),console.log("LOGS: \u041C\u0435\u0434\u0438\u0430\u043F\u043E\u0442\u043E\u043A \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u043A\u0440\u044B\u0442."))}}let a=new i.AudioStreamController(!0),c=new o(a,new s.VideoStreamController(!0))},993822:function(e,t,r){"use strict";r.r(t),r.d(t,{socket:function(){return s}});var i=r("622618"),n=r("837014");let s=(0,i.io)(n.API_URL,{transports:["websocket"],reconnection:!1})},867869:function(e,t,r){"use strict";r.r(t),r.d(t,{StreamController:function(){return i}}),r("215581"),r("634514"),r("2490"),r("782801");class i{constructor(e){this.state="default",this.stream=null,this.constraints={},e&&(this.constraints=e)}updateState(e,t){this.state=e,t&&t({stream:this.stream,state:this.state})}async requestPermission(){try{let e=null;(e=await navigator.mediaDevices.getUserMedia(this.constraints)).getTracks().forEach(e=>e.stop()),e=null}catch(e){if(e instanceof DOMException)throw new DOMException(e.message,e.name);if(e instanceof Error)throw Error(e.message)}}async getStream(e){this.updateState("loading",e);try{this.stream=await navigator.mediaDevices.getUserMedia(this.constraints),this.updateState("active",e)}catch(t){if(this.updateState("error",e),t instanceof DOMException)throw new DOMException(t.message,t.name);if(t instanceof Error)throw Error(t.message)}return this.stream}closeStream(e){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null,this.updateState("default",e))}}},335833:function(e,t,r){"use strict";r.r(t),r.d(t,{VideoStreamController:function(){return n}}),r("215581"),r("634514"),r("2490"),r("782801");var i=r("867869");class n extends i.StreamController{constructor(e){super(),this.constraints={video:!0},this.logs=!1,"object"==typeof e&&(this.constraints=e),"boolean"==typeof e&&(this.logs=e)}pause(){this.stream&&this.stream.getTracks().forEach(e=>(e.enabled=!1,e))}play(){this.stream&&this.stream.getTracks().forEach(e=>(e.enabled=!0,e))}updateState(e,t){super.updateState(e,t)}async requestPermission(){await super.requestPermission()}async getStream(e){if(this.stream)return this.logs&&console.log("LOGS: \u0412\u0438\u0434\u0435\u043E\u043F\u043E\u0442\u043E\u043A \u0443\u0436\u0435 \u043F\u043E\u043B\u0443\u0447\u0435\u043D."),this.stream;if("loading"===this.state)return this.logs&&console.log("LOGS: \u0417\u0430\u043F\u0440\u043E\u0441 \u043D\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u0432\u0438\u0434\u0435\u043E\u043F\u043E\u0442\u043E\u043A\u0430 \u0432\u044B\u043F\u043E\u043B\u043D\u044F\u0435\u0442\u0441\u044F."),this.stream;try{this.stream=await super.getStream(e),this.logs&&console.log("LOGS: \u0412\u0438\u0434\u0435\u043E\u043F\u043E\u0442\u043E\u043A \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043F\u043E\u043B\u0443\u0447\u0435\u043D.")}catch(e){if(e instanceof DOMException||e instanceof Error)return this.logs&&console.error("LOGS: \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u0432\u0438\u0434\u0435\u043E\u043F\u043E\u0442\u043E\u043A\u0430. \u041F\u0440\u0438\u0447\u0438\u043D\u0430: "+e.message+"."),null}return this.stream}closeStream(e){null===this.stream?this.logs&&console.log("LOGS: \u0412\u0438\u0434\u0435\u043E\u043F\u043E\u0442\u043E\u043A \u0443\u0436\u0435 \u0437\u0430\u043A\u0440\u044B\u0442."):(super.closeStream(e),this.logs&&console.log("LOGS: \u0412\u0438\u0434\u0435\u043E\u043F\u043E\u0442\u043E\u043A \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u043A\u0440\u044B\u0442."))}}},569506:function(e,t,r){"use strict";r.r(t);var i=r("785893"),n=r("667294"),s=r.n(n),o=r("620745"),a=r("652320");o.createRoot(document.getElementById("root")).render((0,i.jsx)(s().Fragment,{children:(0,i.jsx)(a.Root,{})}))},649482:function(e,t,r){"use strict";r.r(t),r.d(t,{Authorization:function(){return h}});var i=r("785893"),n=r("667294"),s=r("50533"),o=r("639711"),a=r("897133"),c=r("957261"),l=r("540043"),d=r("268794"),u=r("261309"),p=r("935877"),x=r("807104");let h=()=>{let e=(0,s.useDispatch)(),t=(0,o.useNavigate)(),[r,h]=(0,n.useState)(""),[g,m]=(0,n.useState)(""),[f,v]=(0,n.useState)(!1);return(0,i.jsx)(c.CenterLayout,{children:(0,i.jsxs)("div",{className:(0,a.css)`
          display: grid;
          grid-template-columns: 448px 472px;
          width: 920px;
          overflow: hidden;
          border: 1px solid #fefefe;
          border-radius: 20px;
        `,children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{className:(0,a.css)`
              width: 100%;
              height: 100%;
              object-fit: cover;
            `,src:p,alt:"\u0418\u043B\u044E\u0441\u0442\u0440\u0430\u0446\u0438\u044F."})}),(0,i.jsx)("div",{className:(0,a.css)`
            padding: 48px 56px;
            background-color: #ffffff;
          `,children:(0,i.jsxs)("div",{className:(0,a.css)`
              display: grid;
              row-gap: 16px;
            `,children:[(0,i.jsxs)("div",{className:(0,a.css)`
                display: grid;
                row-gap: 32px;
              `,children:[(0,i.jsxs)("div",{className:(0,a.css)`
                  display: grid;
                  row-gap: 32px;
                `,children:[(0,i.jsx)(x.Typography,{variant:"h5",children:"\u0412\u043E\u0439\u0442\u0438 \u0432 \u0441\u0432\u043E\u0439 \u043F\u0440\u043E\u0444\u0438\u043B\u044C"}),(0,i.jsxs)("div",{className:(0,a.css)`
                    display: grid;
                    row-gap: 24px;
                  `,children:[(0,i.jsx)(d.Input,{type:"email",id:"email",name:"email",value:r,onChange:e=>h(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 email",autoComplete:"off"}),(0,i.jsx)(d.Input,{type:f?"text":"password",id:"password",name:"password",value:g,onChange:e=>m(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043F\u0430\u0440\u043E\u043B\u044C",autoComplete:"off"})]})]}),(0,i.jsx)(l.Button,{onClick:()=>e((0,u.requestAuthorizationAction)({email:r,password:g})),children:"\u0412\u043E\u0439\u0442\u0438"})]}),(0,i.jsxs)(x.Typography,{variant:"subtitle2",children:["\u0423 \u0412\u0430\u0441 \u0435\u0449\u0451 \u043D\u0435\u0442 \u043F\u0440\u043E\u0444\u0438\u043B\u044F?"," ",(0,i.jsx)("a",{className:(0,a.css)`
                  cursor: pointer;
                `,onClick:e=>{e.preventDefault(),t("/registration")},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"})]})]})})]})})}},899433:function(e,t,r){"use strict";r.r(t),r.d(t,{Authorization:function(){return i.Authorization}});var i=r("649482")},954056:function(e,t,r){"use strict";r.r(t),r.d(t,{Registration:function(){return i.Registration}});var i=r("456850")},456850:function(e,t,r){"use strict";r.r(t),r.d(t,{Registration:function(){return h}});var i=r("785893"),n=r("667294"),s=r("50533"),o=r("639711"),a=r("897133"),c=r("807104"),l=r("957261"),d=r("540043"),u=r("268794"),p=r("935877"),x=r("261309");let h=()=>{let e=(0,s.useDispatch)(),t=(0,o.useNavigate)(),[r,h]=(0,n.useState)(""),[g,m]=(0,n.useState)(""),[f,v]=(0,n.useState)(""),[y,j]=(0,n.useState)(!1);return(0,i.jsx)(l.CenterLayout,{children:(0,i.jsxs)("div",{className:(0,a.css)`
          display: grid;
          grid-template-columns: 448px 472px;
          width: 920px;
          overflow: hidden;
          border: 1px solid #fefefe;
          border-radius: 20px;
        `,children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{className:(0,a.css)`
              width: 100%;
              height: 100%;
              object-fit: cover;
            `,src:p,alt:"\u0418\u043B\u044E\u0441\u0442\u0440\u0430\u0446\u0438\u044F."})}),(0,i.jsx)("div",{className:(0,a.css)`
            padding: 48px 56px;
            background-color: #ffffff;
          `,children:(0,i.jsxs)("div",{className:(0,a.css)`
              display: grid;
              row-gap: 16px;
            `,children:[(0,i.jsxs)("div",{className:(0,a.css)`
                display: grid;
                row-gap: 24px;
              `,children:[(0,i.jsxs)("div",{className:(0,a.css)`
                  display: grid;
                  row-gap: 32px;
                `,children:[(0,i.jsx)(c.Typography,{variant:"h5",children:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0443\u0447\u0451\u0442\u043D\u0443\u044E \u0437\u0430\u043F\u0438\u0441\u044C"}),(0,i.jsxs)("div",{className:(0,a.css)`
                    display: grid;
                    row-gap: 24px;
                  `,children:[(0,i.jsx)(u.Input,{type:"email",id:"email",name:"email",value:r,onChange:e=>h(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 email",autoComplete:"off"}),(0,i.jsx)(u.Input,{type:"text",id:"name",name:"name",value:g,onChange:e=>m(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043C\u044F",autoComplete:"off"}),(0,i.jsx)(u.Input,{type:y?"text":"password",id:"password",name:"password",value:f,onChange:e=>v(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043F\u0430\u0440\u043E\u043B\u044C",autoComplete:"off"})]})]}),(0,i.jsxs)("div",{className:(0,a.css)`
                  display: grid;
                  row-gap: 32px;
                `,children:[(0,i.jsxs)(c.Typography,{variant:"caption",children:["\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u044F\u0441\u044C, \u0412\u044B \u0441\u043E\u0433\u043B\u0430\u0448\u0430\u0435\u0442\u0435\u0441\u044C \u0441"," ",(0,i.jsx)("a",{className:(0,a.css)`
                      cursor: pointer;
                    `,children:"\u043F\u043E\u043B\u0438\u0442\u0438\u043A\u043E\u0439 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445"})]}),(0,i.jsx)(d.Button,{onClick:()=>e((0,x.requestRegistrationAction)({email:r,name:g,password:f})),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"})]})]}),(0,i.jsx)(c.Typography,{variant:"subtitle2",children:(0,i.jsx)("a",{className:(0,a.css)`
                  cursor: pointer;
                `,onClick:e=>{e.preventDefault(),t("/authorization")},children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u044B?"})})]})})]})})}},890593:function(e,t,r){"use strict";r.r(t),r.d(t,{authorizationModuleSaga:function(){return d}});var i=r("624970"),n=r("625409"),s=r("261309");let o=function*({payload:e}){try{let t=yield(0,i.call)(n.registrationService,e);yield(0,i.put)((0,s.successRegistrationAction)({access_token:t.data.access_token,refresh_token:t.data.refresh_token}))}catch(e){console.error(e),yield(0,i.put)((0,s.failureRegistrationAction)({error:e}))}},a=function*({payload:e}){try{let t=yield(0,i.call)(n.authorizationService,e);yield(0,i.put)((0,s.successAuthorizationAction)({access_token:t.data.access_token,refresh_token:t.data.refresh_token}))}catch(e){console.error(e),yield(0,i.put)((0,s.failureAuthorizationAction)({error:e}))}},c=function*({payload:e}){try{let t=yield(0,i.call)(n.refreshService,e);yield(0,i.put)((0,s.successRefreshAction)({access_token:t.data.access_token,refresh_token:t.data.refresh_token}))}catch(e){console.error(e),yield(0,i.put)((0,s.failureRefreshAction)({error:e}))}},l=function*(){try{yield(0,i.call)(n.logoutService),yield(0,i.put)((0,s.successLogoutAction)())}catch(e){console.error(e),yield(0,i.put)((0,s.failureLogoutAction)({error:e}))}},d=function*(){yield(0,i.all)([(0,i.takeEvery)(s.requestAuthorizationAction.type,a),(0,i.takeEvery)(s.requestRefreshAction.type,c),(0,i.takeEvery)(s.requestRegistrationAction.type,o),(0,i.takeEvery)(s.requestLogoutAction.type,l)])}},430509:function(e,t,r){"use strict";r.r(t),r.d(t,{ApiUrl:function(){return n}});var i=r("837014");let n={Registration:"/registration",Authorization:"/authorization",Refresh:`${i.API_URL}/api/refresh`,Logout:"/logout"}},625409:function(e,t,r){"use strict";r.r(t),r.d(t,{authorizationService:function(){return c},logoutService:function(){return d},refreshService:function(){return l},registrationService:function(){return a}});var i=r("409669"),n=r.n(i),s=r("859735"),o=r("430509");let a=e=>s.axiosInstance.request({method:"POST",url:o.ApiUrl.Registration,data:e}),c=e=>s.axiosInstance.request({method:"POST",url:o.ApiUrl.Authorization,data:e}),l=e=>n().request({method:"POST",url:o.ApiUrl.Refresh,data:e}),d=()=>s.axiosInstance.request({method:"GET",url:o.ApiUrl.Logout})},261309:function(e,t,r){"use strict";r.r(t),r.d(t,{authorizationReducer:function(){return f},failureAuthorizationAction:function(){return d},failureLogoutAction:function(){return m},failureRefreshAction:function(){return x},failureRegistrationAction:function(){return a},requestAuthorizationAction:function(){return c},requestLogoutAction:function(){return h},requestRefreshAction:function(){return u},requestRegistrationAction:function(){return s},successAuthorizationAction:function(){return l},successLogoutAction:function(){return g},successRefreshAction:function(){return p},successRegistrationAction:function(){return o}});var i=r("829829");let n=(0,i.createSlice)({name:"authorization",initialState:{access_token:"",refresh_token:"",authorizated:!1,loading:{access_token:!1,refresh_token:!1},error:{access_token:null,refresh_token:null}},reducers:{requestRegistrationAction:(e,{payload:t})=>{e.loading.access_token=!0,e.loading.refresh_token=!0},successRegistrationAction:(e,{payload:t})=>{e.access_token=t.access_token,e.refresh_token=t.refresh_token,e.authorizated=!0,e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=null,e.error.refresh_token=null,localStorage.setItem("access_token",t.access_token),localStorage.setItem("refresh_token",t.refresh_token)},failureRegistrationAction:(e,{payload:t})=>{e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=t.error,e.error.refresh_token=t.error},requestAuthorizationAction:(e,{payload:t})=>{e.loading.access_token=!0,e.loading.refresh_token=!0},successAuthorizationAction:(e,{payload:t})=>{e.access_token=t.access_token,e.refresh_token=t.refresh_token,e.authorizated=!0,e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=null,e.error.refresh_token=null,localStorage.setItem("access_token",t.access_token),localStorage.setItem("refresh_token",t.refresh_token)},failureAuthorizationAction:(e,{payload:t})=>{e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=t.error,e.error.refresh_token=t.error},requestRefreshAction:(e,{payload:t})=>{e.loading.access_token=!0,e.loading.refresh_token=!0},successRefreshAction:(e,{payload:t})=>{e.access_token=t.access_token,e.refresh_token=t.refresh_token,e.authorizated=!0,e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=null,e.error.refresh_token=null,localStorage.setItem("access_token",t.access_token),localStorage.setItem("refresh_token",t.refresh_token)},failureRefreshAction:(e,{payload:t})=>{e.access_token="",e.refresh_token="",e.authorizated=!1,e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=t.error,e.error.refresh_token=t.error,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},requestLogoutAction:e=>{e.loading.access_token=!0},successLogoutAction:e=>{e.access_token="",e.refresh_token="",e.authorizated=!1,e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=null,e.error.refresh_token=null,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},failureLogoutAction:(e,{payload:t})=>{e.loading.access_token=!1,e.loading.refresh_token=!1,e.error.access_token=t.error,e.error.refresh_token=t.error}}}),{requestRegistrationAction:s,successRegistrationAction:o,failureRegistrationAction:a,requestAuthorizationAction:c,successAuthorizationAction:l,failureAuthorizationAction:d,requestRefreshAction:u,successRefreshAction:p,failureRefreshAction:x,requestLogoutAction:h,successLogoutAction:g,failureLogoutAction:m}=n.actions,f=n.reducer},385597:function(e,t,r){"use strict";r.r(t),r.d(t,{ChannelsMemoized:function(){return o}});var i=r("785893"),n=r("667294"),s=r("758482");let o=(0,n.memo)(()=>(0,i.jsx)(s.ChannelsLayout,{}))},463161:function(e,t,r){"use strict";r.r(t),r.d(t,{Channels:function(){return i.ChannelsMemoized}});var i=r("385597")},7433:function(e,t,r){"use strict";r.r(t),r.d(t,{Event:function(){return i}});let i={Client:{AddToFriends:"client:add_to_friends",RemoveFromFriends:"client:remove_from_friends"},Server:{AddToFriends:"server:add_to_friends",RemoveFromFriends:"server:remove_from_friends"}}},128335:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsAddMemoized:function(){return g}}),r("857640"),r("409924");var i=r("785893"),n=r("50533"),s=r("807104"),o=r("302609"),a=r("667294"),c=r("35357"),l=r("993822"),d=r("837014"),u=r("7433"),p=r("485973"),x=r("444235"),h=r("268794");let g=(0,a.memo)(()=>{let e=(0,n.useDispatch)(),{friends_users:t}=(0,n.useSelector)(e=>e.friends),[r,g]=(0,a.useState)("");return(0,a.useEffect)(()=>{},[r]),(0,a.useEffect)(()=>{e((0,x.requestGetFriendsUsersAction)()),l.socket.on(d.Event.Server.Connect,()=>{e((0,x.requestGetFriendsUsersAction)())}),l.socket.on(d.Event.Server.Disconnect,()=>{e((0,x.requestGetFriendsUsersAction)())}),l.socket.on(u.Event.Server.AddToFriends,()=>{e((0,x.requestGetFriendsUsersAction)())}),l.socket.on(u.Event.Server.RemoveFromFriends,()=>{e((0,x.requestGetFriendsUsersAction)())}),l.socket.on(p.Event.Server.DeclineInvitation,()=>{e((0,x.requestGetFriendsUsersAction)())}),l.socket.on(p.Event.Server.SentInvitation,()=>{e((0,x.requestGetFriendsUsersAction)())})},[]),(0,i.jsxs)(s.Box,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0"},children:[(0,i.jsx)(h.Input,{placeholder:"\u041F\u043E\u0438\u0441\u043A \u043F\u043E \u0434\u0440\u0443\u0437\u044C\u044F\u043C",value:r,onChange:e=>g(e.target.value)}),(0,i.jsx)(s.Box,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:o.theme.palette.grey["300"],border:`1px solid ${o.theme.palette.grey["500"]}`,borderRadius:"8px"}},children:t.map(e=>(0,i.jsx)(c.UserAddInviteToFriends,{id:e.id,name:e.name,status:e.status,image:e.image,sentInvitation:e.sent_invitation,addToFriends:e.add_to_friends,receivedInvitation:e.received_invitation,setSearchValue:g},e.id))})]})})},372348:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsAdd:function(){return i.FriendsAddMemoized}});var i=r("128335")},316769:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsAllMemoized:function(){return x}}),r("857640"),r("409924");var i=r("785893"),n=r("50533"),s=r("807104"),o=r("302609"),a=r("667294"),c=r("983343"),l=r("993822"),d=r("444235"),u=r("7433"),p=r("837014");let x=(0,a.memo)(()=>{let e=(0,n.useDispatch)(),{friends:t}=(0,n.useSelector)(e=>e.friends);return(0,a.useEffect)(()=>{e((0,d.requestGetFriendsAction)()),l.socket.on(p.Event.Server.Connect,()=>{e((0,d.requestGetFriendsAction)())}),l.socket.on(p.Event.Server.Disconnect,()=>{e((0,d.requestGetFriendsAction)())}),l.socket.on(u.Event.Server.AddToFriends,()=>{e((0,d.requestGetFriendsAction)())}),l.socket.on(u.Event.Server.RemoveFromFriends,()=>{e((0,d.requestGetFriendsAction)())})},[]),(0,i.jsxs)(s.Box,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:o.theme.palette.grey["300"],border:`1px solid ${o.theme.palette.grey["500"]}`,borderRadius:"8px"}},children:[(0,i.jsx)(s.Box,{sx:{padding:"8px 12px"},children:(0,i.jsxs)(s.Typography,{variant:"h6",children:["\u0412\u0441\u0435\u0433\u043E \u0434\u0440\u0443\u0437\u0435\u0439: ",t&&t?.length>0?t?.length:0]})}),(0,i.jsx)(s.Box,{sx:{display:"grid",alignContent:"start",rowGap:"8px"},children:t.map(e=>(0,i.jsx)(c.UserFriends,{user:e},e.id))})]})})},824318:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsAll:function(){return i.FriendsAllMemoized}});var i=r("316769")},150809:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsBlockedMemoized:function(){return d}}),r("857640"),r("409924");var i=r("785893"),n=r("50533"),s=r("807104"),o=r("302609"),a=r("667294"),c=r("168539"),l=r("726975");let d=(0,a.memo)(()=>{let e=(0,n.useSelector)(c.userApprovalsSelector);return(0,i.jsx)(s.Box,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:o.theme.palette.grey["300"],border:`1px solid ${o.theme.palette.grey["500"]}`,borderRadius:"8px"}},children:e.map(e=>(0,i.jsx)(l.UserApprovals,{id:e.id,name:e.name,status:e.status},e.id))})})},181421:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsBlocked:function(){return i.FriendsBlockedMemoized}});var i=r("150809")},256227:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsInvitationsMemoized:function(){return h}}),r("857640"),r("409924");var i=r("785893"),n=r("50533"),s=r("807104"),o=r("302609"),a=r("667294"),c=r("106733"),l=r("722488"),d=r("993822"),u=r("485973"),p=r("7433"),x=r("837014");let h=(0,a.memo)(()=>{let e=(0,n.useDispatch)(),{invitations:t}=(0,n.useSelector)(e=>e.invitations);return(0,a.useEffect)(()=>{e((0,l.requestGetInvitationsAction)()),d.socket.on(x.Event.Server.Connect,()=>{e((0,l.requestGetInvitationsAction)())}),d.socket.on(x.Event.Server.Disconnect,()=>{e((0,l.requestGetInvitationsAction)())}),d.socket.on(u.Event.Server.SentInvitation,()=>{e((0,l.requestGetInvitationsAction)())}),d.socket.on(u.Event.Server.DeclineInvitation,()=>{e((0,l.requestGetInvitationsAction)())}),d.socket.on(p.Event.Server.AddToFriends,()=>{e((0,l.requestGetInvitationsAction)())})},[]),(0,i.jsxs)(s.Box,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:o.theme.palette.grey["300"],border:`1px solid ${o.theme.palette.grey["500"]}`,borderRadius:"8px"}},children:[(0,i.jsx)(s.Box,{sx:{padding:"8px 12px"},children:(0,i.jsxs)(s.Typography,{variant:"h6",children:["\u041E\u0436\u0438\u0434\u0430\u044E\u0442 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0432 \u0434\u0440\u0443\u0437\u044C\u044F:"," ",t.received&&t.received.length>0?t.received.length:0]})}),(0,i.jsx)(s.Box,{sx:{display:"grid",alignContent:"start",rowGap:"8px"},children:t.received.map(e=>(0,i.jsx)(c.UserAddToFriends,{id:e.id,name:e.name,status:e.status,image:e.image},e.id))})]})})},244117:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsInvitations:function(){return i.FriendsInvitationsMemoized}});var i=r("256227")},288229:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsOnlineMemoized:function(){return x}}),r("888449"),r("959849"),r("2490"),r("857640"),r("409924");var i=r("785893"),n=r("50533"),s=r("807104"),o=r("302609"),a=r("667294"),c=r("983343"),l=r("444235"),d=r("993822"),u=r("7433"),p=r("837014");let x=(0,a.memo)(()=>{let e=(0,n.useDispatch)(),{friends:t}=(0,n.useSelector)(e=>e.friends);return(0,a.useEffect)(()=>{e((0,l.requestGetFriendsAction)()),d.socket.on(p.Event.Server.Connect,()=>{e((0,l.requestGetFriendsAction)())}),d.socket.on(p.Event.Server.Disconnect,()=>{e((0,l.requestGetFriendsAction)())}),d.socket.on(u.Event.Server.AddToFriends,()=>{e((0,l.requestGetFriendsAction)())}),d.socket.on(u.Event.Server.RemoveFromFriends,()=>{e((0,l.requestGetFriendsAction)())})},[]),(0,i.jsxs)(s.Box,{sx:{padding:"0 8px 0 16px",margin:"16px 8px 16px 0",display:"grid",alignContent:"start",rowGap:"8px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:o.theme.palette.grey["300"],border:`1px solid ${o.theme.palette.grey["500"]}`,borderRadius:"8px"}},children:[(0,i.jsx)(s.Box,{sx:{padding:"8px 12px"},children:(0,i.jsxs)(s.Typography,{variant:"h6",children:["\u0412 \u0441\u0435\u0442\u0438: ",t&&t.length>0?t.filter(e=>"online"===e.status).length:0]})}),(0,i.jsx)(s.Box,{sx:{display:"grid",alignContent:"start",rowGap:"8px"},children:t.map(e=>"online"===e.status?(0,i.jsx)(c.UserFriends,{user:e},e.id):null)})]})})},749951:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsOnline:function(){return i.FriendsOnlineMemoized}});var i=r("288229")},503295:function(e,t,r){"use strict";r.r(t),r.d(t,{FriendsMemoized:function(){return u}});var i=r("785893"),n=r("667294"),s=r("807104"),o=r("540043"),a=r("8950"),c=r("118675"),l=r("302609"),d=r("639711");let u=(0,n.memo)(()=>{let e=(0,d.useNavigate)(),{pathname:t}=(0,d.useLocation)();return(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"72px 376px 1fr",height:"100%",backgroundColor:l.theme.palette.common.white},children:[(0,i.jsx)(s.Box,{sx:{backgroundColor:l.theme.palette.grey["200"]},children:(0,i.jsx)(a.Navigation,{})}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateRows:"72px max-content 1fr 64px",backgroundColor:l.theme.palette.grey["400"],overflow:"hidden"},children:[(0,i.jsx)(s.Box,{sx:{padding:"24px 20px",borderBottom:`1px solid ${l.theme.palette.grey["600"]}`},children:(0,i.jsx)(s.Typography,{variant:"h6",children:"\u041B\u0438\u0447\u043D\u044B\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F"})}),(0,i.jsx)(s.Box,{sx:{padding:"16px"},children:(0,i.jsx)(o.Button,{onClick:()=>e("/friends"),children:"\u0414\u0440\u0443\u0437\u044C\u044F"})}),(0,i.jsx)(s.Box,{sx:{margin:"28px 4px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:l.theme.palette.grey["300"],border:`1px solid ${l.theme.palette.grey["500"]}`,borderRadius:"8px"}},children:(0,i.jsx)(s.Box,{sx:{display:"grid",rowGap:"12px",padding:"0 4px"}})}),(0,i.jsx)(c.UserControl,{})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateRows:"72px 1fr",backgroundColor:l.theme.palette.grey["500"],overflow:"hidden"},children:[(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",padding:"16px 24px",borderBottom:`1px solid ${l.theme.palette.grey["400"]}`,alignItems:"center"},children:[(0,i.jsx)(s.Typography,{variant:"h6",children:"\u0414\u0440\u0443\u0437\u044C\u044F"}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(5, max-content)",columnGap:"8px"},children:[(0,i.jsx)(o.Button,{onClick:()=>e("online"),children:"\u0412 \u0441\u0435\u0442\u0438"}),(0,i.jsx)(o.Button,{onClick:()=>e("all"),children:"\u0412\u0441\u0435"}),(0,i.jsx)(o.Button,{onClick:()=>e("invitations"),children:"\u041E\u0436\u0438\u0434\u0430\u043D\u0438\u0435"}),(0,i.jsx)(o.Button,{onClick:()=>e("blocked"),children:"\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435"}),(0,i.jsx)(o.Button,{onClick:()=>e("add"),children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u0434\u0440\u0443\u0437\u044C\u044F"})]})]}),(0,i.jsx)(d.Outlet,{})]})]})})},794740:function(e,t,r){"use strict";r.r(t),r.d(t,{Friends:function(){return i.FriendsMemoized}});var i=r("503295")},825615:function(e,t,r){"use strict";r.r(t),r.d(t,{friendsSaga:function(){return p}});var i=r("624970"),n=r("444235"),s=r("501978"),o=r("993822"),a=r("7433");let c=function*(){try{let e=yield(0,i.call)(s.getFriendsService);yield(0,i.put)((0,n.successGetFriendsAction)(e.data.friends))}catch(e){console.error(e),yield(0,i.put)((0,n.failureGetFriendsAction)(e))}},l=function*(){try{let e=yield(0,i.call)(s.getFriendsUsersService);yield(0,i.put)((0,n.successGetFriendsUsersAction)(e.data.friends_users))}catch(e){console.error(e),yield(0,i.put)((0,n.failureGetFriendsUsersAction)(e))}},d=function*({payload:e}){try{let t=yield(0,i.call)(s.addToFriendsService,e);yield(0,i.put)((0,n.successAddToFriendsAction)(t.data.friends)),o.socket.emit(a.Event.Client.AddToFriends,e.friend_id)}catch(e){console.error(e),yield(0,i.put)((0,n.failureAddToFriendsAction)(e))}},u=function*({payload:e}){try{let t=yield(0,i.call)(s.removeFromFriendsService,e);yield(0,i.put)((0,n.successRemoveFromFriendsAction)(t.data.friends)),o.socket.emit(a.Event.Client.RemoveFromFriends,e.friend_id)}catch(e){console.error(e),yield(0,i.put)((0,n.failureRemoveFromFriendsAction)(e))}},p=function*(){yield(0,i.all)([(0,i.takeEvery)(n.requestGetFriendsAction.type,c),(0,i.takeEvery)(n.requestGetFriendsUsersAction.type,l),(0,i.takeEvery)(n.requestAddToFriendsAction.type,d),(0,i.takeEvery)(n.requestRemoveFromFriendsAction.type,u)])}},278915:function(e,t,r){"use strict";r.r(t),r.d(t,{ApiUrl:function(){return i}});let i={GetFriends:"/friends",GetFriendsUsers:"/friends/users",AddToFriends:"/friends/add",RemoveFromFriends:"/friends/remove"}},501978:function(e,t,r){"use strict";r.r(t),r.d(t,{addToFriendsService:function(){return a},getFriendsService:function(){return s},getFriendsUsersService:function(){return o},removeFromFriendsService:function(){return c}});var i=r("859735"),n=r("278915");let s=()=>i.axiosInstance.request({method:"GET",url:n.ApiUrl.GetFriends}),o=()=>i.axiosInstance.request({method:"GET",url:n.ApiUrl.GetFriendsUsers}),a=e=>i.axiosInstance.request({method:"POST",url:n.ApiUrl.AddToFriends,data:e}),c=e=>i.axiosInstance.request({method:"POST",url:n.ApiUrl.RemoveFromFriends,data:e})},444235:function(e,t,r){"use strict";r.r(t),r.d(t,{failureAddToFriendsAction:function(){return d},failureGetFriendsAction:function(){return a},failureGetFriendsUsersAction:function(){return m},failureRemoveFromFriendsAction:function(){return x},friendsReducer:function(){return f},requestAddToFriendsAction:function(){return c},requestGetFriendsAction:function(){return s},requestGetFriendsUsersAction:function(){return h},requestRemoveFromFriendsAction:function(){return u},successAddToFriendsAction:function(){return l},successGetFriendsAction:function(){return o},successGetFriendsUsersAction:function(){return g},successRemoveFromFriendsAction:function(){return p}});var i=r("829829");let n=(0,i.createSlice)({name:"friends",initialState:{friends:[],friends_users:[],status:{friends:"idle",friends_users:"idle",add_to_friends:"idle",remove_from_friends:"idle"},loading:{friends:!1,friends_users:!1,add_to_friends:!1,remove_from_friends:!1},error:{friends:null,friends_users:null,add_to_friends:null,remove_from_friends:null}},reducers:{requestGetFriendsAction:e=>{e.status.friends="running",e.loading.friends=!0},successGetFriendsAction:(e,{payload:t})=>{e.friends=t,e.status.friends="success",e.loading.friends=!1,e.error.friends=null},failureGetFriendsAction:(e,{payload:t})=>{e.status.friends="error",e.loading.friends=!1,e.error.friends=t},requestGetFriendsUsersAction:e=>{e.status.friends_users="running",e.loading.friends_users=!0},successGetFriendsUsersAction:(e,{payload:t})=>{e.friends_users=t,e.status.friends_users="success",e.loading.friends_users=!1,e.error.friends_users=null},failureGetFriendsUsersAction:(e,{payload:t})=>{e.status.friends_users="error",e.loading.friends_users=!1,e.error.friends_users=t},requestAddToFriendsAction:(e,{payload:t})=>{e.status.add_to_friends="running",e.loading.add_to_friends=!0},successAddToFriendsAction:(e,{payload:t})=>{e.friends=t,e.status.add_to_friends="success",e.loading.add_to_friends=!1,e.error.add_to_friends=null},failureAddToFriendsAction:(e,{payload:t})=>{e.status.add_to_friends="error",e.loading.add_to_friends=!1,e.error.add_to_friends=t},requestRemoveFromFriendsAction:(e,{payload:t})=>{e.status.remove_from_friends="running",e.loading.remove_from_friends=!0},successRemoveFromFriendsAction:(e,{payload:t})=>{e.friends=t,e.status.remove_from_friends="success",e.loading.remove_from_friends=!1,e.error.remove_from_friends=null},failureRemoveFromFriendsAction:(e,{payload:t})=>{e.status.remove_from_friends="error",e.loading.remove_from_friends=!1,e.error.remove_from_friends=t}}}),{requestGetFriendsAction:s,successGetFriendsAction:o,failureGetFriendsAction:a,requestAddToFriendsAction:c,successAddToFriendsAction:l,failureAddToFriendsAction:d,requestRemoveFromFriendsAction:u,successRemoveFromFriendsAction:p,failureRemoveFromFriendsAction:x,requestGetFriendsUsersAction:h,successGetFriendsUsersAction:g,failureGetFriendsUsersAction:m}=n.actions,f=n.reducer},485973:function(e,t,r){"use strict";r.r(t),r.d(t,{Event:function(){return i}});let i={Client:{SentInvitation:"client:sent_invitation",DeclineInvitation:"client:decline_invitation"},Server:{SentInvitation:"server:sent_invitation",DeclineInvitation:"server:decline_invitation"}}},467987:function(e,t,r){"use strict";r.r(t),r.d(t,{invitationsSaga:function(){return u}});var i=r("624970"),n=r("389225"),s=r("722488"),o=r("993822"),a=r("485973");let c=function*(){try{let e=yield(0,i.call)(n.getInvitationsService);yield(0,i.put)((0,s.successGetInvitationsAction)(e.data.invitations))}catch(e){console.error(e),yield(0,i.put)((0,s.failureGetInvitationsAction)(e))}},l=function*({payload:e}){try{let t=yield(0,i.call)(n.sentInvitationService,e);yield(0,i.put)((0,s.successSentInvitationsAction)(t.data.invitations)),o.socket.emit(a.Event.Client.SentInvitation,e.friend_id)}catch(e){console.error(e),yield(0,i.put)((0,s.failureSentInvitationsAction)(e))}},d=function*({payload:e}){try{let t=yield(0,i.call)(n.declineInvitationService,e);yield(0,i.put)((0,s.successDeclineInvitationsAction)(t.data.invitations)),o.socket.emit(a.Event.Client.DeclineInvitation,e.friend_id)}catch(e){console.error(e),yield(0,i.put)((0,s.failureDeclineInvitationsAction)(e))}},u=function*(){yield(0,i.all)([(0,i.takeEvery)(s.requestGetInvitationsAction.type,c),(0,i.takeEvery)(s.requestSentInvitationsAction.type,l),(0,i.takeEvery)(s.requestDeclineInvitationsAction.type,d)])}},925821:function(e,t,r){"use strict";r.r(t),r.d(t,{ApiUrl:function(){return i}});let i={GetInvitations:"/invitations",SentInvitation:"/invitations/sent",DeclineInvitation:"/invitations/decline"}},389225:function(e,t,r){"use strict";r.r(t),r.d(t,{declineInvitationService:function(){return a},getInvitationsService:function(){return s},sentInvitationService:function(){return o}});var i=r("859735"),n=r("925821");let s=()=>i.axiosInstance.request({method:"GET",url:n.ApiUrl.GetInvitations}),o=e=>i.axiosInstance.request({method:"POST",url:n.ApiUrl.SentInvitation,data:e}),a=e=>i.axiosInstance.request({method:"POST",url:n.ApiUrl.DeclineInvitation,data:e})},722488:function(e,t,r){"use strict";r.r(t),r.d(t,{failureDeclineInvitationsAction:function(){return x},failureGetInvitationsAction:function(){return a},failureSentInvitationsAction:function(){return d},invitationsReducer:function(){return h},requestDeclineInvitationsAction:function(){return u},requestGetInvitationsAction:function(){return s},requestSentInvitationsAction:function(){return c},successDeclineInvitationsAction:function(){return p},successGetInvitationsAction:function(){return o},successSentInvitationsAction:function(){return l}});var i=r("829829");let n=(0,i.createSlice)({name:"invitations",initialState:{invitations:{sent:[],received:[]},status:{invitations:"idle",sent_invitations:"idle",decline_invitations:"idle"},loading:{invitations:!1,sent_invitations:!1,decline_invitations:!1},error:{invitations:null,sent_invitations:null,decline_invitations:null}},reducers:{requestGetInvitationsAction:e=>{e.status.invitations="running",e.loading.invitations=!0},successGetInvitationsAction:(e,{payload:t})=>{e.invitations=t,e.status.invitations="success",e.loading.invitations=!1,e.error.invitations=null},failureGetInvitationsAction:(e,{payload:t})=>{e.status.invitations="error",e.loading.invitations=!1,e.error.invitations=t},requestSentInvitationsAction:(e,{payload:t})=>{e.status.sent_invitations="running",e.loading.sent_invitations=!0},successSentInvitationsAction:(e,{payload:t})=>{e.invitations=t,e.status.sent_invitations="success",e.loading.sent_invitations=!1,e.error.sent_invitations=null},failureSentInvitationsAction:(e,{payload:t})=>{e.status.sent_invitations="error",e.loading.sent_invitations=!1,e.error.sent_invitations=t},requestDeclineInvitationsAction:(e,{payload:t})=>{e.status.decline_invitations="running",e.loading.decline_invitations=!0},successDeclineInvitationsAction:(e,{payload:t})=>{e.invitations=t,e.status.decline_invitations="success",e.loading.decline_invitations=!1,e.error.decline_invitations=null},failureDeclineInvitationsAction:(e,{payload:t})=>{e.status.decline_invitations="error",e.loading.decline_invitations=!1,e.error.decline_invitations=t}}}),{requestGetInvitationsAction:s,successGetInvitationsAction:o,failureGetInvitationsAction:a,requestSentInvitationsAction:c,successSentInvitationsAction:l,failureSentInvitationsAction:d,requestDeclineInvitationsAction:u,successDeclineInvitationsAction:p,failureDeclineInvitationsAction:x}=n.actions,h=n.reducer},388377:function(e,t,r){"use strict";r.r(t),r.d(t,{MediaSettings:function(){return i.MediaSettings}});var i=r("711226")},711226:function(e,t,r){"use strict";r.r(t),r.d(t,{MediaSettings:function(){return d}}),r("857640"),r("409924");var i=r("785893"),n=r("667294"),s=r("897133"),o=r("540043"),a=r("85793"),c=r("990052"),l=r("49628");let d=()=>{let[e,t]=(0,n.useState)(null),[r,d]=(0,n.useState)(null),[u,p]=(0,n.useState)(null),[x,h]=(0,n.useState)(null),[g,m]=(0,n.useState)([]),f=(0,n.useRef)(null);(0,n.useEffect)(()=>{f.current&&(f.current.srcObject=e)},[e]),(0,n.useEffect)(()=>{c.mediaDevices.getDevices("audioinput",e=>{console.log(e),"success"===e.state&&d(e.devices)}),c.mediaDevices.getDevices("audiooutput",e=>{console.log(e),"success"===e.state&&p(e.devices)}),c.mediaDevices.getDevices("videoinput",e=>{console.log(e),"success"===e.state&&h(e.devices)})},[]);let v=e=>null===e||e?.length===0?[]:e?.map((e,t)=>({id:t,label:e.label,value:e.label}));return(0,i.jsx)("div",{className:(0,s.css)`
        display: grid;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
      `,children:(0,i.jsxs)("div",{className:(0,s.css)`
          display: grid;
          grid-template-columns: repeat(2, 1fr);
        `,children:[(0,i.jsx)(o.Button,{onClick:()=>a.mediaStream.getStream(e=>{t(e.stream),a.mediaStream.audioStreamController.getVisualizer(e=>{m(e)})}),children:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u0438\u0434\u0435\u043E \u0438 \u0430\u0443\u0434\u0438\u043E \u043F\u043E\u0442\u043E\u043A"}),(0,i.jsx)(o.Button,{onClick:()=>a.mediaStream.closeStream(e=>{t(e.stream),m([])}),children:"\u0412\u044B\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u0438\u0434\u0435\u043E \u0438 \u0430\u0443\u0434\u0438\u043E \u043F\u043E\u0442\u043E\u043A"}),(0,i.jsx)(o.Button,{onClick:()=>a.mediaStream.audioStreamController.getStream(e=>{t(e.stream),a.mediaStream.audioStreamController.getVisualizer(e=>{m(e)})}),children:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0430\u0443\u0434\u0438\u043E \u043F\u043E\u0442\u043E\u043A"}),(0,i.jsx)(o.Button,{onClick:()=>a.mediaStream.audioStreamController.closeStream(e=>{t(e.stream),m([])}),children:"\u0412\u044B\u043B\u044E\u0447\u0438\u0442\u044C \u0430\u0443\u0434\u0438\u043E \u043F\u043E\u0442\u043E\u043A"}),(0,i.jsx)(o.Button,{onClick:()=>a.mediaStream.videoStreamController.getStream(e=>{t(e.stream)}),children:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u0438\u0434\u0435\u043E \u043F\u043E\u0442\u043E\u043A"}),(0,i.jsx)(o.Button,{onClick:()=>a.mediaStream.videoStreamController.closeStream(e=>{t(e.stream)}),children:"\u0412\u044B\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u0438\u0434\u0435\u043E \u043F\u043E\u0442\u043E\u043A"}),(0,i.jsxs)("div",{className:(0,s.css)`
            display: grid;
            grid-column: 1/-1;
            row-gap: 4px;
            padding: 8px;
            background-color: #ffffff;
          `,children:[(0,i.jsxs)("div",{className:(0,s.css)`
              padding: 8px;
              background-color: #ffffff;
              border: 1px solid #000000;
              border-radius: 8px;
            `,children:[(0,i.jsx)("div",{className:(0,s.css)`
                padding-bottom: 8px;
              `,children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0430\u0443\u0434\u0438\u043E\u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432 \u0432\u0432\u043E\u0434\u0430:"}),(0,i.jsx)(l.Select,{options:v(r),values:v(r).slice(0,1),onChange:e=>{console.log(e)}})]}),(0,i.jsxs)("div",{className:(0,s.css)`
              padding: 8px;
              background-color: #ffffff;
              border: 1px solid #000000;
              border-radius: 8px;
            `,children:[(0,i.jsx)("div",{className:(0,s.css)`
                padding-bottom: 8px;
              `,children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0430\u0443\u0434\u0438\u043E\u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432 \u0432\u044B\u0432\u043E\u0434\u0430:"}),(0,i.jsx)(l.Select,{options:v(u),values:v(u).slice(0,1),onChange:e=>{console.log(e)}})]}),(0,i.jsxs)("div",{className:(0,s.css)`
              padding: 8px;
              background-color: #ffffff;
              border: 1px solid #000000;
              border-radius: 8px;
            `,children:[(0,i.jsx)("div",{className:(0,s.css)`
                padding-bottom: 8px;
              `,children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0432\u0438\u0434\u0435\u043E\u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432 \u0432\u0432\u043E\u0434\u0430:"}),(0,i.jsx)(l.Select,{options:v(x),values:v(x).slice(0,1),onChange:e=>{console.log(e)}})]}),(0,i.jsxs)("div",{className:(0,s.css)`
              display: grid;
              grid-auto-flow: row;
              margin: 8px 0;
              padding: 8px;
              overflow: hidden;
              border: 1px solid #000000;
              border-radius: 8px;
            `,children:[(0,i.jsx)("div",{className:(0,s.css)`
                display: grid;
                grid-auto-flow: column;
                width: 100%;
                height: 50px;
                transform: rotateX(-180deg);
              `,children:g.map((e,t)=>(0,i.jsx)("div",{style:{width:"2px",height:e+"px",maxHeight:"50px",backgroundColor:e>50?"#fb742d":"#47464d"}},t))}),(0,i.jsx)("div",{className:(0,s.css)`
                display: grid;
                grid-auto-flow: column;
                width: 100%;
                height: 50px;
              `,children:g.map((e,t)=>(0,i.jsx)("div",{style:{width:"2px",height:e+"px",maxHeight:"50px",backgroundColor:e>50?"#fb742d":"#47464d"}},t))})]}),(0,i.jsx)("video",{className:(0,s.css)`
              width: 100%;
              height: 225px;
              background-color: #ffffff;
              object-fit: contain;
              border: 1px solid #000000;
              border-radius: 8px;
            `,ref:f,autoPlay:!0,muted:!0})]})]})})}},95605:function(e,t,r){"use strict";r.r(t),r.d(t,{Meet:function(){return i.MeetMemoized}});var i=r("67144")},67144:function(e,t,r){"use strict";r.r(t),r.d(t,{MeetMemoized:function(){return v}}),r("857640"),r("409924"),r("215581"),r("634514"),r("2490");var i=r("785893"),n=r("667294"),s=r("807104"),o=r("540043"),a=r("8950"),c=r("118675"),l=r("302609"),d=r("639711"),u=r("993822"),p=r("50533"),x=r("382191"),h=r("167402"),g=r("101484"),m=r("95831"),f=r("897133");let v=(0,n.memo)(()=>{let e=(0,p.useDispatch)(),t=(0,d.useNavigate)(),{user:r,media:v}=(0,p.useSelector)(e=>e.user),{meet:y}=(0,p.useSelector)(e=>e.meet),[j,k]=(0,n.useState)(),[S,b]=(0,n.useState)({audio:!0,video:!0}),[C,A]=(0,n.useState)("new"),w=(0,n.useRef)(null),_=(0,n.useRef)(null),T=(0,n.useRef)(null),B=(0,n.useRef)(null),I=y.user?.id?y.user.id:"",G=y.isInitiator,F=async()=>{let e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});return k(e),{stream:e}};(0,n.useEffect)(()=>(console.log("LOGS: \u041F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u043C\u0435\u0434\u0438\u0430\u043F\u043E\u0442\u043E\u043A\u0430 \u0441 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432."),console.log(`LOGS: \u{41F}\u{43E}\u{43B}\u{44C}\u{437}\u{43E}\u{432}\u{430}\u{442}\u{435}\u{43B}\u{44C} \u{438}\u{43D}\u{438}\u{446}\u{438}\u{430}\u{442}\u{43E}\u{440}: ${G}`),F(),e((0,m.setMediaAction)({audio:!0,video:!0})),e((0,g.setMeetStateAction)({meetState:"new"})),()=>{u.socket.removeListener("server:media_state_change"),u.socket.removeListener("server:meet_accept_call"),u.socket.removeListener("server:meet_offer"),u.socket.removeListener("server:meet_answer"),u.socket.removeListener("server:meet_candidate"),u.socket.removeListener("server:meet_end_call")}),[]),(0,n.useEffect)(()=>{T.current&&B.current&&(S.video?B.current&&(T.current.srcObject=B.current):T.current.srcObject=null)},[j,S]),(0,n.useEffect)(()=>{j&&(w.current&&console.log("senders",w.current.getSenders()),v.audio?w.current&&w.current.getSenders()[0].replaceTrack(j.getAudioTracks().slice().map(e=>(e.enabled=!0,e))[0]||null):w.current&&w.current.getSenders()[0].replaceTrack(j.getAudioTracks().slice().map(e=>(e.enabled=!1,e))[0]||null),v.video?w.current&&w.current.getSenders()[1].replaceTrack(j.getVideoTracks().slice().map(e=>(e.enabled=!0,e))[0]||null):w.current&&w.current.getSenders()[1].replaceTrack(j.getVideoTracks().slice().map(e=>(e.enabled=!1,e))[0]||null))},[j,v]),(0,n.useEffect)(()=>(j&&(console.log("LOGS: \u041A\u043E\u0433\u0434\u0430 \u043C\u0435\u0434\u0438\u0430\u043F\u043E\u0442\u043E\u043A \u0438 ID \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0433\u043E\u0442\u043E\u0432\u044B."),_.current&&(console.log("LOGS: \u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043C\u0435\u0434\u0438\u0430\u043F\u043E\u0442\u043E\u043A\u0430 \u0432 \u0432\u0438\u0434\u0435\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u0437\u0432\u043E\u043D\u0438\u0442."),_.current.srcObject=j),r?.id&&I&&(G&&(console.log("LOGS: \u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430 \u0441\u043E\u0431\u044B\u0442\u0438\u044F \u043D\u0430\u0447\u0430\u043B\u0430 \u0432\u044B\u0437\u043E\u0432\u0430."),u.socket.emit("client:meet_start_call",{userFromCall:r.id,userToCall:I})),!G&&(console.log("LOGS: \u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430 \u0441\u043E\u0431\u044B\u0442\u0438\u044F \u043F\u0440\u0438\u043D\u044F\u0442\u0438\u044F \u0432\u044B\u0437\u043E\u0432\u0430."),u.socket.emit("client:meet_accept_call",{userFromCall:r.id,userToCall:I}))),u.socket.on("server:media_state_change",e=>{b(e.media)}),u.socket.on("server:meet_accept_call",()=>{if(w.current){console.log("LOGS: \u0421\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u0435 \u0443\u0436\u0435 \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u043E.");return}if(!G){console.log("LOGS: \u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u043E\u0440 \u0432\u044B\u0437\u043E\u0432\u0430.");return}console.log("LOGS: \u041D\u0430\u0447\u0430\u043B\u043E \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0438 \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F \u043C\u0435\u0436\u0434\u0443 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C\u0438."),U()}),u.socket.on("server:meet_offer",(e,t)=>{D(e.userFromCall,e.userToCall,t)}),u.socket.on("server:meet_answer",(e,t,r)=>{E(e,t,r)}),u.socket.on("server:meet_candidate",(e,t,r)=>{M(r)}),u.socket.on("server:meet_end_call",()=>{w.current&&(e((0,g.setMeetStateAction)({meetState:"disconnected"})),e((0,m.setMediaAction)({audio:!0,video:!0})),O(),t("/"))})),()=>{j&&j.getTracks().forEach(e=>{e.stop(),e.enabled=!1})}),[j,r,y]);let R=()=>{j&&(w.current=new RTCPeerConnection({iceServers:[{urls:"stun:openrelay.metered.ca:80"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"}]}),w.current.onicecandidate=e=>{u.socket.emit("client:meet_candidate",r?.id,I,e.candidate),console.log("LOGS: icecandidate event",e)},w.current.onconnectionstatechange=()=>{w.current&&(A(w.current.iceConnectionState),e((0,g.setMeetStateAction)({meetState:w.current.iceConnectionState})))},w.current.ontrack=e=>{console.log("LOGS: ontrack event",e),console.log("EVENT_STREAMS",e.streams[0].getVideoTracks(),e.streams[0].getAudioTracks()),T.current&&(B.current=e.streams[0],T.current.srcObject=e.streams[0])},console.log("LOGS: stream",j),j.getTracks().forEach(e=>{console.log("LOGS: track",e),w.current?.addTrack(e,j)}),console.log("LOGS: createPeerConnection",w.current))},U=async()=>{try{if(console.log("LOGS: \u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 peer \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F."),R(),w.current){console.log("LOGS: \u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u0434\u043B\u044F peer \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F.");let e=await w.current.createOffer();r?.id&&I&&(console.log("LOGS: \u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044E."),u.socket.emit("client:meet_offer",{userFromCall:r.id,userToCall:I},e)),console.log("LOGS: \u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044E \u043B\u043E\u043A\u0430\u043B\u044C\u043D\u043E \u0434\u043B\u044F peer \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F."),await w.current.setLocalDescription(e)}}catch(e){console.error(e)}},D=async(e,t,r)=>{try{if(console.log("LOGS: \u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 peer \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F \u0434\u043B\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F."),R(),w.current){console.log("LOGS: \u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u043D\u043E\u0433\u043E \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F peer \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F."),await w.current.setRemoteDescription(r),console.log("LOGS: \u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u043E\u0442\u0432\u0435\u0442\u0430 peer \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F.");let i=await w.current.createAnswer();console.log("LOGS: \u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 \u043E\u0442\u0432\u0435\u0442\u0430 peer \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F."),u.socket.emit("client:meet_answer",t,e,i),console.log("LOGS: \u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u043B\u043E\u043A\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043E\u0442\u0432\u0435\u0442\u0430 peer \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F."),await w.current.setLocalDescription(i)}}catch(e){console.error(e)}},E=async(e,t,r)=>{if(!w.current){console.error("Peer \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u0435 \u043D\u0435 \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E.");return}await w.current.setRemoteDescription(r)},M=async e=>{if(!w.current){console.error("\u0421\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u0435 \u043D\u0435 \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E.");return}console.log("LOGS: \u041A\u0430\u043D\u0434\u0438\u0434\u0430\u0442",e),e&&e.candidate?await w.current.addIceCandidate(e):await w.current.addIceCandidate(void 0)},O=()=>{w.current&&(w.current.close(),w.current=null),_.current&&(_.current.srcObject=null),u.socket.emit("client:meet_end_call",I),e((0,g.setMeetStateAction)({meetState:"new"})),t("/")};return(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"72px 376px 1fr",height:"100%",backgroundColor:l.theme.palette.common.white},children:[(0,i.jsx)(s.Box,{sx:{backgroundColor:l.theme.palette.grey["200"]},children:(0,i.jsx)(a.Navigation,{})}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateRows:"72px max-content 1fr 64px",backgroundColor:l.theme.palette.grey["400"],overflow:"hidden"},children:[(0,i.jsx)(s.Box,{sx:{padding:"24px 20px",borderBottom:`1px solid ${l.theme.palette.grey["600"]}`},children:(0,i.jsx)(s.Typography,{variant:"h6",children:"\u041B\u0438\u0447\u043D\u044B\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F"})}),(0,i.jsx)(s.Box,{sx:{padding:"16px"},children:(0,i.jsx)(o.Button,{onClick:()=>t("/friends"),children:"\u0414\u0440\u0443\u0437\u044C\u044F"})}),(0,i.jsx)(s.Box,{sx:{margin:"28px 4px",overflowY:"scroll","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{backgroundColor:"none"},"&::-webkit-scrollbar-thumb":{backgroundColor:l.theme.palette.grey["300"],border:`1px solid ${l.theme.palette.grey["500"]}`,borderRadius:"8px"}},children:(0,i.jsx)(s.Box,{sx:{display:"grid",rowGap:"12px",padding:"0 4px"}})}),(0,i.jsx)(c.UserControl,{})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateRows:"72px 1fr",backgroundColor:l.theme.palette.grey["500"],overflow:"hidden"},children:[(0,i.jsx)(s.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",padding:"16px 24px",borderBottom:`1px solid ${l.theme.palette.grey["400"]}`,alignItems:"center"},children:(0,i.jsx)(s.Typography,{variant:"h6",children:"\u0412\u0441\u0442\u0440\u0435\u0447\u0430"})}),(0,i.jsx)(s.Box,{sx:{display:"grid",width:"100%",height:"100%",padding:"16px",position:"relative",alignItems:"center",justifyContent:"center",gridTemplateColumns:"1fr"},children:(0,i.jsxs)(s.Box,{sx:{position:"relative",width:"640px",height:"360px",alignSelf:"center",justifySelf:"center",overflow:"hidden"},children:[(0,i.jsx)(h.VideoCard,{className:(0,f.css)`
                position: absolute;
                top: 0;
                left: 0;
                z-index: 1;
                width: 100%;
                height: 100%;
                object-fit: cover;
                background-color: '#fefefe';
                border-radius: 8px;
              `,ref:T,autoPlay:!0}),(0,i.jsx)(s.Box,{sx:{width:"100%",height:"64px",position:"absolute",bottom:"0",left:"0",background:"linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.35) 100%)",zIndex:2}}),(0,i.jsx)(h.VideoCard,{ref:_,className:(0,f.css)`
                position: absolute;
                top: 16px;
                right: 16px;
                z-index: 2;
                display: grid;
                width: 128px;
                height: 72px;
                background-color: #fefefe;
                object-fit: cover;
                border-radius: 8px;
              `,autoPlay:!0,muted:!0}),("connected"!==C||!S.video)&&(0,i.jsx)(s.Avatar,{sx:{position:"absolute",width:"100px",height:"100px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2,backgroundColor:y.user?.color?y.user.color:y.user?.default_color,boxShadow:"0 0 16px 4px rgb(0 0 0 / 25%)"},src:y.user?.image?y.user.image:""}),"new"===C?(0,i.jsxs)(s.Typography,{variant:"body2",sx:{position:"absolute",bottom:"88px",left:"50%",transform:"translateX(-50%)",zIndex:2,color:"#ffffff"},children:["\u0417\u0432\u043E\u043D\u0438\u043C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044E ",y.user?.name?y.user.name:"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C","..."]}):"checking"===C?(0,i.jsx)(s.Typography,{variant:"body2",sx:{position:"absolute",bottom:"88px",left:"50%",transform:"translateX(-50%)",zIndex:2,color:"#ffffff"},children:"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435..."}):null,j&&"connected"===C&&(0,i.jsxs)(s.Box,{sx:{position:"absolute",bottom:"0",left:"0",width:"100%",display:"grid",gridTemplateColumns:"repeat(3, max-content)",alignItems:"center",justifyContent:"center",columnGap:"8px",padding:"16px 0",zIndex:2},children:[(0,i.jsx)(s.IconButton,{sx:{minWidth:"32px",minHeight:"32px",width:"32px",height:"32px",borderRadius:"50%"},children:S.audio?(0,i.jsx)(x.Mic,{sx:{color:l.theme.palette.common.white,width:"16px",height:"16px"}}):(0,i.jsx)(x.MicOff,{sx:{color:l.theme.palette.grey["700"]}})}),(0,i.jsx)(o.Button,{onClick:()=>{O()},children:(0,i.jsx)(x.CallEndRounded,{sx:{color:l.theme.palette.common.white,width:"16px",height:"16px"}})}),(0,i.jsx)(s.IconButton,{sx:{minWidth:"32px",minHeight:"32px",width:"32px",height:"32px",borderRadius:"50%"},children:S.video?(0,i.jsx)(x.Videocam,{sx:{color:l.theme.palette.common.white,width:"16px",height:"16px"}}):(0,i.jsx)(x.VideocamOff,{sx:{color:l.theme.palette.grey["700"]}})})]})]})})]})]})})},101484:function(e,t,r){"use strict";r.r(t),r.d(t,{meetReducer:function(){return a},setMeetAction:function(){return s},setMeetStateAction:function(){return o}});var i=r("829829");let n=(0,i.createSlice)({name:"meet",initialState:{meet:{user:null,isInitiator:!1},meetState:"new"},reducers:{setMeetAction:(e,{payload:t})=>{e.meet.user=t.user,e.meet.isInitiator=t.isInitiator},setMeetStateAction:(e,{payload:t})=>{e.meetState=t.meetState}}}),{setMeetAction:s,setMeetStateAction:o}=n.actions,a=n.reducer},665180:function(e,t,r){"use strict";r.r(t),r.d(t,{useDeviceInfo:function(){return o},useTimer:function(){return n},useUserMedia:function(){return s}}),r("215581"),r("634514"),r("2490"),r("888449"),r("959849");var i=r("667294");let n=()=>{let[e,t]=(0,i.useState)(0);(0,i.useEffect)(()=>{let e=setInterval(()=>{t(e=>e+1)},1e3);return()=>clearInterval(e)},[]);let r=Math.floor(e/60).toString().padStart(2,"0");return{minutes:r,seconds:Number(e-60*Math.floor(e/60)).toString().padStart(2,"0")}},s=()=>{let[e,t]=(0,i.useState)(),[r,n]=(0,i.useState)(),[s,o]=(0,i.useState)(),a=async e=>{try{t("pending");let r=await navigator.mediaDevices.getUserMedia(e);t("fulfilled"),n(r)}catch(e){t("rejected"),o(e)}},c=()=>{r&&r.getTracks().forEach(e=>{e.stop()})};return(0,i.useEffect)(()=>()=>{c()},[r]),{state:e,stream:r,error:s,getUserMedia:a,stopUserMedia:c}},o=()=>{let[e,t]=(0,i.useState)(),[r,n]=(0,i.useState)([]),[s,o]=(0,i.useState)([]),[a,c]=(0,i.useState)([]),[l,d]=(0,i.useState)();return{state:e,audioInDevices:r,audioOutDevices:s,videoInDevices:a,error:l,getDeviceInfo:async()=>{try{t("pending");let e=await navigator.mediaDevices.enumerateDevices();t("fulfilled");let r=e.filter(e=>"audioinput"===e.kind),i=e.filter(e=>"audiooutput"===e.kind),s=e.filter(e=>"videoinput"===e.kind);n(r),o(i),c(s)}catch(e){t("rejected"),d(e)}}}}},320610:function(e,t,r){"use strict";r.r(t),r.d(t,{UserAccount:function(){return i.UserAccountMemoized}});var i=r("787815")},787815:function(e,t,r){"use strict";r.r(t),r.d(t,{UserAccountMemoized:function(){return h}});var i=r("785893"),n=r("382191"),s=r("807104"),o=r("540043"),a=r("448325"),c=r("168539"),l=r("667294"),d=r("50533"),u=r("639711"),p=r("31417"),x=r("53869");let h=(0,l.memo)(()=>{let e=(0,u.useNavigate)(),t=(0,d.useSelector)(c.userUserSelector),[r,h]=(0,l.useState)(!1),[g,m]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e("friends")};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[]),(0,i.jsxs)(s.Box,{sx:{position:"relative",display:"grid",padding:"60px 40px 80px 40px",alignContent:"start",backgroundColor:"#5e6065"},children:[(0,i.jsx)(x.ModalChangeUserNameMemoized,{isOpen:g,onClose:()=>m(!1)}),(0,i.jsx)(p.ModalChangeUserEmailMemoized,{isOpen:f,onClose:()=>v(!1)}),(0,i.jsx)(s.Typography,{sx:{paddingBottom:"20px",fontWeight:600,fontSize:"20px",lineHeight:"24px",color:"#ffffff"},children:"\u041C\u043E\u044F \u0443\u0447\u0435\u0442\u043D\u0430\u044F \u0437\u0430\u043F\u0438\u0441\u044C"}),(0,i.jsxs)(s.Box,{sx:{display:"grid",rowGap:"8px",position:"absolute",top:"60px",right:"-40px",textAlign:"center",cursor:"pointer","&:hover svg, &:focus svg":{fill:"#ffffff"}},onClick:()=>e("friends"),children:[(0,i.jsx)(n.CancelOutlined,{sx:{width:"36px",height:"36px",fill:"#b9bbbe"}}),(0,i.jsx)(s.Typography,{sx:{fontSize:"13px",color:"#b9bbbe"},children:"ESC"})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid"},children:[(0,i.jsxs)(s.Box,{sx:{backgroundColor:"#36383a",border:"1px solid#1c1e21",borderRadius:"4px",padding:"20px"},children:[(0,i.jsx)(s.Box,{}),(0,i.jsxs)(s.Box,{sx:{display:"grid",rowGap:"8px",justifyItems:"start"},children:[(0,i.jsx)(s.Typography,{sx:{fontSize:"12px",color:"#c0c1c4",textTransform:"uppercase"},children:"\u041D\u0435\u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B.\u043F\u043E\u0447\u0442\u044B"}),(0,i.jsx)(s.Typography,{sx:{fontSize:"14px",color:"#dfe0e1"},children:"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0441\u0432\u043E\u044E \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0443\u044E \u043F\u043E\u0447\u0442\u0443 \u0438 \u0441\u043B\u0435\u0434\u0443\u0439\u0442\u0435 \u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u044F\u043C, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C \u0441\u0432\u043E\u0439 \u0430\u0434\u0440\u0435\u0441\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B. \u0415\u0441\u043B\u0438 \u0432\u044B \u043D\u0435 \u043F\u043E\u043B\u0443\u0447\u0438\u043B\u0438 \u043F\u0438\u0441\u044C\u043C\u043E \u0438\u043B\u0438 \u0443 \u043D\u0435\u0433\u043E \u0438\u0441\u0442\u0435\u043A \u0441\u0440\u043E\u043A \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F, \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E\u043F\u0440\u043E\u0441\u0438\u0442\u044C \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u043E\u0435."}),(0,i.jsx)(o.Button,{children:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u043F\u0438\u0441\u044C\u043C\u043E \u0441 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435\u043C \u0435\u0449\u0435 \u0440\u0430\u0437"})]})]}),(0,i.jsxs)(s.Box,{sx:{margin:"20px 0",backgroundColor:"#36383a",borderRadius:"4px",overflow:"hidden"},children:[(0,i.jsx)(s.Box,{sx:{position:"relative",backgroundColor:t?.color?t.color:t?.default_color,height:"100px"},children:(0,i.jsx)(s.Box,{sx:{position:"absolute",top:"76px",left:"16px",width:"94px",height:"94px",backgroundImage:t?.image?`url(${t?.image})`:"none",backgroundColor:t?.color?t.color:t?.default_color,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",border:"6px solid #36383a",borderRadius:"50%",cursor:"pointer"},children:(0,i.jsx)(s.Box,{sx:{width:"24px",height:"24px",backgroundColor:t?.status==="online"?"#4caf50":"#ef5350",position:"absolute",bottom:0,right:0,borderRadius:"50%",border:"4px solid #36383a"}})})}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",justifyContent:"space-between",alignItems:"center",padding:"16px 16px 16px 120px"},children:[(0,i.jsxs)(s.Typography,{sx:{fontSize:"20px",color:"#ffffff"},children:[t?.name,(0,i.jsxs)(s.Typography,{component:"span",sx:{fontSize:"20px",color:"#c0c1c4"},children:["#",t?.id.slice(-4)]})]}),(0,i.jsx)(o.Button,{onClick:()=>e("/settings/user-profile"),children:"\u041D\u0430\u0441\u0442\u0440. \u043F\u0440\u043E\u0444\u0438\u043B\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",margin:"16px",padding:"16px",backgroundColor:"#43454a",borderRadius:"4px"},children:[(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[(0,i.jsxs)(s.Box,{children:[(0,i.jsx)(s.Typography,{sx:{fontSize:"12px",color:"#c0c1c4",textTransform:"uppercase"},children:"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"}),(0,i.jsxs)(s.Typography,{sx:{fontSize:"16px",color:"#ffffff"},children:[t?.name,(0,i.jsxs)(s.Typography,{component:"span",sx:{fontSize:"16px",color:"#c0c1c4",textTransform:"uppercase"},children:["#",t?.id.slice(-4)]})]})]}),(0,i.jsx)(o.Button,{onClick:()=>m(!0),children:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[(0,i.jsxs)(s.Box,{children:[(0,i.jsx)(s.Typography,{sx:{fontSize:"12px",color:"#c0c1c4",textTransform:"uppercase"},children:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430"}),(0,i.jsxs)(s.Typography,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"8px",fontSize:"16px",color:"#ffffff"},children:[r?t?.email:(0,a.getHiddenUserEmail)(t?.email),(0,i.jsx)(s.Link,{sx:{cursor:"pointer",color:"#19b7f5"},underline:"hover",onClick:()=>h(!r),children:(0,i.jsx)(s.Typography,{children:r?"\u0421\u043A\u0440\u044B\u0442\u044C":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C"})})]})]}),(0,i.jsx)(o.Button,{onClick:()=>v(!0),children:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[(0,i.jsxs)(s.Box,{children:[(0,i.jsx)(s.Typography,{sx:{fontSize:"12px",color:"#c0c1c4",textTransform:"uppercase"},children:"\u041D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430"}),(0,i.jsx)(s.Typography,{sx:{fontSize:"16px",color:"#ffffff"},children:"\u0412\u044B \u0435\u0449\u0435 \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043B\u0438 \u043D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430."})]}),(0,i.jsx)(o.Button,{disabled:!0,children:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"})]})]})]})]})]})})},143476:function(e,t,r){"use strict";r.r(t),r.d(t,{UserProfile:function(){return i.UserProfileMemoized}});var i=r("378484")},378484:function(e,t,r){"use strict";r.r(t),r.d(t,{UserProfileMemoized:function(){return f}});var i=r("785893"),n=r("897133"),s=r("382191"),o=r("807104"),a=r("540043"),c=r("268794"),l=r("302609"),d=r("665180"),u=r("95831"),p=r("168539"),x=r("667294"),h=r("50533"),g=r("639711"),m=r("572132");let f=(0,x.memo)(()=>{let e=(0,g.useNavigate)(),t=(0,h.useDispatch)(),r=(0,h.useSelector)(p.userUserSelector),[f,v]=(0,x.useState)(""),[y,j]=(0,x.useState)(r?.image),[k,S]=(0,x.useState)(r?.description),[b,C]=(0,x.useState)(!0),[A,w]=(0,x.useState)(!1),{minutes:_,seconds:T}=(0,d.useTimer)(),B=(0,x.useRef)(null);return(0,x.useEffect)(()=>{r?.description&&S(r.description),r?.image&&j(r.image)},[r?.description,r?.image]),(0,x.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e("friends")};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[]),(0,x.useEffect)(()=>{""!==f||y!==r?.image||k!==r?.description?w(!0):w(!1)},[f,y,k]),(0,i.jsxs)(o.Box,{sx:{position:"relative",display:"grid",padding:"60px 40px 80px 40px",alignContent:"start",backgroundColor:"#5e6065"},children:[(0,i.jsx)(c.Input,{type:"file",id:"image",name:"image",onChange:e=>{let t=e.target.files?e.target.files[0]:null,r=new FileReader;t&&(r.readAsDataURL(t),r.onload=()=>{t.size>5242880&&m.toast.error("\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043D\u0435 \u0431\u043E\u043B\u0435\u0435 5MB."),j(String(r.result))}),j(e.target.value)},placeholder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043F\u0440\u043E\u0444\u0438\u043B\u044F",autoComplete:"off"}),(0,i.jsx)(o.Snackbar,{message:"\u0410\u043A\u043A\u0443\u0440\u0430\u0442\u043D\u0435\u0435, \u0432\u044B \u043D\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u043B\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F!",TransitionComponent:o.Slide,open:A,sx:{"&":{position:"absolute",left:"40px",transform:"none",width:"100%",".MuiSnackbarContent-root":{width:"100%"}}},onClose:(e,t)=>{"clickaway"!==t&&w(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},action:(0,i.jsxs)(o.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",columnGap:"16px",alignItems:"center"},children:[(0,i.jsx)(o.Link,{sx:{cursor:"pointer"},underline:"hover",onClick:()=>{v(""),j(r?.image),S(r?.description)},children:(0,i.jsx)(o.Typography,{children:"\u0421\u0431\u0440\u043E\u0441"})}),(0,i.jsx)(a.Button,{onClick:()=>{t((0,u.requestUpdateUserAction)({color:f||void 0,image:y!==r?.image?y:void 0,description:k!==r?.description?k:void 0})),v(""),j(r?.image),S(r?.description)},children:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"})]})},o.Slide.name),(0,i.jsx)(o.Typography,{children:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"}),(0,i.jsxs)(o.Box,{sx:{display:"grid",rowGap:"8px",position:"absolute",top:"60px",right:"-40px",textAlign:"center",cursor:"pointer","&:hover svg, &:focus svg":{fill:"#ffffff"}},onClick:()=>e("/friends"),children:[(0,i.jsx)(s.CancelOutlined,{sx:{width:"36px",height:"36px",fill:"#b9bbbe"}}),(0,i.jsx)(o.Typography,{sx:{fontSize:"13px",color:"#b9bbbe"},children:"ESC"})]}),(0,i.jsxs)(o.Box,{sx:{display:"grid",gridTemplateColumns:"340px 300px",columnGap:"20px",justifyContent:"space-between"},children:[(0,i.jsxs)(o.Box,{children:[(0,i.jsxs)(o.Box,{sx:{padding:"20px 0",borderBottom:"1px solid #000000"},children:[(0,i.jsx)(o.Typography,{children:"\u0410\u0432\u0430\u0442\u0430\u0440"}),(0,i.jsxs)(o.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",alignItems:"center",columnGap:"16px"},children:[(0,i.jsx)(a.Button,{onClick:()=>{B.current&&B.current.click()},children:"\u0421\u043C\u0435\u043D\u0430 \u0430\u0432\u0430\u0442\u0430\u0440\u0430"}),r?.image&&(0,i.jsx)(o.Link,{sx:{cursor:"pointer",color:"#ffffff",fontFamily:"sans-serif"},underline:"hover",onClick:()=>j(""),children:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0430\u0432\u0430\u0442\u0430\u0440"})]})]}),(0,i.jsxs)(o.Box,{sx:{padding:"20px 0",borderBottom:"1px solid #000000"},children:[(0,i.jsx)(o.Typography,{children:"\u0426\u0432\u0435\u0442 \u043F\u0440\u043E\u0444\u0438\u043B\u044F"}),(0,i.jsxs)(o.Box,{sx:{display:"grid",gridTemplateColumns:"max-content max-content",columnGap:"16px"},children:[(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Box,{sx:{display:"grid",alignItems:"center",justifyContent:"center",backgroundColor:r?.color?r.color:r?.default_color,width:"70px",height:"50px",borderRadius:"4px",cursor:"pointer"},onClick:()=>C(!0),children:b&&(0,i.jsx)(s.Check,{sx:{fill:"#ffffff"},width:24,height:24})}),(0,i.jsx)(o.Typography,{children:"\u041F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E"})]}),(0,i.jsxs)(o.Box,{sx:{position:"relative"},children:[(0,i.jsxs)(o.Box,{sx:{position:"relative",display:"grid",alignItems:"center",justifyContent:"center",backgroundColor:f,width:"70px",height:"50px",borderRadius:"4px",cursor:"pointer",border:f?"":"1px solid #000000"},onClick:()=>{v("#000000"),C(!1)},children:[!b&&(0,i.jsx)(s.Check,{sx:{fill:"#ffffff"},width:24,height:24}),(0,i.jsx)("input",{className:(0,n.css)`
                      position: absolute;
                      top: 0;
                      left: 0;
                      width: 100%;
                      height: 100%;
                      cursor: pointer;
                      opacity: 0;
                    `,type:"color",value:f,onChange:e=>{v(e.target.value),C(!1)}})]}),(0,i.jsx)(s.Colorize,{sx:{position:"absolute",top:"0",right:"8px"},width:14,height:14}),(0,i.jsx)(o.Typography,{children:"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0435"})]})]}),(0,i.jsxs)(o.Box,{sx:{paddingTop:"20px"},children:[(0,i.jsx)(o.Typography,{children:"\u0411\u0430\u043D\u043D\u0435\u0440 \u043F\u0440\u043E\u0444\u0438\u043B\u044F"}),(0,i.jsxs)(o.Box,{sx:{display:"grid",rowGap:"16px",justifyItems:"start"},children:[(0,i.jsx)(o.Typography,{children:"\u041C\u044B \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0443\u0435\u043C \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043A\u0430\u043A \u043C\u0438\u043D\u0438\u043C\u0443\u043C 600x240. \u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u0444\u043E\u0440\u043C\u0430\u0442\u044B PNG, JPG \u0438\u043B\u0438 \u0430\u043D\u0438\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435 GIF \u0440\u0430\u0437\u043C\u0435\u0440\u043E\u043C \u043D\u0435 \u0431\u043E\u043B\u0435\u0435 5\u041C\u0411."}),(0,i.jsx)(a.Button,{onClick:()=>null,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0431\u0430\u043D\u043D\u0435\u0440"})]})]})]}),(0,i.jsxs)(o.Box,{sx:{padding:"20px 0"},children:[(0,i.jsx)(o.Typography,{children:"\u041E\u0431\u043E \u043C\u043D\u0435"}),(0,i.jsx)(o.Typography,{children:"\u041C\u043E\u0436\u043D\u043E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0440\u0430\u0437\u043C\u0435\u0442\u043A\u0443 \u0442\u0435\u0441\u0442\u0430 \u0438 \u0441\u0441\u044B\u043B\u043A\u0438."}),(0,i.jsx)(c.Input,{value:k,onChange:e=>S(e.target.value)})]})]}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Box,{sx:{padding:"20px 0 0 0"},children:(0,i.jsx)(o.Typography,{children:"\u041F\u0440\u0435\u0434\u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440"})}),(0,i.jsxs)(o.Box,{sx:{display:"grid",gridTemplateRows:"60px 1fr",width:"300px",maxHeight:"429px",boxShadow:"0 8px 16px rgba(0,0,0,0.25)",borderRadius:"8px",overflow:"hidden"},children:[(0,i.jsx)(o.Box,{sx:{position:"relative",height:"60px",backgroundColor:r?.color?r.color:r?.default_color},children:(0,i.jsx)(o.Box,{sx:{position:"absolute",top:"16px",left:"16px",width:"92px",height:"92px",backgroundImage:y?`url(${y})`:`url(${r?.image})`,backgroundColor:r?.color?r.color:r?.default_color,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",border:`6px solid ${l.theme.palette.grey["900"]}`,borderRadius:"50%",cursor:"pointer","&:hover, &:focus":{"&::before":{content:'""',display:"block",width:"100%",height:"100%",backdropFilter:"brightness(0.75)",borderRadius:"50%",overflow:"hidden"},"&::after":{content:'"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0430\u0432\u0430\u0442\u0430\u0440"',display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"white",fontFamily:"sans-serif",textTransform:"uppercase",fontSize:"10px"}}},onClick:()=>{B.current&&B.current.click()},children:(0,i.jsx)(o.Box,{sx:{width:"28px",height:"28px",backgroundColor:l.theme.palette.grey["300"],position:"absolute",top:"0",right:"0",borderRadius:"50%"},children:(0,i.jsx)(s.AddPhotoAlternateOutlined,{sx:{width:"18px",height:"18px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})})})}),(0,i.jsxs)(o.Box,{sx:{padding:"48px 16px 16px 16px",backgroundColor:l.theme.palette.grey["900"]},children:[(0,i.jsxs)(o.Typography,{children:[r?.name,(0,i.jsxs)(o.Typography,{component:"span",children:["#",r?.id.slice(-4)]})]}),(0,i.jsx)(o.Typography,{variant:"subtitle1",children:"\u041E\u0431\u043E \u043C\u043D\u0435"}),(0,i.jsx)(o.Typography,{sx:{maxHeight:"108px",paddingBottom:"20px"},color:"lightgray",children:k}),(0,i.jsx)(o.Typography,{variant:"subtitle1",children:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430 \u043F\u0440\u043E\u0444\u0438\u043B\u044F"}),(0,i.jsxs)(o.Box,{sx:{display:"grid",gridTemplateColumns:"64px 1fr",columnGap:"16px",alignItems:"center"},children:[(0,i.jsx)(o.Box,{sx:{width:"64px",height:"64px",backgroundColor:l.theme.palette.primary.light,borderRadius:"8px",display:"grid",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(s.Edit,{sx:{fill:"#ffffff"},width:24,height:24})}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{variant:"subtitle1",color:"lightgray",children:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"}),(0,i.jsxs)(o.Typography,{color:"lightgray",children:["\u041F\u0440\u043E\u0448\u043B\u043E ",_,":",T]})]})]})]})]})]})]})]})})},407600:function(e,t,r){"use strict";r.r(t),r.d(t,{UserSettings:function(){return i.UserSettingsMemoized}});var i=r("337631")},337631:function(e,t,r){"use strict";r.r(t),r.d(t,{UserSettingsMemoized:function(){return u}}),r("857640"),r("409924");var i=r("785893"),n=r("807104"),s=r("837014"),o=r("993822"),a=r("261309"),c=r("667294"),l=r("50533"),d=r("639711");let u=(0,c.memo)(()=>{let e=(0,d.useNavigate)(),t=(0,d.useLocation)(),r=(0,l.useDispatch)(),{user:c}=(0,l.useSelector)(e=>e.user);return(0,i.jsxs)(n.Box,{sx:{padding:"60px 8px",backgroundColor:"#43454a"},children:[(0,i.jsx)(n.Typography,{children:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"}),(0,i.jsx)(n.Box,{component:"ul",children:[{id:1,title:"\u041C\u043E\u044F \u0443\u0447\u0451\u0442\u043D\u0430\u044F \u0437\u0430\u043F\u0438\u0441\u044C",path:"user-account",onClick:()=>{e("user-account")},divider:!1},{id:2,title:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",path:"user-profile",onClick:()=>{e("user-profile")},divider:!1},{id:3,title:"\u0413\u043E\u043B\u043E\u0441 \u0438 \u0432\u0438\u0434\u0435\u043E",path:"voice-and-video",onClick:()=>{e("voice-and-video")},divider:!1},{id:4,title:"\u0412\u044B\u0439\u0442\u0438",path:"logout",onClick:()=>{r((0,a.requestLogoutAction)()),c?.id&&o.socket.emit(s.Event.Client.Disconnect,c.id)},divider:!0}].map(e=>(0,i.jsxs)(i.Fragment,{children:[e.divider&&(0,i.jsx)(n.Divider,{sx:{borderColor:"rgba(255, 255, 255, 0.25)",margin:"8px 10px"}}),(0,i.jsx)(n.Box,{component:"li",onClick:e.onClick,children:(0,i.jsx)(n.Link,{underline:"none",children:(0,i.jsx)(n.Typography,{sx:{color:t.pathname.includes(e.path)?"#ffffff":"#a0a2a6"},children:e.title})})},e.id)]}))}),(0,i.jsx)(n.Typography,{children:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F"})]})})},217980:function(e,t,r){"use strict";r.r(t),r.d(t,{VoiceAndVideo:function(){return i.VoiceAndVideoMemoized}});var i=r("780227")},780227:function(e,t,r){"use strict";r.r(t),r.d(t,{VoiceAndVideoMemoized:function(){return u}}),r("857640"),r("409924");var i=r("785893"),n=r("667294"),s=r("382191"),o=r("807104"),a=r("540043"),c=r("302609"),l=r("665180"),d=r("639711");let u=(0,n.memo)(()=>{let e=(0,d.useNavigate)(),{state:t,stream:r,getUserMedia:u,stopUserMedia:p}=(0,l.useUserMedia)(),{audioInDevices:x,audioOutDevices:h,videoInDevices:g,getDeviceInfo:m}=(0,l.useDeviceInfo)(),[f,v]=(0,n.useState)(""),[y,j]=(0,n.useState)(""),[k,S]=(0,n.useState)(""),[b,C]=(0,n.useState)(!1),[A,w]=(0,n.useState)(!1),_=(0,n.useRef)(),T=(0,n.useRef)();return(0,n.useEffect)(()=>{x.length>0&&v(x[0].deviceId),h.length>0&&j(h[0].deviceId),g.length>0&&S(g[0].deviceId)},[x,h,g]),(0,n.useEffect)(()=>{"fulfilled"===t&&m()},[t]),(0,n.useEffect)(()=>{m(),u({audio:!0,video:!1})},[]),(0,n.useEffect)(()=>{if("fulfilled"===t&&r&&T.current&&_.current){let e=new MediaStream(r.getAudioTracks()),t=new MediaStream(r.getVideoTracks());T.current.srcObject=e,_.current.srcObject=t}return()=>{T.current&&_.current&&(T.current.srcObject=null,_.current.srcObject=null)}},[t,r]),(0,i.jsxs)(o.Box,{sx:{position:"relative",display:"grid",padding:"60px 40px 80px 40px",alignContent:"start",backgroundColor:"#5e6065"},children:[(0,i.jsxs)(o.Box,{sx:{display:"grid",rowGap:"8px",position:"absolute",top:"60px",right:"-40px",textAlign:"center",cursor:"pointer","&:hover svg, &:focus svg":{fill:"#ffffff"}},onClick:()=>e("/friends"),children:[(0,i.jsx)(s.CancelOutlined,{sx:{width:"36px",height:"36px",fill:"#b9bbbe"}}),(0,i.jsx)(o.Typography,{sx:{fontSize:"13px",color:"#b9bbbe"},children:"ESC"})]}),(0,i.jsx)(o.Typography,{children:"\u041D\u0430\u0441\u0440\u043E\u0439\u043A\u0438 \u0433\u043E\u043B\u043E\u0441\u0430"}),(0,i.jsxs)(o.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 320px)",alignItems:"center",columnGap:"16px",marginBottom:"16px"},children:[(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u0423\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u0432\u0432\u043E\u0434\u0430"}),(0,i.jsx)(o.Select,{id:"audioInDevice",value:f||"default",onChange:e=>v(e.target.value),fullWidth:!0,children:x.map(e=>(0,i.jsx)(o.MenuItem,{sx:{maxWidth:"320px",whiteSpace:"normal"},value:e.deviceId||"default",children:e.label||"Default"},e.deviceId))})]}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u0423\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u0432\u044B\u0432\u043E\u0434\u0430"}),(0,i.jsx)(o.Select,{id:"audioOutDevice",value:y||"default",onChange:e=>j(e.target.value),fullWidth:!0,children:h.map(e=>(0,i.jsx)(o.MenuItem,{sx:{maxWidth:"320px",whiteSpace:"normal"},value:e.deviceId||"default",children:e.label||"Default"},e.deviceId))})]}),(0,i.jsxs)(o.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 320px)",alignItems:"center",columnGap:"16px",marginBottom:"16px"},children:[(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u0413\u0440\u043E\u043C\u043A\u043E\u0441\u0442\u044C \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0430"}),(0,i.jsx)(o.Slider,{defaultValue:100,valueLabelDisplay:"auto",max:100})]}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u0413\u0440\u043E\u043C\u043A\u043E\u0441\u0442\u044C \u0437\u0432\u0443\u043A\u0430"}),(0,i.jsx)(o.Slider,{defaultValue:100,valueLabelDisplay:"auto",max:200})]})]})]}),(0,i.jsxs)(o.Box,{sx:{display:"grid",marginBottom:"16px"},children:[(0,i.jsx)(o.Typography,{children:"\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0430"}),(0,i.jsx)(o.Typography,{variant:"caption",children:"\u041F\u0440\u043E\u0431\u043B\u0435\u043C\u044B \u0441 \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u043E\u043C? \u041D\u0430\u0447\u043D\u0438\u0442\u0435 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0443 \u0438 \u0441\u043A\u0430\u0436\u0438\u0442\u0435 \u043A\u0430\u043A\u0443\u044E-\u043D\u0438\u0431\u0443\u0434\u044C \u0435\u0440\u0443\u043D\u0434\u0443 - \u043C\u044B \u0442\u0443\u0442 \u0436\u0435 \u0435\u0435 \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043C."}),(0,i.jsxs)(o.Box,{sx:{display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center",columnGap:"8px"},children:[(0,i.jsx)(a.Button,{onClick:()=>C(!b),children:b?"\u041F\u0440\u0435\u043A\u0440\u0430\u0442\u0438\u0442\u044C \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0443":"\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043F\u0440\u043E\u0432\u0435\u0440\u0438\u043C"}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.LinearProgress,{variant:"determinate",value:0}),b&&(0,i.jsx)(o.Typography,{variant:"caption",children:"\u0412\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u043E\u0434\u0438\u043C \u0432\u0430\u0448 \u043F\u0440\u0435\u043A\u0440\u0430\u0441\u043D\u044B\u0439 \u0433\u043E\u043B\u043E\u0441"})]}),(0,i.jsx)(o.Box,{component:"audio",ref:T,autoPlay:!0,muted:!b})]}),(0,i.jsxs)(o.Typography,{variant:"caption",children:["\u041D\u0443\u0436\u043D\u0430 \u043F\u043E\u043C\u043E\u0449\u044C \u0441 \u0433\u043E\u043B\u043E\u0441\u043E\u0432\u044B\u043C \u0438\u043B\u0438 \u0432\u0438\u0434\u0435\u043E\u0447\u0430\u0442\u043E\u043C? \u041E\u0437\u043D\u0430\u043A\u043E\u043C\u044C\u0442\u0435\u0441\u044C \u0441 \u043D\u0430\u0448\u0438\u043C"," ",(0,i.jsx)(o.Link,{children:"\u0440\u0443\u043A\u043E\u0432\u043E\u0434\u0441\u0442\u0432\u043E\u043C \u043F\u043E \u0443\u0441\u0442\u0440\u0430\u043D\u0435\u043D\u0438\u044E \u043D\u0435\u043F\u043E\u043B\u0430\u0434\u043E\u043A"}),"."]})]}),(0,i.jsx)(o.Divider,{sx:{margin:"32px 0",borderColor:c.theme.palette.grey["800"]}}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u0420\u0435\u0436\u0438\u043C \u0432\u0432\u043E\u0434\u0430"}),(0,i.jsxs)(o.RadioGroup,{defaultValue:"voice",children:[(0,i.jsx)(o.FormControlLabel,{value:"voice",control:(0,i.jsx)(o.Radio,{}),label:"\u0410\u043A\u0442\u0438\u0432\u0430\u0446\u0438\u044F \u043F\u043E \u0433\u043E\u043B\u043E\u0441\u0443"}),(0,i.jsx)(o.FormControlLabel,{value:"button",control:(0,i.jsx)(o.Radio,{}),label:"\u0420\u0435\u0436\u0438\u043C \u0440\u0430\u0446\u0438\u0438 (\u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u043D\u044B\u0439)"})]})]}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u0427\u0443\u0432\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u044C \u0432\u0432\u043E\u0434\u0430"}),(0,i.jsx)(o.Slider,{defaultValue:40,valueLabelDisplay:"auto",max:100})]}),(0,i.jsx)(o.Divider,{sx:{margin:"32px 0",borderColor:c.theme.palette.grey["800"]}}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u041D\u0430\u0441\u0440\u043E\u0439\u043A\u0438 \u0432\u0438\u0434\u0435\u043E"}),(0,i.jsx)(o.Box,{sx:{display:"grid",rowGap:"16px"},children:(0,i.jsxs)(o.Box,{sx:{position:"relative",width:"100%",height:"220px",backgroundColor:c.theme.palette.grey["500"],display:"grid",alignItems:"center",justifyContent:"center",borderRadius:"8px",boxShadow:`inset 0 0 0 1px ${c.theme.palette.grey["800"]}`},children:[(0,i.jsx)(o.Box,{sx:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},component:"video",ref:_,autoPlay:!0,muted:!0}),!A&&(0,i.jsx)(a.Button,{onClick:()=>{u({audio:!0,video:!0}),w(!0)},children:"\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C \u0432\u0438\u0434\u0435\u043E"}),A&&(0,i.jsx)(a.Button,{onClick:()=>{p(),w(!1)},children:"\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0442\u044C \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0443"})]})})]}),(0,i.jsxs)(o.Box,{children:[(0,i.jsxs)(o.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(2, max-content)",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(o.Typography,{children:"\u041F\u0440\u0435\u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u0432\u0438\u0434\u0435\u043E (\u0432\u0441\u0435\u0433\u0434\u0430)"}),(0,i.jsx)(o.Switch,{checked:!1})]}),(0,i.jsx)(o.Typography,{children:"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u0435\u0434\u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u043A\u0430\u0436\u0434\u044B\u0439 \u0440\u0430\u0437, \u043A\u0430\u043A \u0432\u044B \u0432\u043A\u043B\u044E\u0447\u0430\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u043E"})]}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u041A\u0430\u043C\u0435\u0440\u0430"}),(0,i.jsx)(o.Select,{id:"videoInDevice",value:k||"default",onChange:e=>S(e.target.value),fullWidth:!0,children:g.map(e=>(0,i.jsx)(o.MenuItem,{sx:{maxWidth:"320px",whiteSpace:"normal"},value:e.deviceId||"default",children:e.label||"Default"},e.deviceId))})]}),(0,i.jsx)(o.Divider,{sx:{margin:"32px 0",borderColor:c.theme.palette.grey["800"]}}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0435"}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u0410\u0443\u0434\u0438\u043E \u043A\u043E\u0434\u0435\u043A"}),(0,i.jsx)(o.Box,{sx:{border:"1px solid #000000"},children:(0,i.jsx)(o.Typography,{children:"Video Calls \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442 \u043E\u0442\u0431\u043E\u0440\u043D\u044B\u0439, \u043E\u0440\u0433\u0430\u043D\u0438\u0447\u0435\u0441\u043A\u0438\u0439, \u0432\u044B\u0440\u0430\u0449\u0435\u043D\u043D\u044B\u0439 \u043D\u0430 \u0434\u043E\u043C\u0430\u0448\u043D\u0435\u0439 \u0433\u0440\u044F\u0434\u043A\u0435 \u0433\u043E\u043B\u043E\u0441\u043E\u0432\u043E\u0439 \u043A\u043E\u0434\u0435\u043A Opus,"})})]}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u0433\u043E\u043B\u043E\u0441\u0430"}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u042D\u0445\u043E\u043F\u043E\u0434\u0430\u0432\u043B\u0435\u043D\u0438\u0435"}),(0,i.jsx)(o.Switch,{checked:!0})]}),(0,i.jsx)(o.Divider,{sx:{margin:"8px 0",borderColor:c.theme.palette.grey["800"]}}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u0428\u0443\u043C\u043E\u043F\u043E\u0434\u0430\u0432\u043B\u0435\u043D\u0438\u0435"}),(0,i.jsx)(o.Switch,{checked:!1})]}),(0,i.jsx)(o.Divider,{sx:{margin:"8px 0",borderColor:c.theme.palette.grey["800"]}}),(0,i.jsxs)(o.Box,{children:[(0,i.jsx)(o.Typography,{children:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0430 \u0440\u0435\u0433\u0443\u043B\u0438\u0440\u043E\u0432\u043A\u0430 \u0443\u0441\u0438\u043B\u0435\u043D\u0438\u044F"}),(0,i.jsx)(o.Switch,{checked:!0})]}),(0,i.jsx)(o.Divider,{sx:{margin:"8px 0",borderColor:c.theme.palette.grey["800"]}})]}),(0,i.jsx)(o.Box,{children:(0,i.jsx)(a.Button,{children:"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0433\u043E\u043B\u043E\u0441\u043E\u0432\u044B\u0435 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"})})]})]})})},863372:function(e,t,r){"use strict";r.r(t),r.d(t,{Settings:function(){return i.Settings}});var i=r("950072")},31417:function(e,t,r){"use strict";r.r(t),r.d(t,{ModalChangeUserEmailMemoized:function(){return u}});var i=r("785893"),n=r("382191"),s=r("807104"),o=r("540043"),a=r("268794"),c=r("95831"),l=r("667294"),d=r("50533");let u=(0,l.memo)(({isOpen:e,onClose:t})=>{let r=(0,d.useDispatch)(),[u,p]=(0,l.useState)(""),[x,h]=(0,l.useState)("");return(0,i.jsx)(s.Modal,{open:e,onBackdropClick:t,disableEnforceFocus:!0,children:(0,i.jsxs)(s.Box,{sx:{width:"440px",backgroundColor:"#4a4c52",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"5px",overflow:"hidden"},children:[(0,i.jsxs)(s.Box,{sx:{position:"relative",display:"grid",rowGap:"8px",padding:"24px 16px"},children:[(0,i.jsx)(s.Typography,{sx:{fontSize:"24px",color:"#ffffff",textAlign:"center"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B"}),(0,i.jsx)(s.Typography,{sx:{fontSize:"16px",color:"#c0c1c4",textAlign:"center"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u0432\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B \u0438 \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0430\u0440\u043E\u043B\u044C."}),(0,i.jsx)(s.Box,{sx:{position:"absolute",top:"16px",right:"16px",cursor:"pointer","& svg":{fill:"#c0c1c4"},"& svg:hover, & svg:focus":{fill:"#ffffff"}},onClick:t,children:(0,i.jsx)(n.Close,{})})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",rowGap:"16px",padding:"0 16px 24px 16px"},children:[(0,i.jsxs)(s.Box,{sx:{display:"grid",rowGap:"8px"},children:[(0,i.jsx)(s.Typography,{sx:{fontSize:"14px",color:"#c0c1c4",textTransform:"uppercase"},children:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430"}),(0,i.jsx)(a.Input,{type:"email",id:"email",name:"email",value:u,onChange:e=>p(e.target.value),autoComplete:"off"})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",rowGap:"8px"},children:[(0,i.jsx)(s.Typography,{sx:{fontSize:"14px",color:"#c0c1c4",textTransform:"uppercase"},children:"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"}),(0,i.jsx)(a.Input,{type:"password",id:"password",name:"password",value:x,onChange:e=>h(e.target.value),autoComplete:"off"})]})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",justifyContent:"end",gridTemplateColumns:"repeat(2, max-content)",columnGap:"8px",padding:"16px",backgroundColor:"#43454a"},children:[(0,i.jsx)(s.Link,{sx:{display:"grid",alignItems:"center",color:"#ffffff",cursor:"pointer",padding:"2px 16px"},underline:"hover",onClick:()=>{p(""),h(""),t()},children:(0,i.jsx)(s.Typography,{sx:{fontSize:"14px"},children:"\u041E\u0442\u043C\u0435\u043D\u0430"})}),(0,i.jsx)(o.Button,{onClick:()=>{u.trim()&&x.trim()&&(r((0,c.requestUpdateUserAction)({email:u,password:x})),t())},children:"\u0413\u043E\u0442\u043E\u0432\u043E"})]})]})})})},53869:function(e,t,r){"use strict";r.r(t),r.d(t,{ModalChangeUserNameMemoized:function(){return u}});var i=r("785893"),n=r("382191"),s=r("807104"),o=r("540043"),a=r("268794"),c=r("95831"),l=r("667294"),d=r("50533");let u=(0,l.memo)(({isOpen:e,onClose:t})=>{let r=(0,d.useDispatch)(),{user:u}=(0,d.useSelector)(e=>e.user),[p,x]=(0,l.useState)(u?.name),[h,g]=(0,l.useState)("");return(0,i.jsx)(s.Modal,{open:e,onBackdropClick:t,disableEnforceFocus:!0,children:(0,i.jsxs)(s.Box,{sx:{width:"440px",backgroundColor:"#4a4c52",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"5px",overflow:"hidden"},children:[(0,i.jsxs)(s.Box,{sx:{position:"relative",display:"grid",rowGap:"8px",padding:"24px 16px"},children:[(0,i.jsx)(s.Typography,{sx:{fontSize:"24px",color:"#ffffff",textAlign:"center"},children:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0438\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"}),(0,i.jsx)(s.Typography,{sx:{fontSize:"16px",color:"#c0c1c4",textAlign:"center"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u0432\u043E\u0435 \u0438\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0438 \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0430\u0440\u043E\u043B\u044C."}),(0,i.jsx)(s.Box,{sx:{position:"absolute",top:"16px",right:"16px",cursor:"pointer","& svg":{fill:"#c0c1c4"},"& svg:hover, & svg:focus":{fill:"#ffffff"}},onClick:t,children:(0,i.jsx)(n.Close,{sx:{}})})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",rowGap:"16px",padding:"0 16px 24px 16px"},children:[(0,i.jsxs)(s.Box,{sx:{display:"grid",rowGap:"8px"},children:[(0,i.jsx)(s.Typography,{sx:{fontSize:"14px",color:"#c0c1c4",textTransform:"uppercase"},children:"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"}),(0,i.jsx)(a.Input,{type:"text",id:"name",name:"name",value:p,onChange:e=>x(e.target.value),autoComplete:"off"})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",rowGap:"8px"},children:[(0,i.jsx)(s.Typography,{sx:{fontSize:"14px",color:"#c0c1c4",textTransform:"uppercase"},children:"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"}),(0,i.jsx)(a.Input,{type:"password",id:"password",name:"password",value:h,onChange:e=>g(e.target.value),autoComplete:"off"})]})]}),(0,i.jsxs)(s.Box,{sx:{display:"grid",justifyContent:"end",gridTemplateColumns:"repeat(2, max-content)",columnGap:"8px",padding:"16px",backgroundColor:"#43454a"},children:[(0,i.jsx)(s.Link,{sx:{display:"grid",alignItems:"center",color:"#ffffff",cursor:"pointer",padding:"2px 16px"},underline:"hover",onClick:()=>{x(u?.name),g(""),t()},children:(0,i.jsx)(s.Typography,{sx:{fontSize:"14px"},children:"\u041E\u0442\u043C\u0435\u043D\u0430"})}),(0,i.jsx)(o.Button,{onClick:()=>{p?.trim()&&h.trim()&&(r((0,c.requestUpdateUserAction)({name:p,password:h})),t())},children:"\u0413\u043E\u0442\u043E\u0432\u043E"})]})]})})})},950072:function(e,t,r){"use strict";r.r(t),r.d(t,{Settings:function(){return c}});var i=r("785893"),n=r("667294"),s=r("639711"),o=r("897133"),a=r("407600");let c=()=>{let e=(0,s.useNavigate)();return(0,n.useEffect)(()=>{e("user-account")},[]),(0,i.jsx)("div",{className:(0,o.css)`
        display: grid;
        width: 100%;
        height: 100%;
        background-color: #fefefe;
      `,children:(0,i.jsxs)("div",{className:(0,o.css)`
          display: grid;
          justify-content: center;
          grid-template-columns: 224px 740px;
          height: 100%;
          background-image: linear-gradient(to right, #43454a 50%, #5e6065 50%);
        `,children:[(0,i.jsx)(a.UserSettings,{}),(0,i.jsx)(s.Outlet,{})]})})}},950994:function(e,t,r){"use strict";r.r(t),r.d(t,{userSaga:function(){return l}});var i=r("624970"),n=r("95831"),s=r("946262");let o=function*(){try{let e=yield(0,i.call)(s.getUserService);yield(0,i.put)((0,n.successGetUserAction)(e.data))}catch(e){console.error(e),yield(0,i.put)((0,n.failureGetUserAction)(e))}},a=function*({payload:e}){try{let t=yield(0,i.call)(s.updateUserService,e);yield(0,i.put)((0,n.successUpdateUserAction)(t.data))}catch(e){console.error(e),yield(0,i.put)((0,n.failureUpdateUserAction)(e))}},c=function*(){try{let e=yield(0,i.call)(s.getUsersService);yield(0,i.put)((0,n.successGetUsersAction)(e.data))}catch(e){console.error(e)}},l=function*(){yield(0,i.all)([(0,i.takeEvery)(n.requestGetUserAction.type,o),(0,i.takeEvery)(n.requestUpdateUserAction.type,a),(0,i.takeEvery)(n.requestGetUsersAction.type,c)])}},936192:function(e,t,r){"use strict";r.r(t),r.d(t,{ApiUrl:function(){return i}});let i={User:"/user",Users:"/users"}},946262:function(e,t,r){"use strict";r.r(t),r.d(t,{getUserService:function(){return s},getUsersService:function(){return a},updateUserService:function(){return o}});var i=r("859735"),n=r("936192");let s=()=>i.axiosInstance.request({method:"GET",url:n.ApiUrl.User}),o=e=>i.axiosInstance.request({method:"PATCH",url:n.ApiUrl.User,data:e}),a=()=>i.axiosInstance.request({method:"GET",url:n.ApiUrl.Users})},95831:function(e,t,r){"use strict";r.r(t),r.d(t,{failureGetUserAction:function(){return u},failureUpdateUserAction:function(){return h},requestGetUserAction:function(){return l},requestGetUsersAction:function(){return f},requestUpdateUserAction:function(){return p},setMediaAction:function(){return j},successGetUserAction:function(){return d},successGetUsersAction:function(){return v},successUpdateUserAction:function(){return x},userReducer:function(){return k}});var i=r("829829");let n=(0,i.createSlice)({name:"user",initialState:{user:null,users:[],media:{audio:!0,video:!0},loading:{user:!1,users:!1},error:{user:null,users:null},audioInDevice:"",audioOutDevice:"",friends:[],invites:[],approvals:[],isCall:!1,isIncomingCall:!1,isCallAccepted:!1,isCallCanceled:!1,channels:[],channelMessages:[]},reducers:{requestGetUserAction:e=>{e.loading.user=!0},successGetUserAction:(e,{payload:t})=>{e.user=t,e.loading.user=!1},failureGetUserAction:(e,{payload:t})=>{e.error.user=t,e.loading.user=!1},requestUpdateUserAction:(e,{payload:t})=>{e.loading.user=!0},successUpdateUserAction:(e,{payload:t})=>{e.user=t,e.loading.user=!1},failureUpdateUserAction:(e,{payload:t})=>{e.error.user=t,e.loading.user=!1},requestGetUsersAction:e=>{e.loading.users=!0},successGetUsersAction:(e,{payload:t})=>{e.users=t,e.loading.users=!1},failureGetUsersAction:(e,{payload:t})=>{e.error.users=t,e.loading.users=!1},setIsCall:(e,{payload:t})=>{e.isCall=t},setIsIncomingCall:(e,{payload:t})=>{e.isIncomingCall=t},setIsCallAccepted:(e,{payload:t})=>{e.isCallAccepted=t},setIsCallCanceled:(e,{payload:t})=>{e.isCallCanceled=t},setAudioInDevice:(e,{payload:t})=>{e.audioInDevice=t},setAudioOutDevice:(e,{payload:t})=>{e.audioOutDevice=t},setMediaAction:(e,{payload:t})=>{e.media=t}}}),{setIsCall:s,setIsIncomingCall:o,setIsCallAccepted:a,setIsCallCanceled:c,requestGetUserAction:l,successGetUserAction:d,failureGetUserAction:u,requestUpdateUserAction:p,successUpdateUserAction:x,failureUpdateUserAction:h,setAudioInDevice:g,setAudioOutDevice:m,requestGetUsersAction:f,successGetUsersAction:v,failureGetUsersAction:y,setMediaAction:j}=n.actions,k=n.reducer},168539:function(e,t,r){"use strict";r.r(t),r.d(t,{userApprovalsSelector:function(){return n},userUserSelector:function(){return i}});let i=e=>e.user.user,n=e=>e.user.approvals},448325:function(e,t,r){"use strict";r.r(t),r.d(t,{getHiddenUserEmail:function(){return i}});let i=e=>{let t=e.search("@");return Array(t).fill("*").join("")+e.slice(t)}}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return n[e].call(r.exports,r,r.exports,o),r.exports}o.m=n,o.es=function(e,t){return Object.keys(e).forEach(function(r){"default"!==r&&!Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),e},o.p="/",e=[],o.O=function(t,r,i,n){if(r){n=n||0;for(var s=e.length;s>0&&e[s-1][2]>n;s--)e[s]=e[s-1];e[s]=[r,i,n];return}for(var a=1/0,s=0;s<e.length;s++){for(var r=e[s][0],i=e[s][1],n=e[s][2],c=!0,l=0;l<r.length;l++)a>=n&&Object.keys(o.O).every(function(e){return o.O[e](r[l])})?r.splice(l--,1):(c=!1,n<a&&(a=n));if(c){e.splice(s--,1);var d=i();void 0!==d&&(t=d)}}return t},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={980:0},o.O.j=function(e){return 0===t[e]},r=function(e,r){var i=r[0],n=r[1],s=r[2],a,c,l=0;if(i.some(function(e){return 0!==t[e]})){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(s)var d=s(o)}for(e&&e(r);l<i.length;l++)c=i[l],o.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return o.O(d)},(i=globalThis.webpackChunkvideo_calls=globalThis.webpackChunkvideo_calls||[]).forEach(r.bind(null,0)),i.push=r.bind(null,i.push.bind(i));var a=o.O(void 0,["126","72","361","118","141"],function(){return o("569506")});o.O(a)})();